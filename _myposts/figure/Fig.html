<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel='stylesheet' href='data:text/css;base64,LyogcmVxdWlyZWQgc3R5bGVzICovDQoNCi5sZWFmbGV0LW1hcC1wYW5lLA0KLmxlYWZsZXQtdGlsZSwNCi5sZWFmbGV0LW1hcmtlci1pY29uLA0KLmxlYWZsZXQtbWFya2VyLXNoYWRvdywNCi5sZWFmbGV0LXRpbGUtcGFuZSwNCi5sZWFmbGV0LW92ZXJsYXktcGFuZSwNCi5sZWFmbGV0LXNoYWRvdy1wYW5lLA0KLmxlYWZsZXQtbWFya2VyLXBhbmUsDQoubGVhZmxldC1wb3B1cC1wYW5lLA0KLmxlYWZsZXQtb3ZlcmxheS1wYW5lIHN2ZywNCi5sZWFmbGV0LXpvb20tYm94LA0KLmxlYWZsZXQtaW1hZ2UtbGF5ZXIsDQoubGVhZmxldC1sYXllciB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCWxlZnQ6IDA7DQoJdG9wOiAwOw0KCX0NCi5sZWFmbGV0LWNvbnRhaW5lciB7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCgktbXMtdG91Y2gtYWN0aW9uOiBub25lOw0KCX0NCi5sZWFmbGV0LXRpbGUsDQoubGVhZmxldC1tYXJrZXItaWNvbiwNCi5sZWFmbGV0LW1hcmtlci1zaGFkb3cgew0KCS13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQoJICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsNCgkgICAgICAgIHVzZXItc2VsZWN0OiBub25lOw0KCX0NCi5sZWFmbGV0LW1hcmtlci1pY29uLA0KLmxlYWZsZXQtbWFya2VyLXNoYWRvdyB7DQoJZGlzcGxheTogYmxvY2s7DQoJfQ0KLyogbWFwIGlzIGJyb2tlbiBpbiBGRiBpZiB5b3UgaGF2ZSBtYXgtd2lkdGg6IDEwMCUgb24gdGlsZXMgKi8NCi5sZWFmbGV0LWNvbnRhaW5lciBpbWcgew0KCW1heC13aWR0aDogbm9uZSAhaW1wb3J0YW50Ow0KCX0NCi8qIHN0dXBpZCBBbmRyb2lkIDIgZG9lc24ndCB1bmRlcnN0YW5kICJtYXgtd2lkdGg6IG5vbmUiIHByb3Blcmx5ICovDQoubGVhZmxldC1jb250YWluZXIgaW1nLmxlYWZsZXQtaW1hZ2UtbGF5ZXIgew0KCW1heC13aWR0aDogMTUwMDBweCAhaW1wb3J0YW50Ow0KCX0NCi5sZWFmbGV0LXRpbGUgew0KCWZpbHRlcjogaW5oZXJpdDsNCgl2aXNpYmlsaXR5OiBoaWRkZW47DQoJfQ0KLmxlYWZsZXQtdGlsZS1sb2FkZWQgew0KCXZpc2liaWxpdHk6IGluaGVyaXQ7DQoJfQ0KLmxlYWZsZXQtem9vbS1ib3ggew0KCXdpZHRoOiAwOw0KCWhlaWdodDogMDsNCgl9DQoNCi5sZWFmbGV0LXRpbGUtcGFuZSAgICB7IHotaW5kZXg6IDI7IH0NCi5sZWFmbGV0LW9iamVjdHMtcGFuZSB7IHotaW5kZXg6IDM7IH0NCi5sZWFmbGV0LW92ZXJsYXktcGFuZSB7IHotaW5kZXg6IDQ7IH0NCi5sZWFmbGV0LXNoYWRvdy1wYW5lICB7IHotaW5kZXg6IDU7IH0NCi5sZWFmbGV0LW1hcmtlci1wYW5lICB7IHotaW5kZXg6IDY7IH0NCi5sZWFmbGV0LXBvcHVwLXBhbmUgICB7IHotaW5kZXg6IDc7IH0NCg0KDQovKiBjb250cm9sIHBvc2l0aW9uaW5nICovDQoNCi5sZWFmbGV0LWNvbnRyb2wgew0KCXBvc2l0aW9uOiByZWxhdGl2ZTsNCgl6LWluZGV4OiA3Ow0KCXBvaW50ZXItZXZlbnRzOiBhdXRvOw0KCX0NCi5sZWFmbGV0LXRvcCwNCi5sZWFmbGV0LWJvdHRvbSB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXotaW5kZXg6IDEwMDA7DQoJcG9pbnRlci1ldmVudHM6IG5vbmU7DQoJfQ0KLmxlYWZsZXQtdG9wIHsNCgl0b3A6IDA7DQoJfQ0KLmxlYWZsZXQtcmlnaHQgew0KCXJpZ2h0OiAwOw0KCX0NCi5sZWFmbGV0LWJvdHRvbSB7DQoJYm90dG9tOiAwOw0KCX0NCi5sZWFmbGV0LWxlZnQgew0KCWxlZnQ6IDA7DQoJfQ0KLmxlYWZsZXQtY29udHJvbCB7DQoJZmxvYXQ6IGxlZnQ7DQoJY2xlYXI6IGJvdGg7DQoJfQ0KLmxlYWZsZXQtcmlnaHQgLmxlYWZsZXQtY29udHJvbCB7DQoJZmxvYXQ6IHJpZ2h0Ow0KCX0NCi5sZWFmbGV0LXRvcCAubGVhZmxldC1jb250cm9sIHsNCgltYXJnaW4tdG9wOiAxMHB4Ow0KCX0NCi5sZWFmbGV0LWJvdHRvbSAubGVhZmxldC1jb250cm9sIHsNCgltYXJnaW4tYm90dG9tOiAxMHB4Ow0KCX0NCi5sZWFmbGV0LWxlZnQgLmxlYWZsZXQtY29udHJvbCB7DQoJbWFyZ2luLWxlZnQ6IDEwcHg7DQoJfQ0KLmxlYWZsZXQtcmlnaHQgLmxlYWZsZXQtY29udHJvbCB7DQoJbWFyZ2luLXJpZ2h0OiAxMHB4Ow0KCX0NCg0KDQovKiB6b29tIGFuZCBmYWRlIGFuaW1hdGlvbnMgKi8NCg0KLmxlYWZsZXQtZmFkZS1hbmltIC5sZWFmbGV0LXRpbGUsDQoubGVhZmxldC1mYWRlLWFuaW0gLmxlYWZsZXQtcG9wdXAgew0KCW9wYWNpdHk6IDA7DQoJLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgbGluZWFyOw0KCSAgIC1tb3otdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGxpbmVhcjsNCgkgICAgIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBsaW5lYXI7DQoJICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgbGluZWFyOw0KCX0NCi5sZWFmbGV0LWZhZGUtYW5pbSAubGVhZmxldC10aWxlLWxvYWRlZCwNCi5sZWFmbGV0LWZhZGUtYW5pbSAubGVhZmxldC1tYXAtcGFuZSAubGVhZmxldC1wb3B1cCB7DQoJb3BhY2l0eTogMTsNCgl9DQoNCi5sZWFmbGV0LXpvb20tYW5pbSAubGVhZmxldC16b29tLWFuaW1hdGVkIHsNCgktd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDAuMjVzIGN1YmljLWJlemllcigwLDAsMC4yNSwxKTsNCgkgICAtbW96LXRyYW5zaXRpb246ICAgIC1tb3otdHJhbnNmb3JtIDAuMjVzIGN1YmljLWJlemllcigwLDAsMC4yNSwxKTsNCgkgICAgIC1vLXRyYW5zaXRpb246ICAgICAgLW8tdHJhbnNmb3JtIDAuMjVzIGN1YmljLWJlemllcigwLDAsMC4yNSwxKTsNCgkgICAgICAgIHRyYW5zaXRpb246ICAgICAgICAgdHJhbnNmb3JtIDAuMjVzIGN1YmljLWJlemllcigwLDAsMC4yNSwxKTsNCgl9DQoubGVhZmxldC16b29tLWFuaW0gLmxlYWZsZXQtdGlsZSwNCi5sZWFmbGV0LXBhbi1hbmltIC5sZWFmbGV0LXRpbGUsDQoubGVhZmxldC10b3VjaGluZyAubGVhZmxldC16b29tLWFuaW1hdGVkIHsNCgktd2Via2l0LXRyYW5zaXRpb246IG5vbmU7DQoJICAgLW1vei10cmFuc2l0aW9uOiBub25lOw0KCSAgICAgLW8tdHJhbnNpdGlvbjogbm9uZTsNCgkgICAgICAgIHRyYW5zaXRpb246IG5vbmU7DQoJfQ0KDQoubGVhZmxldC16b29tLWFuaW0gLmxlYWZsZXQtem9vbS1oaWRlIHsNCgl2aXNpYmlsaXR5OiBoaWRkZW47DQoJfQ0KDQoNCi8qIGN1cnNvcnMgKi8NCg0KLmxlYWZsZXQtY2xpY2thYmxlIHsNCgljdXJzb3I6IHBvaW50ZXI7DQoJfQ0KLmxlYWZsZXQtY29udGFpbmVyIHsNCgljdXJzb3I6IC13ZWJraXQtZ3JhYjsNCgljdXJzb3I6ICAgIC1tb3otZ3JhYjsNCgl9DQoubGVhZmxldC1wb3B1cC1wYW5lLA0KLmxlYWZsZXQtY29udHJvbCB7DQoJY3Vyc29yOiBhdXRvOw0KCX0NCi5sZWFmbGV0LWRyYWdnaW5nLA0KLmxlYWZsZXQtZHJhZ2dpbmcgLmxlYWZsZXQtY2xpY2thYmxlLA0KLmxlYWZsZXQtZHJhZ2dpbmcgLmxlYWZsZXQtY29udGFpbmVyIHsNCgljdXJzb3I6IG1vdmU7DQoJY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nOw0KCWN1cnNvcjogICAgLW1vei1ncmFiYmluZzsNCgl9DQoNCg0KLyogdmlzdWFsIHR3ZWFrcyAqLw0KDQoubGVhZmxldC1jb250YWluZXIgew0KCWJhY2tncm91bmQ6ICNkZGQ7DQoJb3V0bGluZTogMDsNCgl9DQoubGVhZmxldC1jb250YWluZXIgYSB7DQoJY29sb3I6ICMwMDc4QTg7DQoJfQ0KLmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1hY3RpdmUgew0KCW91dGxpbmU6IDJweCBzb2xpZCBvcmFuZ2U7DQoJfQ0KLmxlYWZsZXQtem9vbS1ib3ggew0KCWJvcmRlcjogMnB4IGRvdHRlZCAjMDVmOw0KCWJhY2tncm91bmQ6IHdoaXRlOw0KCW9wYWNpdHk6IDAuNTsNCgl9DQoNCg0KLyogZ2VuZXJhbCB0eXBvZ3JhcGh5ICovDQoubGVhZmxldC1jb250YWluZXIgew0KCWZvbnQ6IDEycHgvMS41ICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7DQoJfQ0KDQoNCi8qIGdlbmVyYWwgdG9vbGJhciBzdHlsZXMgKi8NCg0KLmxlYWZsZXQtYmFyIHsNCglib3gtc2hhZG93OiAwIDAgOHB4IHJnYmEoMCwwLDAsMC40KTsNCglib3JkZXI6IDFweCBzb2xpZCAjODg4Ow0KCS13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4Ow0KCSAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KCX0NCi5sZWFmbGV0LWJhci1wYXJ0IHsNCgliYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7DQoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNhYWE7DQoJfQ0KLmxlYWZsZXQtYmFyLXBhcnQtdG9wIHsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOw0KCSAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4IDRweCAwIDA7DQoJfQ0KLmxlYWZsZXQtYmFyLXBhcnQtYm90dG9tIHsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4Ow0KCSAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDRweCA0cHg7DQoJYm9yZGVyLWJvdHRvbTogbm9uZTsNCgl9DQoNCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWJhciB7DQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxMHB4Ow0KCSAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCgl9DQoubGVhZmxldC10b3VjaCAubGVhZmxldC1iYXItcGFydCB7DQoJYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHJnYmEoMCwwLDAsMC4zKTsNCgl9DQoubGVhZmxldC10b3VjaCAubGVhZmxldC1iYXItcGFydC10b3Agew0KCS13ZWJraXQtYm9yZGVyLXJhZGl1czogN3B4IDdweCAwIDA7DQoJICAgICAgICBib3JkZXItcmFkaXVzOiA3cHggN3B4IDAgMDsNCgl9DQoubGVhZmxldC10b3VjaCAubGVhZmxldC1iYXItcGFydC1ib3R0b20gew0KCS13ZWJraXQtYm9yZGVyLXJhZGl1czogMCAwIDdweCA3cHg7DQoJICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgN3B4IDdweDsNCglib3JkZXItYm90dG9tOiBub25lOw0KCX0NCg0KDQovKiB6b29tIGNvbnRyb2wgKi8NCg0KLmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LWNvbnRyb2wtem9vbSB7DQoJbWFyZ2luLWxlZnQ6IDEzcHg7DQoJbWFyZ2luLXRvcDogMTJweDsNCgl9DQoubGVhZmxldC1jb250cm9sLXpvb20gYSB7DQoJd2lkdGg6IDIycHg7DQoJaGVpZ2h0OiAyMnB4Ow0KCXRleHQtYWxpZ246IGNlbnRlcjsNCgl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJY29sb3I6IGJsYWNrOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtem9vbSBhLA0KLmxlYWZsZXQtY29udHJvbC1sYXllcnMtdG9nZ2xlIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlOw0KCWJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQoJZGlzcGxheTogYmxvY2s7DQoJfQ0KLmxlYWZsZXQtY29udHJvbC16b29tIGE6aG92ZXIgew0KCWJhY2tncm91bmQtY29sb3I6ICNmZmY7DQoJY29sb3I6ICM3Nzc7DQoJfQ0KLmxlYWZsZXQtY29udHJvbC16b29tLWluIHsNCglmb250OiBib2xkIDE4cHgvMjRweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtem9vbS1vdXQgew0KCWZvbnQ6IGJvbGQgMjNweC8yMHB4IFRhaG9tYSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsNCgl9DQoubGVhZmxldC1jb250cm9sLXpvb20gYS5sZWFmbGV0LWNvbnRyb2wtem9vbS1kaXNhYmxlZCB7DQoJY3Vyc29yOiBkZWZhdWx0Ow0KCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsNCgljb2xvcjogI2JiYjsNCgl9DQoNCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtem9vbSBhIHsNCgl3aWR0aDogMzBweDsNCgloZWlnaHQ6IDMwcHg7DQoJfQ0KLmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtY29udHJvbC16b29tLWluIHsNCglmb250LXNpemU6IDI0cHg7DQoJbGluZS1oZWlnaHQ6IDI5cHg7DQoJfQ0KLmxlYWZsZXQtdG91Y2ggLmxlYWZsZXQtY29udHJvbC16b29tLW91dCB7DQoJZm9udC1zaXplOiAyOHB4Ow0KCWxpbmUtaGVpZ2h0OiAyNHB4Ow0KCX0NCg0KLyogbGF5ZXJzIGNvbnRyb2wgKi8NCg0KLmxlYWZsZXQtY29udHJvbC1sYXllcnMgew0KCWJveC1zaGFkb3c6IDAgMXB4IDdweCByZ2JhKDAsMCwwLDAuNCk7DQoJYmFja2dyb3VuZDogI2Y4ZjhmOTsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDhweDsNCgkgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCgl9DQoubGVhZmxldC1jb250cm9sLWxheWVycy10b2dnbGUgew0KCWJhY2tncm91bmQtaW1hZ2U6IHVybChpbWFnZXMvbGF5ZXJzLnBuZyk7DQoJd2lkdGg6IDM2cHg7DQoJaGVpZ2h0OiAzNnB4Ow0KCX0NCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXRvZ2dsZSB7DQoJd2lkdGg6IDQ0cHg7DQoJaGVpZ2h0OiA0NHB4Ow0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzIC5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWxpc3QsDQoubGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCAubGVhZmxldC1jb250cm9sLWxheWVycy10b2dnbGUgew0KCWRpc3BsYXk6IG5vbmU7DQoJfQ0KLmxlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQgLmxlYWZsZXQtY29udHJvbC1sYXllcnMtbGlzdCB7DQoJZGlzcGxheTogYmxvY2s7DQoJcG9zaXRpb246IHJlbGF0aXZlOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkIHsNCglwYWRkaW5nOiA2cHggMTBweCA2cHggNnB4Ow0KCWNvbG9yOiAjMzMzOw0KCWJhY2tncm91bmQ6ICNmZmY7DQoJfQ0KLmxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3Igew0KCW1hcmdpbi10b3A6IDJweDsNCglwb3NpdGlvbjogcmVsYXRpdmU7DQoJdG9wOiAxcHg7DQoJfQ0KLmxlYWZsZXQtY29udHJvbC1sYXllcnMgbGFiZWwgew0KCWRpc3BsYXk6IGJsb2NrOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlcGFyYXRvciB7DQoJaGVpZ2h0OiAwOw0KCWJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkOw0KCW1hcmdpbjogNXB4IC0xMHB4IDVweCAtNnB4Ow0KCX0NCg0KDQovKiBhdHRyaWJ1dGlvbiBhbmQgc2NhbGUgY29udHJvbHMgKi8NCg0KLmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24gew0KCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTsNCglib3gtc2hhZG93OiAwIDAgNXB4ICNiYmI7DQoJbWFyZ2luOiAwOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24sDQoubGVhZmxldC1jb250cm9sLXNjYWxlLWxpbmUgew0KCXBhZGRpbmc6IDAgNXB4Ow0KCWNvbG9yOiAjMzMzOw0KCX0NCi5sZWFmbGV0LWNvbnRhaW5lciAubGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uLA0KLmxlYWZsZXQtY29udGFpbmVyIC5sZWFmbGV0LWNvbnRyb2wtc2NhbGUgew0KCWZvbnQtc2l6ZTogMTFweDsNCgl9DQoubGVhZmxldC1sZWZ0IC5sZWFmbGV0LWNvbnRyb2wtc2NhbGUgew0KCW1hcmdpbi1sZWZ0OiA1cHg7DQoJfQ0KLmxlYWZsZXQtYm90dG9tIC5sZWFmbGV0LWNvbnRyb2wtc2NhbGUgew0KCW1hcmdpbi1ib3R0b206IDVweDsNCgl9DQoubGVhZmxldC1jb250cm9sLXNjYWxlLWxpbmUgew0KCWJvcmRlcjogMnB4IHNvbGlkICM3Nzc7DQoJYm9yZGVyLXRvcDogbm9uZTsNCgljb2xvcjogYmxhY2s7DQoJbGluZS1oZWlnaHQ6IDEuMTsNCglwYWRkaW5nOiAycHggNXB4IDFweDsNCglmb250LXNpemU6IDExcHg7DQoJdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNmZmY7DQoJYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOw0KCWJveC1zaGFkb3c6IDAgLTFweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOw0KCXdoaXRlLXNwYWNlOiBub3dyYXA7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCgl9DQoubGVhZmxldC1jb250cm9sLXNjYWxlLWxpbmU6bm90KDpmaXJzdC1jaGlsZCkgew0KCWJvcmRlci10b3A6IDJweCBzb2xpZCAjNzc3Ow0KCWJvcmRlci1ib3R0b206IG5vbmU7DQoJbWFyZ2luLXRvcDogLTJweDsNCglib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOw0KCX0NCi5sZWFmbGV0LWNvbnRyb2wtc2NhbGUtbGluZTpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpIHsNCglib3JkZXItYm90dG9tOiAycHggc29saWQgIzc3NzsNCgl9DQoNCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24sDQoubGVhZmxldC10b3VjaCAubGVhZmxldC1jb250cm9sLWxheWVycywNCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtem9vbSB7DQoJYm94LXNoYWRvdzogbm9uZTsNCgl9DQoubGVhZmxldC10b3VjaCAubGVhZmxldC1jb250cm9sLWxheWVycywNCi5sZWFmbGV0LXRvdWNoIC5sZWFmbGV0LWNvbnRyb2wtem9vbSB7DQoJYm9yZGVyOiA0cHggc29saWQgcmdiYSgwLDAsMCwwLjMpOw0KCX0NCg0KDQovKiBwb3B1cCAqLw0KDQoubGVhZmxldC1wb3B1cCB7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXRleHQtYWxpZ246IGNlbnRlcjsNCgl9DQoubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXIgew0KCXBhZGRpbmc6IDFweDsNCgl0ZXh0LWFsaWduOiBsZWZ0Ow0KCS13ZWJraXQtYm9yZGVyLXJhZGl1czogMjBweDsNCgkgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7DQoJfQ0KLmxlYWZsZXQtcG9wdXAtY29udGVudCB7DQoJbWFyZ2luOiAxNHB4IDIwcHg7DQoJbGluZS1oZWlnaHQ6IDEuNDsNCgl9DQoubGVhZmxldC1wb3B1cC1jb250ZW50IHAgew0KCW1hcmdpbjogMThweCAwOw0KCX0NCi5sZWFmbGV0LXBvcHVwLXRpcC1jb250YWluZXIgew0KCW1hcmdpbjogMCBhdXRvOw0KCXdpZHRoOiA0MHB4Ow0KCWhlaWdodDogMjBweDsNCglwb3NpdGlvbjogcmVsYXRpdmU7DQoJb3ZlcmZsb3c6IGhpZGRlbjsNCgl9DQoubGVhZmxldC1wb3B1cC10aXAgew0KCXdpZHRoOiAxNXB4Ow0KCWhlaWdodDogMTVweDsNCglwYWRkaW5nOiAxcHg7DQoNCgltYXJnaW46IC04cHggYXV0byAwOw0KDQoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQoJICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQoJICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQoJICAgICAtby10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQoJICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7DQoJfQ0KLmxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVyLCAubGVhZmxldC1wb3B1cC10aXAgew0KCWJhY2tncm91bmQ6IHdoaXRlOw0KDQoJYm94LXNoYWRvdzogMCAzcHggMTRweCByZ2JhKDAsMCwwLDAuNCk7DQoJfQ0KLmxlYWZsZXQtY29udGFpbmVyIGEubGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b24gew0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl0b3A6IDA7DQoJcmlnaHQ6IDA7DQoJcGFkZGluZzogNHB4IDVweCAwIDA7DQoJdGV4dC1hbGlnbjogY2VudGVyOw0KCXdpZHRoOiAxOHB4Ow0KCWhlaWdodDogMTRweDsNCglmb250OiAxNnB4LzE0cHggVGFob21hLCBWZXJkYW5hLCBzYW5zLXNlcmlmOw0KCWNvbG9yOiAjYzNjM2MzOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCglmb250LXdlaWdodDogYm9sZDsNCgliYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCgl9DQoubGVhZmxldC1jb250YWluZXIgYS5sZWFmbGV0LXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlciB7DQoJY29sb3I6ICM5OTk7DQoJfQ0KLmxlYWZsZXQtcG9wdXAtc2Nyb2xsZWQgew0KCW92ZXJmbG93OiBhdXRvOw0KCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkOw0KCWJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkOw0KCX0NCg0KDQovKiBkaXYgaWNvbiAqLw0KDQoubGVhZmxldC1kaXYtaWNvbiB7DQoJYmFja2dyb3VuZDogI2ZmZjsNCglib3JkZXI6IDFweCBzb2xpZCAjNjY2Ow0KCX0NCi5sZWFmbGV0LWVkaXRpbmctaWNvbiB7DQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7DQoJICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7DQoJfQ0K'>
    <link rel='stylesheet' href='data:text/css;base64,Ym9keSB7CiAgbWFyZ2luOiAwcHg7Cn0KLmxlYWZsZXQtcG9wdXAtY29udGVudC13cmFwcGVyLCAubGVhZmxldC1wb3B1cC10aXAgewogIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwp9Ci5sZWFmbGV0LXBvcHVwLWNvbnRlbnR7CiAgY29sb3I6IHdoaXRlOwogIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIgp9Ci5sZWFmbGV0LWNvbnRyb2wtem9vbS1mdWxsc2NyZWVuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKGljb24tZnVsbHNjcmVlbi5wbmcpOyB9Ci5sZWFmbGV0LWNvbnRhaW5lcjotd2Via2l0LWZ1bGwtc2NyZWVuIHsgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7IH0='>
    <link rel='stylesheet' href='data:text/css;base64,LmluZm8gewogICAgcGFkZGluZzogNnB4IDhweDsKICAgIGZvbnQ6IDE0cHgvMTZweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7CiAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsMCwwLDAuMik7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KLmluZm8gaDQgewogICAgbWFyZ2luOiAwIDAgNXB4OwogICAgY29sb3I6ICM3Nzc7Cn0KCi5sZWdlbmQgewogICAgbGluZS1oZWlnaHQ6IDE4cHg7CiAgICBjb2xvcjogIzU1NTsKfQoubGVnZW5kIGkgewogICAgd2lkdGg6IDE4cHg7CiAgICBoZWlnaHQ6IDE4cHg7CiAgICBmbG9hdDogbGVmdDsKICAgIG1hcmdpbi1yaWdodDogOHB4OwogICAgb3BhY2l0eTogMC43Owp9'>
    
    <script src='data:application/javascript;base64,LyoKIExlYWZsZXQsIGEgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBtb2JpbGUtZnJpZW5kbHkgaW50ZXJhY3RpdmUgbWFwcy4gaHR0cDovL2xlYWZsZXRqcy5jb20KIChjKSAyMDEwLTIwMTMsIFZsYWRpbWlyIEFnYWZvbmtpbiwgQ2xvdWRNYWRlCiovCihmdW5jdGlvbih0LGUsaSl7dmFyIG4sbzt0eXBlb2YgZXhwb3J0cyE9aSsiIj9uPWV4cG9ydHM6KG89dC5MLG49e30sbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTD1vLHRoaXN9LHQuTD1uKSxuLnZlcnNpb249IjAuNS4xIixuLlV0aWw9e2V4dGVuZDpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoaT0wLG49cy5sZW5ndGg7bj5pO2krKyl7bz1zW2ldfHx7fTtmb3IoZSBpbiBvKW8uaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPW9bZV0pfXJldHVybiB0fSxiaW5kOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTpudWxsO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsaXx8YXJndW1lbnRzKX19LHN0YW1wOmZ1bmN0aW9uKCl7dmFyIHQ9MCxlPSJfbGVhZmxldF9pZCI7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBpW2VdPWlbZV18fCsrdCxpW2VdfX0oKSxsaW1pdEV4ZWNCeUludGVydmFsOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbyxzO3JldHVybiBmdW5jdGlvbiBhKCl7dmFyIHI9YXJndW1lbnRzO3JldHVybiBvPyhzPSEwLGkpOihvPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvPSExLHMmJihhLmFwcGx5KG4scikscz0hMSl9LGUpLHQuYXBwbHkobixyKSxpKX19LGZhbHNlRm46ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZm9ybWF0TnVtOmZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5wb3coMTAsZXx8NSk7cmV0dXJuIE1hdGgucm91bmQodCppKS9pfSxzcGxpdFdvcmRzOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKS5zcGxpdCgvXHMrLyl9LHNldE9wdGlvbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vcHRpb25zPW4uZXh0ZW5kKHt9LHQub3B0aW9ucyxlKSx0Lm9wdGlvbnN9LGdldFBhcmFtU3RyaW5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W107Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmaS5wdXNoKG4rIj0iK3Rbbl0pO3JldHVybihlJiYtMSE9PWUuaW5kZXhPZigiPyIpPyImIjoiPyIpK2kuam9pbigiJiIpfSx0ZW1wbGF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnJlcGxhY2UoL1x7ICooW1x3X10rKSAqXH0vZyxmdW5jdGlvbih0LGkpe3ZhciBuPWVbaV07aWYoIWUuaGFzT3duUHJvcGVydHkoaSkpdGhyb3cgRXJyb3IoIk5vIHZhbHVlIHByb3ZpZGVkIGZvciB2YXJpYWJsZSAiK3QpO3JldHVybiBufSl9LGlzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0sZW1wdHlJbWFnZVVybDoiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzPSJ9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgaSxuLG89WyJ3ZWJraXQiLCJtb3oiLCJvIiwibXMiXTtmb3IoaT0wO28ubGVuZ3RoPmkmJiFuO2krKyluPXRbb1tpXStlXTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUpe3ZhciBpPStuZXcgRGF0ZSxuPU1hdGgubWF4KDAsMTYtKGktcykpO3JldHVybiBzPWkrbix0LnNldFRpbWVvdXQoZSxuKX12YXIgcz0wLGE9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGUoIlJlcXVlc3RBbmltYXRpb25GcmFtZSIpfHxvLHI9dC5jYW5jZWxBbmltYXRpb25GcmFtZXx8ZSgiQ2FuY2VsQW5pbWF0aW9uRnJhbWUiKXx8ZSgiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIil8fGZ1bmN0aW9uKGUpe3QuY2xlYXJUaW1lb3V0KGUpfTtuLlV0aWwucmVxdWVzdEFuaW1GcmFtZT1mdW5jdGlvbihlLHMscixoKXtyZXR1cm4gZT1uLmJpbmQoZSxzKSxyJiZhPT09bz8oZSgpLGkpOmEuY2FsbCh0LGUsaCl9LG4uVXRpbC5jYW5jZWxBbmltRnJhbWU9ZnVuY3Rpb24oZSl7ZSYmci5jYWxsKHQsZSl9fSgpLG4uZXh0ZW5kPW4uVXRpbC5leHRlbmQsbi5iaW5kPW4uVXRpbC5iaW5kLG4uc3RhbXA9bi5VdGlsLnN0YW1wLG4uc2V0T3B0aW9ucz1uLlV0aWwuc2V0T3B0aW9ucyxuLkNsYXNzPWZ1bmN0aW9uKCl7fSxuLkNsYXNzLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZSYmdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9pbml0SG9va3MmJnRoaXMuY2FsbEluaXRIb29rcygpfSxpPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZTt2YXIgbz1uZXcgaTtvLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGU9bztmb3IodmFyIHMgaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KHMpJiYicHJvdG90eXBlIiE9PXMmJihlW3NdPXRoaXNbc10pO3Quc3RhdGljcyYmKG4uZXh0ZW5kKGUsdC5zdGF0aWNzKSxkZWxldGUgdC5zdGF0aWNzKSx0LmluY2x1ZGVzJiYobi5VdGlsLmV4dGVuZC5hcHBseShudWxsLFtvXS5jb25jYXQodC5pbmNsdWRlcykpLGRlbGV0ZSB0LmluY2x1ZGVzKSx0Lm9wdGlvbnMmJm8ub3B0aW9ucyYmKHQub3B0aW9ucz1uLmV4dGVuZCh7fSxvLm9wdGlvbnMsdC5vcHRpb25zKSksbi5leHRlbmQobyx0KSxvLl9pbml0SG9va3M9W107dmFyIGE9dGhpcztyZXR1cm4gby5jYWxsSW5pdEhvb2tzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2luaXRIb29rc0NhbGxlZCl7YS5wcm90b3R5cGUuY2FsbEluaXRIb29rcyYmYS5wcm90b3R5cGUuY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpLHRoaXMuX2luaXRIb29rc0NhbGxlZD0hMDtmb3IodmFyIHQ9MCxlPW8uX2luaXRIb29rcy5sZW5ndGg7ZT50O3QrKylvLl9pbml0SG9va3NbdF0uY2FsbCh0aGlzKX19LGV9LG4uQ2xhc3MuaW5jbHVkZT1mdW5jdGlvbih0KXtuLmV4dGVuZCh0aGlzLnByb3RvdHlwZSx0KX0sbi5DbGFzcy5tZXJnZU9wdGlvbnM9ZnVuY3Rpb24odCl7bi5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucyx0KX0sbi5DbGFzcy5hZGRJbml0SG9vaz1mdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKCl7dGhpc1t0XS5hcHBseSh0aGlzLGUpfTt0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzPXRoaXMucHJvdG90eXBlLl9pbml0SG9va3N8fFtdLHRoaXMucHJvdG90eXBlLl9pbml0SG9va3MucHVzaChpKX07dmFyIHM9Il9sZWFmbGV0X2V2ZW50cyI7bi5NaXhpbj17fSxuLk1peGluLkV2ZW50cz17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG8sYSxyLGg9dGhpc1tzXT10aGlzW3NdfHx7fTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKG8sdFtvXSxlKTtyZXR1cm4gdGhpc31mb3IodD1uLlV0aWwuc3BsaXRXb3Jkcyh0KSxhPTAscj10Lmxlbmd0aDtyPmE7YSsrKWhbdFthXV09aFt0W2FdXXx8W10saFt0W2FdXS5wdXNoKHthY3Rpb246ZSxjb250ZXh0Oml8fHRoaXN9KTtyZXR1cm4gdGhpc30saGFzRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24odCl7cmV0dXJuIHMgaW4gdGhpcyYmdCBpbiB0aGlzW3NdJiZ0aGlzW3NdW3RdLmxlbmd0aD4wfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxhLHIsaCxsLHU9dGhpc1tzXTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG8sdFtvXSxlKTtyZXR1cm4gdGhpc31mb3IodD1uLlV0aWwuc3BsaXRXb3Jkcyh0KSxhPTAscj10Lmxlbmd0aDtyPmE7YSsrKWlmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModFthXSkpZm9yKGg9dVt0W2FdXSxsPWgubGVuZ3RoLTE7bD49MDtsLS0pZSYmaFtsXS5hY3Rpb24hPT1lfHxpJiZoW2xdLmNvbnRleHQhPT1pfHxoLnNwbGljZShsLDEpO3JldHVybiB0aGlzfSxmaXJlRXZlbnQ6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5oYXNFdmVudExpc3RlbmVycyh0KSlyZXR1cm4gdGhpcztmb3IodmFyIGk9bi5leHRlbmQoe3R5cGU6dCx0YXJnZXQ6dGhpc30sZSksbz10aGlzW3NdW3RdLnNsaWNlKCksYT0wLHI9by5sZW5ndGg7cj5hO2ErKylvW2FdLmFjdGlvbi5jYWxsKG9bYV0uY29udGV4dHx8dGhpcyxpKTtyZXR1cm4gdGhpc319LG4uTWl4aW4uRXZlbnRzLm9uPW4uTWl4aW4uRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIsbi5NaXhpbi5FdmVudHMub2ZmPW4uTWl4aW4uRXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIsbi5NaXhpbi5FdmVudHMuZmlyZT1uLk1peGluLkV2ZW50cy5maXJlRXZlbnQsZnVuY3Rpb24oKXt2YXIgbz0hIXQuQWN0aXZlWE9iamVjdCxzPW8mJiF0LlhNTEh0dHBSZXF1ZXN0LGE9byYmIWUucXVlcnlTZWxlY3RvcixyPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxoPS0xIT09ci5pbmRleE9mKCJ3ZWJraXQiKSxsPS0xIT09ci5pbmRleE9mKCJjaHJvbWUiKSx1PS0xIT09ci5pbmRleE9mKCJhbmRyb2lkIiksYz0tMSE9PXIuc2VhcmNoKCJhbmRyb2lkIFsyM10iKSxfPXR5cGVvZiBvcmllbnRhdGlvbiE9aSsiIixkPXQubmF2aWdhdG9yJiZ0Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiZ0Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzLHA9ImRldmljZVBpeGVsUmF0aW8iaW4gdCYmdC5kZXZpY2VQaXhlbFJhdGlvPjF8fCJtYXRjaE1lZGlhImluIHQmJnQubWF0Y2hNZWRpYSgiKG1pbi1yZXNvbHV0aW9uOjE0NGRwaSkiKSYmdC5tYXRjaE1lZGlhKCIobWluLXJlc29sdXRpb246MTQ0ZHBpKSIpLm1hdGNoZXMsbT1lLmRvY3VtZW50RWxlbWVudCxmPW8mJiJ0cmFuc2l0aW9uImluIG0uc3R5bGUsZz0iV2ViS2l0Q1NTTWF0cml4ImluIHQmJiJtMTEiaW4gbmV3IHQuV2ViS2l0Q1NTTWF0cml4LHY9Ik1velBlcnNwZWN0aXZlImluIG0uc3R5bGUseT0iT1RyYW5zaXRpb24iaW4gbS5zdHlsZSxMPSF0LkxfRElTQUJMRV8zRCYmKGZ8fGd8fHZ8fHkpLFA9IXQuTF9OT19UT1VDSCYmZnVuY3Rpb24oKXt2YXIgdD0ib250b3VjaHN0YXJ0IjtpZihkfHx0IGluIG0pcmV0dXJuITA7dmFyIGk9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSxuPSExO3JldHVybiBpLnNldEF0dHJpYnV0ZT8oaS5zZXRBdHRyaWJ1dGUodCwicmV0dXJuOyIpLCJmdW5jdGlvbiI9PXR5cGVvZiBpW3RdJiYobj0hMCksaS5yZW1vdmVBdHRyaWJ1dGUodCksaT1udWxsLG4pOiExfSgpO24uQnJvd3Nlcj17aWU6byxpZTY6cyxpZTc6YSx3ZWJraXQ6aCxhbmRyb2lkOnUsYW5kcm9pZDIzOmMsY2hyb21lOmwsaWUzZDpmLHdlYmtpdDNkOmcsZ2Vja28zZDp2LG9wZXJhM2Q6eSxhbnkzZDpMLG1vYmlsZTpfLG1vYmlsZVdlYmtpdDpfJiZoLG1vYmlsZVdlYmtpdDNkOl8mJmcsbW9iaWxlT3BlcmE6XyYmdC5vcGVyYSx0b3VjaDpQLG1zVG91Y2g6ZCxyZXRpbmE6cH19KCksbi5Qb2ludD1mdW5jdGlvbih0LGUsaSl7dGhpcy54PWk/TWF0aC5yb3VuZCh0KTp0LHRoaXMueT1pP01hdGgucm91bmQoZSk6ZX0sbi5Qb2ludC5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuLlBvaW50KHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKG4ucG9pbnQodCkpfSxfYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWJ0cmFjdChuLnBvaW50KHQpKX0sX3N1YnRyYWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSxkaXZpZGVCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeSh0KX0sX2RpdmlkZUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LG11bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdGlwbHlCeSh0KX0sX211bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9LGZsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKX0sX2Zsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzfSxkaXN0YW5jZVRvOmZ1bmN0aW9uKHQpe3Q9bi5wb2ludCh0KTt2YXIgZT10LngtdGhpcy54LGk9dC55LXRoaXMueTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJQb2ludCgiK24uVXRpbC5mb3JtYXROdW0odGhpcy54KSsiLCAiK24uVXRpbC5mb3JtYXROdW0odGhpcy55KSsiKSJ9fSxuLnBvaW50PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIG4uUG9pbnQ/dDpuLlV0aWwuaXNBcnJheSh0KT9uZXcgbi5Qb2ludCh0WzBdLHRbMV0pOmlzTmFOKHQpP3Q6bmV3IG4uUG9pbnQodCxlLGkpfSxuLkJvdW5kcz1mdW5jdGlvbih0LGUpe2lmKHQpZm9yKHZhciBpPWU/W3QsZV06dCxuPTAsbz1pLmxlbmd0aDtvPm47bisrKXRoaXMuZXh0ZW5kKGlbbl0pfSxuLkJvdW5kcy5wcm90b3R5cGU9e2V4dGVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdD1uLnBvaW50KHQpLHRoaXMubWlufHx0aGlzLm1heD8odGhpcy5taW4ueD1NYXRoLm1pbih0LngsdGhpcy5taW4ueCksdGhpcy5tYXgueD1NYXRoLm1heCh0LngsdGhpcy5tYXgueCksdGhpcy5taW4ueT1NYXRoLm1pbih0LnksdGhpcy5taW4ueSksdGhpcy5tYXgueT1NYXRoLm1heCh0LnksdGhpcy5tYXgueSkpOih0aGlzLm1pbj10LmNsb25lKCksdGhpcy5tYXg9dC5jbG9uZSgpKSx0aGlzfSxnZXRDZW50ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuLlBvaW50KCh0aGlzLm1pbi54K3RoaXMubWF4LngpLzIsKHRoaXMubWluLnkrdGhpcy5tYXgueSkvMix0KX0sZ2V0Qm90dG9tTGVmdDpmdW5jdGlvbigpe3JldHVybiBuZXcgbi5Qb2ludCh0aGlzLm1pbi54LHRoaXMubWF4LnkpfSxnZXRUb3BSaWdodDpmdW5jdGlvbigpe3JldHVybiBuZXcgbi5Qb2ludCh0aGlzLm1heC54LHRoaXMubWluLnkpfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4LnN1YnRyYWN0KHRoaXMubWluKX0sY29udGFpbnM6ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gdD0ibnVtYmVyIj09dHlwZW9mIHRbMF18fHQgaW5zdGFuY2VvZiBuLlBvaW50P24ucG9pbnQodCk6bi5ib3VuZHModCksdCBpbnN0YW5jZW9mIG4uQm91bmRzPyhlPXQubWluLGk9dC5tYXgpOmU9aT10LGUueD49dGhpcy5taW4ueCYmaS54PD10aGlzLm1heC54JiZlLnk+PXRoaXMubWluLnkmJmkueTw9dGhpcy5tYXgueX0saW50ZXJzZWN0czpmdW5jdGlvbih0KXt0PW4uYm91bmRzKHQpO3ZhciBlPXRoaXMubWluLGk9dGhpcy5tYXgsbz10Lm1pbixzPXQubWF4LGE9cy54Pj1lLngmJm8ueDw9aS54LHI9cy55Pj1lLnkmJm8ueTw9aS55O3JldHVybiBhJiZyfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5taW58fCF0aGlzLm1heCl9fSxuLmJvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiF0fHx0IGluc3RhbmNlb2Ygbi5Cb3VuZHM/dDpuZXcgbi5Cb3VuZHModCxlKX0sbi5UcmFuc2Zvcm1hdGlvbj1mdW5jdGlvbih0LGUsaSxuKXt0aGlzLl9hPXQsdGhpcy5fYj1lLHRoaXMuX2M9aSx0aGlzLl9kPW59LG4uVHJhbnNmb3JtYXRpb24ucHJvdG90eXBlPXt0cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtKHQuY2xvbmUoKSxlKX0sX3RyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fDEsdC54PWUqKHRoaXMuX2EqdC54K3RoaXMuX2IpLHQueT1lKih0aGlzLl9jKnQueSt0aGlzLl9kKSx0fSx1bnRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fDEsbmV3IG4uUG9pbnQoKHQueC9lLXRoaXMuX2IpL3RoaXMuX2EsKHQueS9lLXRoaXMuX2QpL3RoaXMuX2MpfX0sbi5Eb21VdGlsPXtnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2UuZ2V0RWxlbWVudEJ5SWQodCk6dH0sZ2V0U3R5bGU6ZnVuY3Rpb24odCxpKXt2YXIgbj10LnN0eWxlW2ldO2lmKCFuJiZ0LmN1cnJlbnRTdHlsZSYmKG49dC5jdXJyZW50U3R5bGVbaV0pLCghbnx8ImF1dG8iPT09bikmJmUuZGVmYXVsdFZpZXcpe3ZhciBvPWUuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpO249bz9vW2ldOm51bGx9cmV0dXJuImF1dG8iPT09bj9udWxsOm59LGdldFZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBpLG89MCxzPTAsYT10LHI9ZS5ib2R5LGg9bi5Ccm93c2VyLmllNztkb3tpZihvKz1hLm9mZnNldFRvcHx8MCxzKz1hLm9mZnNldExlZnR8fDAsbys9cGFyc2VJbnQobi5Eb21VdGlsLmdldFN0eWxlKGEsImJvcmRlclRvcFdpZHRoIiksMTApfHwwLHMrPXBhcnNlSW50KG4uRG9tVXRpbC5nZXRTdHlsZShhLCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDAsaT1uLkRvbVV0aWwuZ2V0U3R5bGUoYSwicG9zaXRpb24iKSxhLm9mZnNldFBhcmVudD09PXImJiJhYnNvbHV0ZSI9PT1pKWJyZWFrO2lmKCJmaXhlZCI9PT1pKXtvKz1yLnNjcm9sbFRvcHx8MCxzKz1yLnNjcm9sbExlZnR8fDA7YnJlYWt9YT1hLm9mZnNldFBhcmVudH13aGlsZShhKTthPXQ7ZG97aWYoYT09PXIpYnJlYWs7by09YS5zY3JvbGxUb3B8fDAscy09YS5zY3JvbGxMZWZ0fHwwLG4uRG9tVXRpbC5kb2N1bWVudElzTHRyKCl8fCFuLkJyb3dzZXIud2Via2l0JiYhaHx8KHMrPWEuc2Nyb2xsV2lkdGgtYS5jbGllbnRXaWR0aCxoJiYiaGlkZGVuIiE9PW4uRG9tVXRpbC5nZXRTdHlsZShhLCJvdmVyZmxvdy15IikmJiJoaWRkZW4iIT09bi5Eb21VdGlsLmdldFN0eWxlKGEsIm92ZXJmbG93IikmJihzKz0xNykpLGE9YS5wYXJlbnROb2RlfXdoaWxlKGEpO3JldHVybiBuZXcgbi5Qb2ludChzLG8pfSxkb2N1bWVudElzTHRyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uRG9tVXRpbC5fZG9jSXNMdHJDYWNoZWR8fChuLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkPSEwLG4uRG9tVXRpbC5fZG9jSXNMdHI9Imx0ciI9PT1uLkRvbVV0aWwuZ2V0U3R5bGUoZS5ib2R5LCJkaXJlY3Rpb24iKSksbi5Eb21VdGlsLl9kb2NJc0x0cn0sY3JlYXRlOmZ1bmN0aW9uKHQsaSxuKXt2YXIgbz1lLmNyZWF0ZUVsZW1lbnQodCk7cmV0dXJuIG8uY2xhc3NOYW1lPWksbiYmbi5hcHBlbmRDaGlsZChvKSxvfSxkaXNhYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe2Uuc2VsZWN0aW9uJiZlLnNlbGVjdGlvbi5lbXB0eSYmZS5zZWxlY3Rpb24uZW1wdHkoKSx0aGlzLl9vbnNlbGVjdHN0YXJ0fHwodGhpcy5fb25zZWxlY3RzdGFydD1lLm9uc2VsZWN0c3RhcnR8fG51bGwsZS5vbnNlbGVjdHN0YXJ0PW4uVXRpbC5mYWxzZUZuKX0sZW5hYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe2Uub25zZWxlY3RzdGFydD09PW4uVXRpbC5mYWxzZUZuJiYoZS5vbnNlbGVjdHN0YXJ0PXRoaXMuX29uc2VsZWN0c3RhcnQsdGhpcy5fb25zZWxlY3RzdGFydD1udWxsKX0saGFzQ2xhc3M6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jbGFzc05hbWUubGVuZ3RoPjAmJlJlZ0V4cCgiKF58XFxzKSIrZSsiKFxcc3wkKSIpLnRlc3QodC5jbGFzc05hbWUpfSxhZGRDbGFzczpmdW5jdGlvbih0LGUpe24uRG9tVXRpbC5oYXNDbGFzcyh0LGUpfHwodC5jbGFzc05hbWUrPSh0LmNsYXNzTmFtZT8iICI6IiIpK2UpfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxpKXtyZXR1cm4gaT09PWU/IiI6dH10LmNsYXNzTmFtZT10LmNsYXNzTmFtZS5yZXBsYWNlKC8oXFMrKVxzKi9nLGkpLnJlcGxhY2UoLyheXHMrfFxzKyQpLywiIil9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCxlKXtpZigib3BhY2l0eSJpbiB0LnN0eWxlKXQuc3R5bGUub3BhY2l0eT1lO2Vsc2UgaWYoImZpbHRlciJpbiB0LnN0eWxlKXt2YXIgaT0hMSxuPSJEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYSI7dHJ5e2k9dC5maWx0ZXJzLml0ZW0obil9Y2F0Y2gobyl7fWU9TWF0aC5yb3VuZCgxMDAqZSksaT8oaS5FbmFibGVkPTEwMCE9PWUsaS5PcGFjaXR5PWUpOnQuc3R5bGUuZmlsdGVyKz0iIHByb2dpZDoiK24rIihvcGFjaXR5PSIrZSsiKSJ9fSx0ZXN0UHJvcDpmdW5jdGlvbih0KXtmb3IodmFyIGk9ZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbj0wO3QubGVuZ3RoPm47bisrKWlmKHRbbl1pbiBpKXJldHVybiB0W25dO3JldHVybiExfSxnZXRUcmFuc2xhdGVTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGU9bi5Ccm93c2VyLndlYmtpdDNkLGk9InRyYW5zbGF0ZSIrKGU/IjNkIjoiIikrIigiLG89KGU/IiwwIjoiIikrIikiO3JldHVybiBpK3QueCsicHgsIit0LnkrInB4IitvfSxnZXRTY2FsZVN0cmluZzpmdW5jdGlvbih0LGUpe3ZhciBpPW4uRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcoZS5hZGQoZS5tdWx0aXBseUJ5KC0xKnQpKSksbz0iIHNjYWxlKCIrdCsiKSAiO3JldHVybiBpK299LHNldFBvc2l0aW9uOmZ1bmN0aW9uKHQsZSxpKXt0Ll9sZWFmbGV0X3Bvcz1lLCFpJiZuLkJyb3dzZXIuYW55M2Q/KHQuc3R5bGVbbi5Eb21VdGlsLlRSQU5TRk9STV09bi5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlKSxuLkJyb3dzZXIubW9iaWxlV2Via2l0M2QmJih0LnN0eWxlLldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eT0iaGlkZGVuIikpOih0LnN0eWxlLmxlZnQ9ZS54KyJweCIsdC5zdHlsZS50b3A9ZS55KyJweCIpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fbGVhZmxldF9wb3N9fSxuLkRvbVV0aWwuVFJBTlNGT1JNPW4uRG9tVXRpbC50ZXN0UHJvcChbInRyYW5zZm9ybSIsIldlYmtpdFRyYW5zZm9ybSIsIk9UcmFuc2Zvcm0iLCJNb3pUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSJdKSxuLkRvbVV0aWwuVFJBTlNJVElPTj1uLkRvbVV0aWwudGVzdFByb3AoWyJ3ZWJraXRUcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIm1zVHJhbnNpdGlvbiJdKSxuLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQ9IndlYmtpdFRyYW5zaXRpb24iPT09bi5Eb21VdGlsLlRSQU5TSVRJT058fCJPVHJhbnNpdGlvbiI9PT1uLkRvbVV0aWwuVFJBTlNJVElPTj9uLkRvbVV0aWwuVFJBTlNJVElPTisiRW5kIjoidHJhbnNpdGlvbmVuZCIsbi5MYXRMbmc9ZnVuY3Rpb24odCxlKXt2YXIgaT1wYXJzZUZsb2F0KHQpLG49cGFyc2VGbG9hdChlKTtpZihpc05hTihpKXx8aXNOYU4obikpdGhyb3cgRXJyb3IoIkludmFsaWQgTGF0TG5nIG9iamVjdDogKCIrdCsiLCAiK2UrIikiKTt0aGlzLmxhdD1pLHRoaXMubG5nPW59LG4uZXh0ZW5kKG4uTGF0TG5nLHtERUdfVE9fUkFEOk1hdGguUEkvMTgwLFJBRF9UT19ERUc6MTgwL01hdGguUEksTUFYX01BUkdJTjoxZS05fSksbi5MYXRMbmcucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7dD1uLmxhdExuZyh0KTt2YXIgZT1NYXRoLm1heChNYXRoLmFicyh0aGlzLmxhdC10LmxhdCksTWF0aC5hYnModGhpcy5sbmctdC5sbmcpKTtyZXR1cm4gbi5MYXRMbmcuTUFYX01BUkdJTj49ZX0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIkxhdExuZygiK24uVXRpbC5mb3JtYXROdW0odGhpcy5sYXQsdCkrIiwgIituLlV0aWwuZm9ybWF0TnVtKHRoaXMubG5nLHQpKyIpIn0sZGlzdGFuY2VUbzpmdW5jdGlvbih0KXt0PW4ubGF0TG5nKHQpO3ZhciBlPTYzNzgxMzcsaT1uLkxhdExuZy5ERUdfVE9fUkFELG89KHQubGF0LXRoaXMubGF0KSppLHM9KHQubG5nLXRoaXMubG5nKSppLGE9dGhpcy5sYXQqaSxyPXQubGF0KmksaD1NYXRoLnNpbihvLzIpLGw9TWF0aC5zaW4ocy8yKSx1PWgqaCtsKmwqTWF0aC5jb3MoYSkqTWF0aC5jb3Mocik7cmV0dXJuIDIqZSpNYXRoLmF0YW4yKE1hdGguc3FydCh1KSxNYXRoLnNxcnQoMS11KSl9LHdyYXA6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmxuZztyZXR1cm4gdD10fHwtMTgwLGU9ZXx8MTgwLGk9KGkrZSklKGUtdCkrKHQ+aXx8aT09PWU/ZTp0KSxuZXcgbi5MYXRMbmcodGhpcy5sYXQsaSl9fSxuLmxhdExuZz1mdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2Ygbi5MYXRMbmc/dDpuLlV0aWwuaXNBcnJheSh0KT9uZXcgbi5MYXRMbmcodFswXSx0WzFdKTppc05hTih0KT90Om5ldyBuLkxhdExuZyh0LGUpfSxuLkxhdExuZ0JvdW5kcz1mdW5jdGlvbih0LGUpe2lmKHQpZm9yKHZhciBpPWU/W3QsZV06dCxuPTAsbz1pLmxlbmd0aDtvPm47bisrKXRoaXMuZXh0ZW5kKGlbbl0pfSxuLkxhdExuZ0JvdW5kcy5wcm90b3R5cGU9e2V4dGVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdD0ibnVtYmVyIj09dHlwZW9mIHRbMF18fCJzdHJpbmciPT10eXBlb2YgdFswXXx8dCBpbnN0YW5jZW9mIG4uTGF0TG5nP24ubGF0TG5nKHQpOm4ubGF0TG5nQm91bmRzKHQpLHQgaW5zdGFuY2VvZiBuLkxhdExuZz90aGlzLl9zb3V0aFdlc3R8fHRoaXMuX25vcnRoRWFzdD8odGhpcy5fc291dGhXZXN0LmxhdD1NYXRoLm1pbih0LmxhdCx0aGlzLl9zb3V0aFdlc3QubGF0KSx0aGlzLl9zb3V0aFdlc3QubG5nPU1hdGgubWluKHQubG5nLHRoaXMuX3NvdXRoV2VzdC5sbmcpLHRoaXMuX25vcnRoRWFzdC5sYXQ9TWF0aC5tYXgodC5sYXQsdGhpcy5fbm9ydGhFYXN0LmxhdCksdGhpcy5fbm9ydGhFYXN0LmxuZz1NYXRoLm1heCh0LmxuZyx0aGlzLl9ub3J0aEVhc3QubG5nKSk6KHRoaXMuX3NvdXRoV2VzdD1uZXcgbi5MYXRMbmcodC5sYXQsdC5sbmcpLHRoaXMuX25vcnRoRWFzdD1uZXcgbi5MYXRMbmcodC5sYXQsdC5sbmcpKTp0IGluc3RhbmNlb2Ygbi5MYXRMbmdCb3VuZHMmJih0aGlzLmV4dGVuZCh0Ll9zb3V0aFdlc3QpLHRoaXMuZXh0ZW5kKHQuX25vcnRoRWFzdCkpLHRoaXN9LHBhZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zb3V0aFdlc3QsaT10aGlzLl9ub3J0aEVhc3Qsbz1NYXRoLmFicyhlLmxhdC1pLmxhdCkqdCxzPU1hdGguYWJzKGUubG5nLWkubG5nKSp0O3JldHVybiBuZXcgbi5MYXRMbmdCb3VuZHMobmV3IG4uTGF0TG5nKGUubGF0LW8sZS5sbmctcyksbmV3IG4uTGF0TG5nKGkubGF0K28saS5sbmcrcykpfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4uTGF0TG5nKCh0aGlzLl9zb3V0aFdlc3QubGF0K3RoaXMuX25vcnRoRWFzdC5sYXQpLzIsKHRoaXMuX3NvdXRoV2VzdC5sbmcrdGhpcy5fbm9ydGhFYXN0LmxuZykvMil9LGdldFNvdXRoV2VzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3V0aFdlc3R9LGdldE5vcnRoRWFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3R9LGdldE5vcnRoV2VzdDpmdW5jdGlvbigpe3JldHVybiBuZXcgbi5MYXRMbmcodGhpcy5fbm9ydGhFYXN0LmxhdCx0aGlzLl9zb3V0aFdlc3QubG5nKX0sZ2V0U291dGhFYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuLkxhdExuZyh0aGlzLl9zb3V0aFdlc3QubGF0LHRoaXMuX25vcnRoRWFzdC5sbmcpfSxjb250YWluczpmdW5jdGlvbih0KXt0PSJudW1iZXIiPT10eXBlb2YgdFswXXx8dCBpbnN0YW5jZW9mIG4uTGF0TG5nP24ubGF0TG5nKHQpOm4ubGF0TG5nQm91bmRzKHQpO3ZhciBlLGksbz10aGlzLl9zb3V0aFdlc3Qscz10aGlzLl9ub3J0aEVhc3Q7cmV0dXJuIHQgaW5zdGFuY2VvZiBuLkxhdExuZ0JvdW5kcz8oZT10LmdldFNvdXRoV2VzdCgpLGk9dC5nZXROb3J0aEVhc3QoKSk6ZT1pPXQsZS5sYXQ+PW8ubGF0JiZpLmxhdDw9cy5sYXQmJmUubG5nPj1vLmxuZyYmaS5sbmc8PXMubG5nfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQpe3Q9bi5sYXRMbmdCb3VuZHModCk7dmFyIGU9dGhpcy5fc291dGhXZXN0LGk9dGhpcy5fbm9ydGhFYXN0LG89dC5nZXRTb3V0aFdlc3QoKSxzPXQuZ2V0Tm9ydGhFYXN0KCksYT1zLmxhdD49ZS5sYXQmJm8ubGF0PD1pLmxhdCxyPXMubG5nPj1lLmxuZyYmby5sbmc8PWkubG5nO3JldHVybiBhJiZyfSx0b0JCb3hTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zb3V0aFdlc3QsZT10aGlzLl9ub3J0aEVhc3Q7cmV0dXJuW3QubG5nLHQubGF0LGUubG5nLGUubGF0XS5qb2luKCIsIil9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdD8odD1uLmxhdExuZ0JvdW5kcyh0KSx0aGlzLl9zb3V0aFdlc3QuZXF1YWxzKHQuZ2V0U291dGhXZXN0KCkpJiZ0aGlzLl9ub3J0aEVhc3QuZXF1YWxzKHQuZ2V0Tm9ydGhFYXN0KCkpKTohMX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuX3NvdXRoV2VzdHx8IXRoaXMuX25vcnRoRWFzdCl9fSxuLmxhdExuZ0JvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiF0fHx0IGluc3RhbmNlb2Ygbi5MYXRMbmdCb3VuZHM/dDpuZXcgbi5MYXRMbmdCb3VuZHModCxlKX0sbi5Qcm9qZWN0aW9uPXt9LG4uUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcj17TUFYX0xBVElUVURFOjg1LjA1MTEyODc3OTgscHJvamVjdDpmdW5jdGlvbih0KXt2YXIgZT1uLkxhdExuZy5ERUdfVE9fUkFELGk9dGhpcy5NQVhfTEFUSVRVREUsbz1NYXRoLm1heChNYXRoLm1pbihpLHQubGF0KSwtaSkscz10LmxuZyplLGE9byplO3JldHVybiBhPU1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCthLzIpKSxuZXcgbi5Qb2ludChzLGEpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9bi5MYXRMbmcuUkFEX1RPX0RFRyxpPXQueCplLG89KDIqTWF0aC5hdGFuKE1hdGguZXhwKHQueSkpLU1hdGguUEkvMikqZTtyZXR1cm4gbmV3IG4uTGF0TG5nKG8saSl9fSxuLlByb2plY3Rpb24uTG9uTGF0PXtwcm9qZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5Qb2ludCh0LmxuZyx0LmxhdCl9LHVucHJvamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4uTGF0TG5nKHQueSx0LngpfX0sbi5DUlM9e2xhdExuZ1RvUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnByb2plY3Rpb24ucHJvamVjdCh0KSxuPXRoaXMuc2NhbGUoZSk7cmV0dXJuIHRoaXMudHJhbnNmb3JtYXRpb24uX3RyYW5zZm9ybShpLG4pfSxwb2ludFRvTGF0TG5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zY2FsZShlKSxuPXRoaXMudHJhbnNmb3JtYXRpb24udW50cmFuc2Zvcm0odCxpKTtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdChuKX0scHJvamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCl9LHNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiAyNTYqTWF0aC5wb3coMix0KX19LG4uQ1JTLlNpbXBsZT1uLmV4dGVuZCh7fSxuLkNSUyx7cHJvamVjdGlvbjpuLlByb2plY3Rpb24uTG9uTGF0LHRyYW5zZm9ybWF0aW9uOm5ldyBuLlRyYW5zZm9ybWF0aW9uKDEsMCwtMSwwKSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX19KSxuLkNSUy5FUFNHMzg1Nz1uLmV4dGVuZCh7fSxuLkNSUyx7Y29kZToiRVBTRzozODU3Iixwcm9qZWN0aW9uOm4uUHJvamVjdGlvbi5TcGhlcmljYWxNZXJjYXRvcix0cmFuc2Zvcm1hdGlvbjpuZXcgbi5UcmFuc2Zvcm1hdGlvbiguNS9NYXRoLlBJLC41LC0uNS9NYXRoLlBJLC41KSxwcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpLGk9NjM3ODEzNztyZXR1cm4gZS5tdWx0aXBseUJ5KGkpfX0pLG4uQ1JTLkVQU0c5MDA5MTM9bi5leHRlbmQoe30sbi5DUlMuRVBTRzM4NTcse2NvZGU6IkVQU0c6OTAwOTEzIn0pLG4uQ1JTLkVQU0c0MzI2PW4uZXh0ZW5kKHt9LG4uQ1JTLHtjb2RlOiJFUFNHOjQzMjYiLHByb2plY3Rpb246bi5Qcm9qZWN0aW9uLkxvbkxhdCx0cmFuc2Zvcm1hdGlvbjpuZXcgbi5UcmFuc2Zvcm1hdGlvbigxLzM2MCwuNSwtMS8zNjAsLjUpfSksbi5NYXA9bi5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm4uTWl4aW4uRXZlbnRzLG9wdGlvbnM6e2NyczpuLkNSUy5FUFNHMzg1NyxmYWRlQW5pbWF0aW9uOm4uRG9tVXRpbC5UUkFOU0lUSU9OJiYhbi5Ccm93c2VyLmFuZHJvaWQyMyx0cmFja1Jlc2l6ZTohMCxtYXJrZXJab29tQW5pbWF0aW9uOm4uRG9tVXRpbC5UUkFOU0lUSU9OJiZuLkJyb3dzZXIuYW55M2R9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtlPW4uc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2luaXRDb250YWluZXIodCksdGhpcy5faW5pdExheW91dCgpLHRoaXMuY2FsbEluaXRIb29rcygpLHRoaXMuX2luaXRFdmVudHMoKSxlLm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHMoZS5tYXhCb3VuZHMpLGUuY2VudGVyJiZlLnpvb20hPT1pJiZ0aGlzLnNldFZpZXcobi5sYXRMbmcoZS5jZW50ZXIpLGUuem9vbSwhMCksdGhpcy5faW5pdExheWVycyhlLmxheWVycyl9LHNldFZpZXc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVzZXRWaWV3KG4ubGF0TG5nKHQpLHRoaXMuX2xpbWl0Wm9vbShlKSksdGhpc30sc2V0Wm9vbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRWaWV3KHRoaXMuZ2V0Q2VudGVyKCksdCl9LHpvb21JbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20rKHR8fDEpKX0sem9vbU91dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20tKHR8fDEpKX0sZml0Qm91bmRzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRzWm9vbSh0KTtyZXR1cm4gdGhpcy5zZXRWaWV3KG4ubGF0TG5nQm91bmRzKHQpLmdldENlbnRlcigpLGUpfSxmaXRXb3JsZDpmdW5jdGlvbigpe3ZhciB0PW5ldyBuLkxhdExuZygtNjAsLTE3MCksZT1uZXcgbi5MYXRMbmcoODUsMTc5KTtyZXR1cm4gdGhpcy5maXRCb3VuZHMobmV3IG4uTGF0TG5nQm91bmRzKHQsZSkpfSxwYW5UbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRWaWV3KHQsdGhpcy5fem9vbSl9LHBhbkJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpcmUoIm1vdmVzdGFydCIpLHRoaXMuX3Jhd1BhbkJ5KG4ucG9pbnQodCkpLHRoaXMuZmlyZSgibW92ZSIpLHRoaXMuZmlyZSgibW92ZWVuZCIpfSxzZXRNYXhCb3VuZHM6ZnVuY3Rpb24odCl7aWYodD1uLmxhdExuZ0JvdW5kcyh0KSx0aGlzLm9wdGlvbnMubWF4Qm91bmRzPXQsIXQpcmV0dXJuIHRoaXMuX2JvdW5kc01pblpvb209bnVsbCx0aGlzO3ZhciBlPXRoaXMuZ2V0Qm91bmRzWm9vbSh0LCEwKTtyZXR1cm4gdGhpcy5fYm91bmRzTWluWm9vbT1lLHRoaXMuX2xvYWRlZCYmKGU+dGhpcy5fem9vbT90aGlzLnNldFZpZXcodC5nZXRDZW50ZXIoKSxlKTp0aGlzLnBhbkluc2lkZUJvdW5kcyh0KSksdGhpc30scGFuSW5zaWRlQm91bmRzOmZ1bmN0aW9uKHQpe3Q9bi5sYXRMbmdCb3VuZHModCk7dmFyIGU9dGhpcy5nZXRCb3VuZHMoKSxpPXRoaXMucHJvamVjdChlLmdldFNvdXRoV2VzdCgpKSxvPXRoaXMucHJvamVjdChlLmdldE5vcnRoRWFzdCgpKSxzPXRoaXMucHJvamVjdCh0LmdldFNvdXRoV2VzdCgpKSxhPXRoaXMucHJvamVjdCh0LmdldE5vcnRoRWFzdCgpKSxyPTAsaD0wO3JldHVybiBvLnk8YS55JiYoaD1hLnktby55KSxvLng+YS54JiYocj1hLngtby54KSxpLnk+cy55JiYoaD1zLnktaS55KSxpLng8cy54JiYocj1zLngtaS54KSx0aGlzLnBhbkJ5KG5ldyBuLlBvaW50KHIsaCwhMCkpfSxhZGRMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1uLnN0YW1wKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV0/dGhpczoodGhpcy5fbGF5ZXJzW2VdPXQsIXQub3B0aW9uc3x8aXNOYU4odC5vcHRpb25zLm1heFpvb20pJiZpc05hTih0Lm9wdGlvbnMubWluWm9vbSl8fCh0aGlzLl96b29tQm91bmRMYXllcnNbZV09dCx0aGlzLl91cGRhdGVab29tTGV2ZWxzKCkpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZuLlRpbGVMYXllciYmdCBpbnN0YW5jZW9mIG4uVGlsZUxheWVyJiYodGhpcy5fdGlsZUxheWVyc051bSsrLHRoaXMuX3RpbGVMYXllcnNUb0xvYWQrKyx0Lm9uKCJsb2FkIix0aGlzLl9vblRpbGVMYXllckxvYWQsdGhpcykpLHRoaXMud2hlblJlYWR5KGZ1bmN0aW9uKCl7dC5vbkFkZCh0aGlzKSx0aGlzLmZpcmUoImxheWVyYWRkIix7bGF5ZXI6dH0pfSx0aGlzKSx0aGlzKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9bi5zdGFtcCh0KTtpZih0aGlzLl9sYXllcnNbZV0pcmV0dXJuIHQub25SZW1vdmUodGhpcyksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl96b29tQm91bmRMYXllcnNbZV0mJihkZWxldGUgdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2VdLHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJm4uVGlsZUxheWVyJiZ0IGluc3RhbmNlb2Ygbi5UaWxlTGF5ZXImJih0aGlzLl90aWxlTGF5ZXJzTnVtLS0sdGhpcy5fdGlsZUxheWVyc1RvTG9hZC0tLHQub2ZmKCJsb2FkIix0aGlzLl9vblRpbGVMYXllckxvYWQsdGhpcykpLHRoaXMuZmlyZSgibGF5ZXJyZW1vdmUiLHtsYXllcjp0fSl9LGhhc0xheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW4uc3RhbXAodCk7cmV0dXJuIHRoaXMuX2xheWVycy5oYXNPd25Qcm9wZXJ0eShlKX0saW52YWxpZGF0ZVNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRTaXplKCk7aWYodGhpcy5fc2l6ZUNoYW5nZWQ9ITAsdGhpcy5vcHRpb25zLm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHModGhpcy5vcHRpb25zLm1heEJvdW5kcyksIXRoaXMuX2xvYWRlZClyZXR1cm4gdGhpczt2YXIgaT1lLl9zdWJ0cmFjdCh0aGlzLmdldFNpemUoKSkuX2RpdmlkZUJ5KDIpLl9yb3VuZCgpO3JldHVybiB0PT09ITA/dGhpcy5wYW5CeShpKToodGhpcy5fcmF3UGFuQnkoaSksdGhpcy5maXJlKCJtb3ZlIiksY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpcy5fc2l6ZVRpbWVyPXNldFRpbWVvdXQobi5iaW5kKHRoaXMuZmlyZSx0aGlzLCJtb3ZlZW5kIiksMjAwKSksdGhpc30sYWRkSGFuZGxlcjpmdW5jdGlvbih0LGUpe3JldHVybiBlPyh0aGlzW3RdPW5ldyBlKHRoaXMpLHRoaXMub3B0aW9uc1t0XSYmdGhpc1t0XS5lbmFibGUoKSx0aGlzKTppfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKX0sZ2V0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFBpeGVsQm91bmRzKCksZT10aGlzLnVucHJvamVjdCh0LmdldEJvdHRvbUxlZnQoKSksaT10aGlzLnVucHJvamVjdCh0LmdldFRvcFJpZ2h0KCkpO3JldHVybiBuZXcgbi5MYXRMbmdCb3VuZHMoZSxpKX0sZ2V0TWluWm9vbTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5taW5ab29tfHwwLGU9dGhpcy5fbGF5ZXJzTWluWm9vbXx8MCxpPXRoaXMuX2JvdW5kc01pblpvb218fDA7cmV0dXJuIE1hdGgubWF4KHQsZSxpKX0sZ2V0TWF4Wm9vbTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5tYXhab29tPT09aT8xLzA6dGhpcy5vcHRpb25zLm1heFpvb20sZT10aGlzLl9sYXllcnNNYXhab29tPT09aT8xLzA6dGhpcy5fbGF5ZXJzTWF4Wm9vbTtyZXR1cm4gTWF0aC5taW4odCxlKX0sZ2V0Qm91bmRzWm9vbTpmdW5jdGlvbih0LGUpe3Q9bi5sYXRMbmdCb3VuZHModCk7dmFyIGksbyxzLGE9dGhpcy5nZXRTaXplKCkscj10aGlzLm9wdGlvbnMubWluWm9vbXx8MCxoPXRoaXMuZ2V0TWF4Wm9vbSgpLGw9dC5nZXROb3J0aEVhc3QoKSx1PXQuZ2V0U291dGhXZXN0KCksYz0hMDtlJiZyLS07ZG8gcisrLG89dGhpcy5wcm9qZWN0KGwscikscz10aGlzLnByb2plY3QodSxyKSxpPW5ldyBuLlBvaW50KE1hdGguYWJzKG8ueC1zLngpLE1hdGguYWJzKHMueS1vLnkpKSxjPWU/aS54PGEueHx8aS55PGEueTppLng8PWEueCYmaS55PD1hLnk7d2hpbGUoYyYmaD49cik7cmV0dXJuIGMmJmU/bnVsbDplP3I6ci0xfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuKCF0aGlzLl9zaXplfHx0aGlzLl9zaXplQ2hhbmdlZCkmJih0aGlzLl9zaXplPW5ldyBuLlBvaW50KHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCx0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0KSx0aGlzLl9zaXplQ2hhbmdlZD0hMSksdGhpcy5fc2l6ZS5jbG9uZSgpfSxnZXRQaXhlbEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRvcExlZnRQb2ludCgpO3JldHVybiBuZXcgbi5Cb3VuZHModCx0LmFkZCh0aGlzLmdldFNpemUoKSkpfSxnZXRQaXhlbE9yaWdpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50fSxnZXRQYW5lczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYW5lc30sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sZ2V0Wm9vbVNjYWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5jcnM7cmV0dXJuIGUuc2NhbGUodCkvZS5zY2FsZSh0aGlzLl96b29tKX0sZ2V0U2NhbGVab29tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl96b29tK01hdGgubG9nKHQpL01hdGguTE4yfSxwcm9qZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PWk/dGhpcy5fem9vbTplLHRoaXMub3B0aW9ucy5jcnMubGF0TG5nVG9Qb2ludChuLmxhdExuZyh0KSxlKX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PWk/dGhpcy5fem9vbTplLHRoaXMub3B0aW9ucy5jcnMucG9pbnRUb0xhdExuZyhuLnBvaW50KHQpLGUpfSxsYXllclBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7dmFyIGU9bi5wb2ludCh0KS5hZGQodGhpcy5faW5pdGlhbFRvcExlZnRQb2ludCk7cmV0dXJuIHRoaXMudW5wcm9qZWN0KGUpfSxsYXRMbmdUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0KG4ubGF0TG5nKHQpKS5fcm91bmQoKTtyZXR1cm4gZS5fc3VidHJhY3QodGhpcy5faW5pdGlhbFRvcExlZnRQb2ludCl9LGNvbnRhaW5lclBvaW50VG9MYXllclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBuLnBvaW50KHQpLnN1YnRyYWN0KHRoaXMuX2dldE1hcFBhbmVQb3MoKSl9LGxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBuLnBvaW50KHQpLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxjb250YWluZXJQb2ludFRvTGF0TG5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQobi5wb2ludCh0KSk7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKGUpfSxsYXRMbmdUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHRoaXMubGF0TG5nVG9MYXllclBvaW50KG4ubGF0TG5nKHQpKSl9LG1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBuLkRvbUV2ZW50LmdldE1vdXNlUG9zaXRpb24odCx0aGlzLl9jb250YWluZXIpfSxtb3VzZUV2ZW50VG9MYXllclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCkpfSxtb3VzZUV2ZW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSl9LF9pbml0Q29udGFpbmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRhaW5lcj1uLkRvbVV0aWwuZ2V0KHQpO2lmKGUuX2xlYWZsZXQpdGhyb3cgRXJyb3IoIk1hcCBjb250YWluZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4iKTtlLl9sZWFmbGV0PSEwfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lcjtuLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jb250YWluZXIiKSxuLkJyb3dzZXIudG91Y2gmJm4uRG9tVXRpbC5hZGRDbGFzcyh0LCJsZWFmbGV0LXRvdWNoIiksdGhpcy5vcHRpb25zLmZhZGVBbmltYXRpb24mJm4uRG9tVXRpbC5hZGRDbGFzcyh0LCJsZWFmbGV0LWZhZGUtYW5pbSIpO3ZhciBlPW4uRG9tVXRpbC5nZXRTdHlsZSh0LCJwb3NpdGlvbiIpOyJhYnNvbHV0ZSIhPT1lJiYicmVsYXRpdmUiIT09ZSYmImZpeGVkIiE9PWUmJih0LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHRoaXMuX2luaXRQYW5lcygpLHRoaXMuX2luaXRDb250cm9sUG9zJiZ0aGlzLl9pbml0Q29udHJvbFBvcygpfSxfaW5pdFBhbmVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGFuZXM9e307dGhpcy5fbWFwUGFuZT10Lm1hcFBhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1tYXAtcGFuZSIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl90aWxlUGFuZT10LnRpbGVQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtdGlsZS1wYW5lIix0aGlzLl9tYXBQYW5lKSx0Lm9iamVjdHNQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtb2JqZWN0cy1wYW5lIix0aGlzLl9tYXBQYW5lKSx0LnNoYWRvd1BhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1zaGFkb3ctcGFuZSIpLHQub3ZlcmxheVBhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1vdmVybGF5LXBhbmUiKSx0Lm1hcmtlclBhbmU9dGhpcy5fY3JlYXRlUGFuZSgibGVhZmxldC1tYXJrZXItcGFuZSIpLHQucG9wdXBQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtcG9wdXAtcGFuZSIpO3ZhciBlPSIgbGVhZmxldC16b29tLWhpZGUiO3RoaXMub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9ufHwobi5Eb21VdGlsLmFkZENsYXNzKHQubWFya2VyUGFuZSxlKSxuLkRvbVV0aWwuYWRkQ2xhc3ModC5zaGFkb3dQYW5lLGUpLG4uRG9tVXRpbC5hZGRDbGFzcyh0LnBvcHVwUGFuZSxlKSl9LF9jcmVhdGVQYW5lOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uRG9tVXRpbC5jcmVhdGUoImRpdiIsdCxlfHx0aGlzLl9wYW5lcy5vYmplY3RzUGFuZSl9LF9pbml0TGF5ZXJzOmZ1bmN0aW9uKHQpe3Q9dD9uLlV0aWwuaXNBcnJheSh0KT90Olt0XTpbXSx0aGlzLl9sYXllcnM9e30sdGhpcy5fem9vbUJvdW5kTGF5ZXJzPXt9LHRoaXMuX3RpbGVMYXllcnNOdW09MDt2YXIgZSxpO2ZvcihlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXRoaXMuYWRkTGF5ZXIodFtlXSl9LF9yZXNldFZpZXc6ZnVuY3Rpb24odCxlLGksbyl7dmFyIHM9dGhpcy5fem9vbSE9PWU7b3x8KHRoaXMuZmlyZSgibW92ZXN0YXJ0IikscyYmdGhpcy5maXJlKCJ6b29tc3RhcnQiKSksdGhpcy5fem9vbT1lLHRoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnQ9dGhpcy5fZ2V0TmV3VG9wTGVmdFBvaW50KHQpLGk/dGhpcy5faW5pdGlhbFRvcExlZnRQb2ludC5fYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSk6bi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsbmV3IG4uUG9pbnQoMCwwKSksdGhpcy5fdGlsZUxheWVyc1RvTG9hZD10aGlzLl90aWxlTGF5ZXJzTnVtO3ZhciBhPSF0aGlzLl9sb2FkZWQ7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZSgidmlld3Jlc2V0Iix7aGFyZDohaX0pLHRoaXMuZmlyZSgibW92ZSIpLChzfHxvKSYmdGhpcy5maXJlKCJ6b29tZW5kIiksdGhpcy5maXJlKCJtb3ZlZW5kIix7aGFyZDohaX0pLGEmJnRoaXMuZmlyZSgibG9hZCIpfSxfcmF3UGFuQnk6ZnVuY3Rpb24odCl7bi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KHQpKX0sX3VwZGF0ZVpvb21MZXZlbHM6ZnVuY3Rpb24oKXt2YXIgdCxlPTEvMCxuPS0xLzA7Zm9yKHQgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKWlmKHRoaXMuX3pvb21Cb3VuZExheWVycy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIG89dGhpcy5fem9vbUJvdW5kTGF5ZXJzW3RdO2lzTmFOKG8ub3B0aW9ucy5taW5ab29tKXx8KGU9TWF0aC5taW4oZSxvLm9wdGlvbnMubWluWm9vbSkpLGlzTmFOKG8ub3B0aW9ucy5tYXhab29tKXx8KG49TWF0aC5tYXgobixvLm9wdGlvbnMubWF4Wm9vbSkpfXQ9PT1pP3RoaXMuX2xheWVyc01heFpvb209dGhpcy5fbGF5ZXJzTWluWm9vbT1pOih0aGlzLl9sYXllcnNNYXhab29tPW4sdGhpcy5fbGF5ZXJzTWluWm9vbT1lKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXtpZihuLkRvbUV2ZW50KXtuLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwiY2xpY2siLHRoaXMuX29uTW91c2VDbGljayx0aGlzKTt2YXIgZSxpLG89WyJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlbW92ZSIsImNvbnRleHRtZW51Il07Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbi5Eb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsb1tlXSx0aGlzLl9maXJlTW91c2VFdmVudCx0aGlzKTt0aGlzLm9wdGlvbnMudHJhY2tSZXNpemUmJm4uRG9tRXZlbnQub24odCwicmVzaXplIix0aGlzLl9vblJlc2l6ZSx0aGlzKX19LF9vblJlc2l6ZTpmdW5jdGlvbigpe24uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fcmVzaXplUmVxdWVzdCksdGhpcy5fcmVzaXplUmVxdWVzdD1uLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLmludmFsaWRhdGVTaXplLHRoaXMsITEsdGhpcy5fY29udGFpbmVyKX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXshdGhpcy5fbG9hZGVkfHx0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLm1vdmVkKCl8fCh0aGlzLmZpcmUoInByZWNsaWNrIiksdGhpcy5fZmlyZU1vdXNlRXZlbnQodCkpfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fbG9hZGVkKXt2YXIgZT10LnR5cGU7aWYoZT0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZWxlYXZlIj09PWU/Im1vdXNlb3V0IjplLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnMoZSkpeyJjb250ZXh0bWVudSI9PT1lJiZuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO3ZhciBpPXRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbz10aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLHM9dGhpcy5sYXllclBvaW50VG9MYXRMbmcobyk7dGhpcy5maXJlKGUse2xhdGxuZzpzLGxheWVyUG9pbnQ6byxjb250YWluZXJQb2ludDppLG9yaWdpbmFsRXZlbnQ6dH0pfX19LF9vblRpbGVMYXllckxvYWQ6ZnVuY3Rpb24oKXt0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkLS0sdGhpcy5fdGlsZUxheWVyc051bSYmIXRoaXMuX3RpbGVMYXllcnNUb0xvYWQmJnRoaXMuX3RpbGVCZyYmKGNsZWFyVGltZW91dCh0aGlzLl9jbGVhclRpbGVCZ1RpbWVyKSx0aGlzLl9jbGVhclRpbGVCZ1RpbWVyPXNldFRpbWVvdXQobi5iaW5kKHRoaXMuX2NsZWFyVGlsZUJnLHRoaXMpLDUwMCkpfSx3aGVuUmVhZHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbG9hZGVkP3QuY2FsbChlfHx0aGlzLHRoaXMpOnRoaXMub24oImxvYWQiLHQsZSksdGhpc30sX2dldE1hcFBhbmVQb3M6ZnVuY3Rpb24oKXtyZXR1cm4gbi5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUpfSxfZ2V0VG9wTGVmdFBvaW50OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZCl0aHJvdyBFcnJvcigiU2V0IG1hcCBjZW50ZXIgYW5kIHpvb20gZmlyc3QuIik7cmV0dXJuIHRoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnQuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKX0sX2dldE5ld1RvcExlZnRQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKTtyZXR1cm4gdGhpcy5wcm9qZWN0KHQsZSkuX3N1YnRyYWN0KGkpLl9yb3VuZCgpfSxfbGF0TG5nVG9OZXdMYXllclBvaW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9nZXROZXdUb3BMZWZ0UG9pbnQoaSxlKS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTtyZXR1cm4gdGhpcy5wcm9qZWN0KHQsZSkuX3N1YnRyYWN0KG4pfSxfZ2V0Q2VudGVyTGF5ZXJQb2ludDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KHRoaXMuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSl9LF9nZXRDZW50ZXJPZmZzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF0TG5nVG9MYXllclBvaW50KHQpLnN1YnRyYWN0KHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSl9LF9saW1pdFpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRNaW5ab29tKCksaT10aGlzLmdldE1heFpvb20oKTtyZXR1cm4gTWF0aC5tYXgoZSxNYXRoLm1pbihpLHQpKX19KSxuLm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5NYXAodCxlKX0sbi5Qcm9qZWN0aW9uLk1lcmNhdG9yPXtNQVhfTEFUSVRVREU6ODUuMDg0MDU5MTU1NixSX01JTk9SOjYzNTY3NTIuMzE0MixSX01BSk9SOjYzNzgxMzcscHJvamVjdDpmdW5jdGlvbih0KXt2YXIgZT1uLkxhdExuZy5ERUdfVE9fUkFELGk9dGhpcy5NQVhfTEFUSVRVREUsbz1NYXRoLm1heChNYXRoLm1pbihpLHQubGF0KSwtaSkscz10aGlzLlJfTUFKT1IsYT10aGlzLlJfTUlOT1Iscj10LmxuZyplKnMsaD1vKmUsbD1hL3MsdT1NYXRoLnNxcnQoMS1sKmwpLGM9dSpNYXRoLnNpbihoKTtjPU1hdGgucG93KCgxLWMpLygxK2MpLC41KnUpO3ZhciBfPU1hdGgudGFuKC41KiguNSpNYXRoLlBJLWgpKS9jO3JldHVybiBoPS1hKk1hdGgubG9nKF8pLG5ldyBuLlBvaW50KHIsaCl9LHVucHJvamVjdDpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1uLkxhdExuZy5SQURfVE9fREVHLG89dGhpcy5SX01BSk9SLHM9dGhpcy5SX01JTk9SLGE9dC54KmkvbyxyPXMvbyxoPU1hdGguc3FydCgxLXIqciksbD1NYXRoLmV4cCgtdC55L3MpLHU9TWF0aC5QSS8yLTIqTWF0aC5hdGFuKGwpLGM9MTUsXz0xZS03LGQ9YyxwPS4xO01hdGguYWJzKHApPl8mJi0tZD4wOyllPWgqTWF0aC5zaW4odSkscD1NYXRoLlBJLzItMipNYXRoLmF0YW4obCpNYXRoLnBvdygoMS1lKS8oMStlKSwuNSpoKSktdSx1Kz1wO3JldHVybiBuZXcgbi5MYXRMbmcodSppLGEpfX0sbi5DUlMuRVBTRzMzOTU9bi5leHRlbmQoe30sbi5DUlMse2NvZGU6IkVQU0c6MzM5NSIscHJvamVjdGlvbjpuLlByb2plY3Rpb24uTWVyY2F0b3IsdHJhbnNmb3JtYXRpb246ZnVuY3Rpb24oKXt2YXIgdD1uLlByb2plY3Rpb24uTWVyY2F0b3IsZT10LlJfTUFKT1IsaT10LlJfTUlOT1I7cmV0dXJuIG5ldyBuLlRyYW5zZm9ybWF0aW9uKC41LyhNYXRoLlBJKmUpLC41LC0uNS8oTWF0aC5QSSppKSwuNSl9KCl9KSxuLlRpbGVMYXllcj1uLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6bi5NaXhpbi5FdmVudHMsb3B0aW9uczp7bWluWm9vbTowLG1heFpvb206MTgsdGlsZVNpemU6MjU2LHN1YmRvbWFpbnM6ImFiYyIsZXJyb3JUaWxlVXJsOiIiLGF0dHJpYnV0aW9uOiIiLHpvb21PZmZzZXQ6MCxvcGFjaXR5OjEsdW5sb2FkSW52aXNpYmxlVGlsZXM6bi5Ccm93c2VyLm1vYmlsZSx1cGRhdGVXaGVuSWRsZTpuLkJyb3dzZXIubW9iaWxlfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7ZT1uLnNldE9wdGlvbnModGhpcyxlKSxlLmRldGVjdFJldGluYSYmbi5Ccm93c2VyLnJldGluYSYmZS5tYXhab29tPjAmJihlLnRpbGVTaXplPU1hdGguZmxvb3IoZS50aWxlU2l6ZS8yKSxlLnpvb21PZmZzZXQrKyxlLm1pblpvb20+MCYmZS5taW5ab29tLS0sdGhpcy5vcHRpb25zLm1heFpvb20tLSksdGhpcy5fdXJsPXQ7dmFyIGk9dGhpcy5vcHRpb25zLnN1YmRvbWFpbnM7InN0cmluZyI9PXR5cGVvZiBpJiYodGhpcy5vcHRpb25zLnN1YmRvbWFpbnM9aS5zcGxpdCgiIikpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9pbml0Q29udGFpbmVyKCksdGhpcy5fY3JlYXRlVGlsZVByb3RvKCksdC5vbih7dmlld3Jlc2V0OnRoaXMuX3Jlc2V0Q2FsbGJhY2ssbW92ZWVuZDp0aGlzLl91cGRhdGV9LHRoaXMpLHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZXx8KHRoaXMuX2xpbWl0ZWRVcGRhdGU9bi5VdGlsLmxpbWl0RXhlY0J5SW50ZXJ2YWwodGhpcy5fdXBkYXRlLDE1MCx0aGlzKSx0Lm9uKCJtb3ZlIix0aGlzLl9saW1pdGVkVXBkYXRlLHRoaXMpKSx0aGlzLl9yZXNldCgpLHRoaXMuX3VwZGF0ZSgpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy5fcmVzZXRDYWxsYmFjayxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlfHx0Lm9mZigibW92ZSIsdGhpcy5fbGltaXRlZFVwZGF0ZSx0aGlzKSx0aGlzLl9jb250YWluZXI9bnVsbCx0aGlzLl9tYXA9bnVsbH0sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodC5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuX3NldEF1dG9aSW5kZXgodCxNYXRoLm1heCkpLHRoaXN9LGJyaW5nVG9CYWNrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiYodC5pbnNlcnRCZWZvcmUodGhpcy5fY29udGFpbmVyLHQuZmlyc3RDaGlsZCksdGhpcy5fc2V0QXV0b1pJbmRleCh0LE1hdGgubWluKSksdGhpc30sZ2V0QXR0cmlidXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9ufSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eT10LHRoaXMuX21hcCYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LHNldFpJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnpJbmRleD10LHRoaXMuX3VwZGF0ZVpJbmRleCgpLHRoaXN9LHNldFVybDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl91cmw9dCxlfHx0aGlzLnJlZHJhdygpLHRoaXN9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lLmVtcHR5PSExLHRoaXMuX3Jlc2V0KCEwKSx0aGlzLl91cGRhdGUoKSksdGhpc30sX3VwZGF0ZVpJbmRleDpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lciYmdGhpcy5vcHRpb25zLnpJbmRleCE9PWkmJih0aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4PXRoaXMub3B0aW9ucy56SW5kZXgpfSxfc2V0QXV0b1pJbmRleDpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxzPXQuY2hpbGRyZW4sYT0tZSgxLzAsLTEvMCk7Zm9yKG49MCxvPXMubGVuZ3RoO28+bjtuKyspc1tuXSE9PXRoaXMuX2NvbnRhaW5lciYmKGk9cGFyc2VJbnQoc1tuXS5zdHlsZS56SW5kZXgsMTApLGlzTmFOKGkpfHwoYT1lKGEsaSkpKTt0aGlzLm9wdGlvbnMuekluZGV4PXRoaXMuX2NvbnRhaW5lci5zdHlsZS56SW5kZXg9KGlzRmluaXRlKGEpP2E6MCkrZSgxLC0xKX0sX3VwZGF0ZU9wYWNpdHk6ZnVuY3Rpb24oKXtuLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsdGhpcy5vcHRpb25zLm9wYWNpdHkpO3ZhciB0LGU9dGhpcy5fdGlsZXM7aWYobi5Ccm93c2VyLndlYmtpdClmb3IodCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJihlW3RdLnN0eWxlLndlYmtpdFRyYW5zZm9ybSs9IiB0cmFuc2xhdGUoMCwwKSIpfSxfaW5pdENvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXMudGlsZVBhbmU7KCF0aGlzLl9jb250YWluZXJ8fHQuZW1wdHkpJiYodGhpcy5fY29udGFpbmVyPW4uRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtbGF5ZXIiKSx0aGlzLl91cGRhdGVaSW5kZXgoKSx0LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksMT50aGlzLm9wdGlvbnMub3BhY2l0eSYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpKX0sX3Jlc2V0Q2FsbGJhY2s6ZnVuY3Rpb24odCl7dGhpcy5fcmVzZXQodC5oYXJkKX0sX3Jlc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzO2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJnRoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6ZVtpXX0pO3RoaXMuX3RpbGVzPXt9LHRoaXMuX3RpbGVzVG9Mb2FkPTAsdGhpcy5vcHRpb25zLnJldXNlVGlsZXMmJih0aGlzLl91bnVzZWRUaWxlcz1bXSksdCYmdGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLmlubmVySFRNTD0iIiksdGhpcy5faW5pdENvbnRhaW5lcigpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD10aGlzLl9tYXAuZ2V0UGl4ZWxCb3VuZHMoKSxlPXRoaXMuX21hcC5nZXRab29tKCksaT10aGlzLm9wdGlvbnMudGlsZVNpemU7aWYoIShlPnRoaXMub3B0aW9ucy5tYXhab29tfHx0aGlzLm9wdGlvbnMubWluWm9vbT5lKSl7dmFyIG89bmV3IG4uUG9pbnQoTWF0aC5mbG9vcih0Lm1pbi54L2kpLE1hdGguZmxvb3IodC5taW4ueS9pKSkscz1uZXcgbi5Qb2ludChNYXRoLmZsb29yKHQubWF4LngvaSksTWF0aC5mbG9vcih0Lm1heC55L2kpKSxhPW5ldyBuLkJvdW5kcyhvLHMpO3RoaXMuX2FkZFRpbGVzRnJvbUNlbnRlck91dChhKSwodGhpcy5vcHRpb25zLnVubG9hZEludmlzaWJsZVRpbGVzfHx0aGlzLm9wdGlvbnMucmV1c2VUaWxlcykmJnRoaXMuX3JlbW92ZU90aGVyVGlsZXMoYSl9fX0sX2FkZFRpbGVzRnJvbUNlbnRlck91dDpmdW5jdGlvbih0KXt2YXIgaSxvLHMsYT1bXSxyPXQuZ2V0Q2VudGVyKCk7Zm9yKGk9dC5taW4ueTt0Lm1heC55Pj1pO2krKylmb3Iobz10Lm1pbi54O3QubWF4Lng+PW87bysrKXM9bmV3IG4uUG9pbnQobyxpKSx0aGlzLl90aWxlU2hvdWxkQmVMb2FkZWQocykmJmEucHVzaChzKTt2YXIgaD1hLmxlbmd0aDtpZigwIT09aCl7YS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGlzdGFuY2VUbyhyKS1lLmRpc3RhbmNlVG8ocil9KTt2YXIgbD1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodGhpcy5fdGlsZXNUb0xvYWR8fHRoaXMuZmlyZSgibG9hZGluZyIpLHRoaXMuX3RpbGVzVG9Mb2FkKz1oLG89MDtoPm87bysrKXRoaXMuX2FkZFRpbGUoYVtvXSxsKTt0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQobCl9fSxfdGlsZVNob3VsZEJlTG9hZGVkOmZ1bmN0aW9uKHQpe2lmKHQueCsiOiIrdC55IGluIHRoaXMuX3RpbGVzKXJldHVybiExO2lmKCF0aGlzLm9wdGlvbnMuY29udGludW91c1dvcmxkKXt2YXIgZT10aGlzLl9nZXRXcmFwVGlsZU51bSgpO2lmKHRoaXMub3B0aW9ucy5ub1dyYXAmJigwPnQueHx8dC54Pj1lKXx8MD50Lnl8fHQueT49ZSlyZXR1cm4hMX1yZXR1cm4hMH0sX3JlbW92ZU90aGVyVGlsZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLG87Zm9yKG8gaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXMuaGFzT3duUHJvcGVydHkobykmJihlPW8uc3BsaXQoIjoiKSxpPXBhcnNlSW50KGVbMF0sMTApLG49cGFyc2VJbnQoZVsxXSwxMCksKHQubWluLng+aXx8aT50Lm1heC54fHx0Lm1pbi55Pm58fG4+dC5tYXgueSkmJnRoaXMuX3JlbW92ZVRpbGUobykpfSxfcmVtb3ZlVGlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aWxlc1t0XTt0aGlzLmZpcmUoInRpbGV1bmxvYWQiLHt0aWxlOmUsdXJsOmUuc3JjfSksdGhpcy5vcHRpb25zLnJldXNlVGlsZXM/KG4uRG9tVXRpbC5yZW1vdmVDbGFzcyhlLCJsZWFmbGV0LXRpbGUtbG9hZGVkIiksdGhpcy5fdW51c2VkVGlsZXMucHVzaChlKSk6ZS5wYXJlbnROb2RlPT09dGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQoZSksbi5Ccm93c2VyLmFuZHJvaWR8fChlLnNyYz1uLlV0aWwuZW1wdHlJbWFnZVVybCksZGVsZXRlIHRoaXMuX3RpbGVzW3RdfSxfYWRkVGlsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldFRpbGVQb3ModCksbz10aGlzLl9nZXRUaWxlKCk7bi5Eb21VdGlsLnNldFBvc2l0aW9uKG8saSxuLkJyb3dzZXIuY2hyb21lfHxuLkJyb3dzZXIuYW5kcm9pZDIzKSx0aGlzLl90aWxlc1t0LngrIjoiK3QueV09byx0aGlzLl9sb2FkVGlsZShvLHQpLG8ucGFyZW50Tm9kZSE9PXRoaXMuX2NvbnRhaW5lciYmZS5hcHBlbmRDaGlsZChvKQp9LF9nZXRab29tRm9yVXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fbWFwLmdldFpvb20oKTtyZXR1cm4gdC56b29tUmV2ZXJzZSYmKGU9dC5tYXhab29tLWUpLGUrdC56b29tT2Zmc2V0fSxfZ2V0VGlsZVBvczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAuZ2V0UGl4ZWxPcmlnaW4oKSxpPXRoaXMub3B0aW9ucy50aWxlU2l6ZTtyZXR1cm4gdC5tdWx0aXBseUJ5KGkpLnN1YnRyYWN0KGUpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGp1c3RUaWxlUG9pbnQodCksbi5VdGlsLnRlbXBsYXRlKHRoaXMuX3VybCxuLmV4dGVuZCh7czp0aGlzLl9nZXRTdWJkb21haW4odCksejp0aGlzLl9nZXRab29tRm9yVXJsKCkseDp0LngseTp0Lnl9LHRoaXMub3B0aW9ucykpfSxfZ2V0V3JhcFRpbGVOdW06ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5wb3coMix0aGlzLl9nZXRab29tRm9yVXJsKCkpfSxfYWRqdXN0VGlsZVBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFdyYXBUaWxlTnVtKCk7dGhpcy5vcHRpb25zLmNvbnRpbnVvdXNXb3JsZHx8dGhpcy5vcHRpb25zLm5vV3JhcHx8KHQueD0odC54JWUrZSklZSksdGhpcy5vcHRpb25zLnRtcyYmKHQueT1lLXQueS0xKX0sX2dldFN1YmRvbWFpbjpmdW5jdGlvbih0KXt2YXIgZT0odC54K3QueSkldGhpcy5vcHRpb25zLnN1YmRvbWFpbnMubGVuZ3RoO3JldHVybiB0aGlzLm9wdGlvbnMuc3ViZG9tYWluc1tlXX0sX2NyZWF0ZVRpbGVQcm90bzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RpbGVJbWc9bi5Eb21VdGlsLmNyZWF0ZSgiaW1nIiwibGVhZmxldC10aWxlIik7dC5zdHlsZS53aWR0aD10LnN0eWxlLmhlaWdodD10aGlzLm9wdGlvbnMudGlsZVNpemUrInB4Iix0LmdhbGxlcnlpbWc9Im5vIn0sX2dldFRpbGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMucmV1c2VUaWxlcyYmdGhpcy5fdW51c2VkVGlsZXMubGVuZ3RoPjApe3ZhciB0PXRoaXMuX3VudXNlZFRpbGVzLnBvcCgpO3JldHVybiB0aGlzLl9yZXNldFRpbGUodCksdH1yZXR1cm4gdGhpcy5fY3JlYXRlVGlsZSgpfSxfcmVzZXRUaWxlOmZ1bmN0aW9uKCl7fSxfY3JlYXRlVGlsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RpbGVJbWcuY2xvbmVOb2RlKCExKTtyZXR1cm4gdC5vbnNlbGVjdHN0YXJ0PXQub25tb3VzZW1vdmU9bi5VdGlsLmZhbHNlRm4sdH0sX2xvYWRUaWxlOmZ1bmN0aW9uKHQsZSl7dC5fbGF5ZXI9dGhpcyx0Lm9ubG9hZD10aGlzLl90aWxlT25Mb2FkLHQub25lcnJvcj10aGlzLl90aWxlT25FcnJvcix0LnNyYz10aGlzLmdldFRpbGVVcmwoZSl9LF90aWxlTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5fdGlsZXNUb0xvYWQtLSx0aGlzLl90aWxlc1RvTG9hZHx8dGhpcy5maXJlKCJsb2FkIil9LF90aWxlT25Mb2FkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGF5ZXI7dGhpcy5zcmMhPT1uLlV0aWwuZW1wdHlJbWFnZVVybCYmKG4uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLCJsZWFmbGV0LXRpbGUtbG9hZGVkIiksdC5maXJlKCJ0aWxlbG9hZCIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KSksdC5fdGlsZUxvYWRlZCgpfSxfdGlsZU9uRXJyb3I6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXllcjt0LmZpcmUoInRpbGVlcnJvciIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KTt2YXIgZT10Lm9wdGlvbnMuZXJyb3JUaWxlVXJsO2UmJih0aGlzLnNyYz1lKSx0Ll90aWxlTG9hZGVkKCl9fSksbi50aWxlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG4uVGlsZUxheWVyKHQsZSl9LG4uVGlsZUxheWVyLldNUz1uLlRpbGVMYXllci5leHRlbmQoe2RlZmF1bHRXbXNQYXJhbXM6e3NlcnZpY2U6IldNUyIscmVxdWVzdDoiR2V0TWFwIix2ZXJzaW9uOiIxLjEuMSIsbGF5ZXJzOiIiLHN0eWxlczoiIixmb3JtYXQ6ImltYWdlL2pwZWciLHRyYW5zcGFyZW50OiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fdXJsPXQ7dmFyIGk9bi5leHRlbmQoe30sdGhpcy5kZWZhdWx0V21zUGFyYW1zKTtpLndpZHRoPWkuaGVpZ2h0PWUuZGV0ZWN0UmV0aW5hJiZuLkJyb3dzZXIucmV0aW5hPzIqdGhpcy5vcHRpb25zLnRpbGVTaXplOnRoaXMub3B0aW9ucy50aWxlU2l6ZTtmb3IodmFyIG8gaW4gZSl0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkobyl8fChpW29dPWVbb10pO3RoaXMud21zUGFyYW1zPWksbi5zZXRPcHRpb25zKHRoaXMsZSl9LG9uQWRkOmZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik+PTEuMz8iY3JzIjoic3JzIjt0aGlzLndtc1BhcmFtc1tlXT10Lm9wdGlvbnMuY3JzLmNvZGUsbi5UaWxlTGF5ZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcyx0KX0sZ2V0VGlsZVVybDpmdW5jdGlvbih0LGUpe3RoaXMuX2FkanVzdFRpbGVQb2ludCh0KTt2YXIgaT10aGlzLl9tYXAsbz1pLm9wdGlvbnMuY3JzLHM9dGhpcy5vcHRpb25zLnRpbGVTaXplLGE9dC5tdWx0aXBseUJ5KHMpLHI9YS5hZGQobmV3IG4uUG9pbnQocyxzKSksaD1vLnByb2plY3QoaS51bnByb2plY3QoYSxlKSksbD1vLnByb2plY3QoaS51bnByb2plY3QocixlKSksdT1baC54LGwueSxsLngsaC55XS5qb2luKCIsIiksYz1uLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KX0pO3JldHVybiBjK24uVXRpbC5nZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcyxjKSsiJmJib3g9Iit1fSxzZXRQYXJhbXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5leHRlbmQodGhpcy53bXNQYXJhbXMsdCksZXx8dGhpcy5yZWRyYXcoKSx0aGlzfX0pLG4udGlsZUxheWVyLndtcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5UaWxlTGF5ZXIuV01TKHQsZSl9LG4uVGlsZUxheWVyLkNhbnZhcz1uLlRpbGVMYXllci5leHRlbmQoe29wdGlvbnM6e2FzeW5jOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe24uc2V0T3B0aW9ucyh0aGlzLHQpfSxyZWRyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90aWxlcztmb3IodmFyIGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiZ0aGlzLl9yZWRyYXdUaWxlKHRbZV0pfSxfcmVkcmF3VGlsZTpmdW5jdGlvbih0KXt0aGlzLmRyYXdUaWxlKHQsdC5fdGlsZVBvaW50LHRoaXMuX21hcC5fem9vbSl9LF9jcmVhdGVUaWxlUHJvdG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYW52YXNQcm90bz1uLkRvbVV0aWwuY3JlYXRlKCJjYW52YXMiLCJsZWFmbGV0LXRpbGUiKTt0LndpZHRoPXQuaGVpZ2h0PXRoaXMub3B0aW9ucy50aWxlU2l6ZX0sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYW52YXNQcm90by5jbG9uZU5vZGUoITEpO3JldHVybiB0Lm9uc2VsZWN0c3RhcnQ9dC5vbm1vdXNlbW92ZT1uLlV0aWwuZmFsc2VGbix0fSxfbG9hZFRpbGU6ZnVuY3Rpb24odCxlKXt0Ll9sYXllcj10aGlzLHQuX3RpbGVQb2ludD1lLHRoaXMuX3JlZHJhd1RpbGUodCksdGhpcy5vcHRpb25zLmFzeW5jfHx0aGlzLnRpbGVEcmF3bih0KX0sZHJhd1RpbGU6ZnVuY3Rpb24oKXt9LHRpbGVEcmF3bjpmdW5jdGlvbih0KXt0aGlzLl90aWxlT25Mb2FkLmNhbGwodCl9fSksbi50aWxlTGF5ZXIuY2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5UaWxlTGF5ZXIuQ2FudmFzKHQpfSxuLkltYWdlT3ZlcmxheT1uLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6bi5NaXhpbi5FdmVudHMsb3B0aW9uczp7b3BhY2l0eToxfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl91cmw9dCx0aGlzLl9ib3VuZHM9bi5sYXRMbmdCb3VuZHMoZSksbi5zZXRPcHRpb25zKHRoaXMsaSl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2ltYWdlfHx0aGlzLl9pbml0SW1hZ2UoKSx0Ll9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSksdC5vbigidmlld3Jlc2V0Iix0aGlzLl9yZXNldCx0aGlzKSx0Lm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmbi5Ccm93c2VyLmFueTNkJiZ0Lm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyksdGhpcy5fcmVzZXQoKX0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5nZXRQYW5lcygpLm92ZXJsYXlQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2ltYWdlKSx0Lm9mZigidmlld3Jlc2V0Iix0aGlzLl9yZXNldCx0aGlzKSx0Lm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmdC5vZmYoInpvb21hbmltIix0aGlzLl9hbmltYXRlWm9vbSx0aGlzKX0sYWRkVG86ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkTGF5ZXIodGhpcyksdGhpc30sc2V0T3BhY2l0eTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wYWNpdHk9dCx0aGlzLl91cGRhdGVPcGFjaXR5KCksdGhpc30sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlJiZ0aGlzLl9tYXAuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHRoaXMuX2ltYWdlKSx0aGlzfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXMub3ZlcmxheVBhbmU7cmV0dXJuIHRoaXMuX2ltYWdlJiZ0Lmluc2VydEJlZm9yZSh0aGlzLl9pbWFnZSx0LmZpcnN0Q2hpbGQpLHRoaXN9LF9pbml0SW1hZ2U6ZnVuY3Rpb24oKXt0aGlzLl9pbWFnZT1uLkRvbVV0aWwuY3JlYXRlKCJpbWciLCJsZWFmbGV0LWltYWdlLWxheWVyIiksdGhpcy5fbWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmbi5Ccm93c2VyLmFueTNkP24uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSwibGVhZmxldC16b29tLWFuaW1hdGVkIik6bi5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2ltYWdlLCJsZWFmbGV0LXpvb20taGlkZSIpLHRoaXMuX3VwZGF0ZU9wYWNpdHkoKSxuLmV4dGVuZCh0aGlzLl9pbWFnZSx7Z2FsbGVyeWltZzoibm8iLG9uc2VsZWN0c3RhcnQ6bi5VdGlsLmZhbHNlRm4sb25tb3VzZW1vdmU6bi5VdGlsLmZhbHNlRm4sb25sb2FkOm4uYmluZCh0aGlzLl9vbkltYWdlTG9hZCx0aGlzKSxzcmM6dGhpcy5fdXJsfSl9LF9hbmltYXRlWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT10aGlzLl9pbWFnZSxvPWUuZ2V0Wm9vbVNjYWxlKHQuem9vbSkscz10aGlzLl9ib3VuZHMuZ2V0Tm9ydGhXZXN0KCksYT10aGlzLl9ib3VuZHMuZ2V0U291dGhFYXN0KCkscj1lLl9sYXRMbmdUb05ld0xheWVyUG9pbnQocyx0Lnpvb20sdC5jZW50ZXIpLGg9ZS5fbGF0TG5nVG9OZXdMYXllclBvaW50KGEsdC56b29tLHQuY2VudGVyKS5fc3VidHJhY3QociksbD1yLl9hZGQoaC5fbXVsdGlwbHlCeSguNSooMS0xL28pKSk7aS5zdHlsZVtuLkRvbVV0aWwuVFJBTlNGT1JNXT1uLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGwpKyIgc2NhbGUoIitvKyIpICJ9LF9yZXNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ltYWdlLGU9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ib3VuZHMuZ2V0Tm9ydGhXZXN0KCkpLGk9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ib3VuZHMuZ2V0U291dGhFYXN0KCkpLl9zdWJ0cmFjdChlKTtuLkRvbVV0aWwuc2V0UG9zaXRpb24odCxlKSx0LnN0eWxlLndpZHRoPWkueCsicHgiLHQuc3R5bGUuaGVpZ2h0PWkueSsicHgifSxfb25JbWFnZUxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoImxvYWQiKX0sX3VwZGF0ZU9wYWNpdHk6ZnVuY3Rpb24oKXtuLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pbWFnZSx0aGlzLm9wdGlvbnMub3BhY2l0eSl9fSksbi5pbWFnZU92ZXJsYXk9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgbi5JbWFnZU92ZXJsYXkodCxlLGkpfSxuLkljb249bi5DbGFzcy5leHRlbmQoe29wdGlvbnM6e2NsYXNzTmFtZToiIn0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtuLnNldE9wdGlvbnModGhpcyx0KX0sY3JlYXRlSWNvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVJY29uKCJpY29uIil9LGNyZWF0ZVNoYWRvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVJY29uKCJzaGFkb3ciKX0sX2NyZWF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0SWNvblVybCh0KTtpZighZSl7aWYoImljb24iPT09dCl0aHJvdyBFcnJvcigiaWNvblVybCBub3Qgc2V0IGluIEljb24gb3B0aW9ucyAoc2VlIHRoZSBkb2NzKS4iKTtyZXR1cm4gbnVsbH12YXIgaT10aGlzLl9jcmVhdGVJbWcoZSk7cmV0dXJuIHRoaXMuX3NldEljb25TdHlsZXMoaSx0KSxpfSxfc2V0SWNvblN0eWxlczpmdW5jdGlvbih0LGUpe3ZhciBpLG89dGhpcy5vcHRpb25zLHM9bi5wb2ludChvW2UrIlNpemUiXSk7aT0ic2hhZG93Ij09PWU/bi5wb2ludChvLnNoYWRvd0FuY2hvcnx8by5pY29uQW5jaG9yKTpuLnBvaW50KG8uaWNvbkFuY2hvciksIWkmJnMmJihpPXMuZGl2aWRlQnkoMiwhMCkpLHQuY2xhc3NOYW1lPSJsZWFmbGV0LW1hcmtlci0iK2UrIiAiK28uY2xhc3NOYW1lLGkmJih0LnN0eWxlLm1hcmdpbkxlZnQ9LWkueCsicHgiLHQuc3R5bGUubWFyZ2luVG9wPS1pLnkrInB4IikscyYmKHQuc3R5bGUud2lkdGg9cy54KyJweCIsdC5zdHlsZS5oZWlnaHQ9cy55KyJweCIpfSxfY3JlYXRlSW1nOmZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiBuLkJyb3dzZXIuaWU2PyhpPWUuY3JlYXRlRWxlbWVudCgiZGl2IiksaS5zdHlsZS5maWx0ZXI9J3Byb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0iJyt0KyciKScpOihpPWUuY3JlYXRlRWxlbWVudCgiaW1nIiksaS5zcmM9dCksaX0sX2dldEljb25Vcmw6ZnVuY3Rpb24odCl7cmV0dXJuIG4uQnJvd3Nlci5yZXRpbmEmJnRoaXMub3B0aW9uc1t0KyJSZXRpbmFVcmwiXT90aGlzLm9wdGlvbnNbdCsiUmV0aW5hVXJsIl06dGhpcy5vcHRpb25zW3QrIlVybCJdfX0pLG4uaWNvbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4uSWNvbih0KX0sbi5JY29uLkRlZmF1bHQ9bi5JY29uLmV4dGVuZCh7b3B0aW9uczp7aWNvblNpemU6bmV3IG4uUG9pbnQoMjUsNDEpLGljb25BbmNob3I6bmV3IG4uUG9pbnQoMTIsNDEpLHBvcHVwQW5jaG9yOm5ldyBuLlBvaW50KDEsLTM0KSxzaGFkb3dTaXplOm5ldyBuLlBvaW50KDQxLDQxKX0sX2dldEljb25Vcmw6ZnVuY3Rpb24odCl7dmFyIGU9dCsiVXJsIjtpZih0aGlzLm9wdGlvbnNbZV0pcmV0dXJuIHRoaXMub3B0aW9uc1tlXTtuLkJyb3dzZXIucmV0aW5hJiYiaWNvbiI9PT10JiYodCs9IkAyeCIpO3ZhciBpPW4uSWNvbi5EZWZhdWx0LmltYWdlUGF0aDtpZighaSl0aHJvdyBFcnJvcigiQ291bGRuJ3QgYXV0b2RldGVjdCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGgsIHNldCBpdCBtYW51YWxseS4iKTtyZXR1cm4gaSsiL21hcmtlci0iK3QrIi5wbmcifX0pLG4uSWNvbi5EZWZhdWx0LmltYWdlUGF0aD1mdW5jdGlvbigpe3ZhciB0LGksbixvLHM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksYT0vXC8/bGVhZmxldFtcLVwuX10/KFtcd1wtXC5fXSopXC5qc1w/Py87Zm9yKHQ9MCxpPXMubGVuZ3RoO2k+dDt0KyspaWYobj1zW3RdLnNyYyxvPW4ubWF0Y2goYSkpcmV0dXJuIG4uc3BsaXQoYSlbMF0rIi9pbWFnZXMifSgpLG4uTWFya2VyPW4uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpuLk1peGluLkV2ZW50cyxvcHRpb25zOntpY29uOm5ldyBuLkljb24uRGVmYXVsdCx0aXRsZToiIixjbGlja2FibGU6ITAsZHJhZ2dhYmxlOiExLHpJbmRleE9mZnNldDowLG9wYWNpdHk6MSxyaXNlT25Ib3ZlcjohMSxyaXNlT2Zmc2V0OjI1MH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe24uc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2xhdGxuZz1uLmxhdExuZyh0KX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdC5vbigidmlld3Jlc2V0Iix0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLl9pbml0SWNvbigpLHRoaXMudXBkYXRlKCksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uJiZ0Lm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUljb24oKSx0aGlzLmZpcmUoInJlbW92ZSIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy51cGRhdGUsem9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb219LHRoaXMpLHRoaXMuX21hcD1udWxsfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1uLmxhdExuZyh0KSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgibW92ZSIse2xhdGxuZzp0aGlzLl9sYXRsbmd9KX0sc2V0WkluZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0PXQsdGhpcy51cGRhdGUoKSx0aGlzfSxzZXRJY29uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tYXAmJnRoaXMuX3JlbW92ZUljb24oKSx0aGlzLm9wdGlvbnMuaWNvbj10LHRoaXMuX21hcCYmKHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5faWNvbil7dmFyIHQ9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpLnJvdW5kKCk7dGhpcy5fc2V0UG9zKHQpfXJldHVybiB0aGlzfSxfaW5pdEljb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLl9tYXAsaT1lLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmZS5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb24sbz1pPyJsZWFmbGV0LXpvb20tYW5pbWF0ZWQiOiJsZWFmbGV0LXpvb20taGlkZSIscz0hMTt0aGlzLl9pY29ufHwodGhpcy5faWNvbj10Lmljb24uY3JlYXRlSWNvbigpLHQudGl0bGUmJih0aGlzLl9pY29uLnRpdGxlPXQudGl0bGUpLHRoaXMuX2luaXRJbnRlcmFjdGlvbigpLHM9MT50aGlzLm9wdGlvbnMub3BhY2l0eSxuLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faWNvbixvKSx0LnJpc2VPbkhvdmVyJiZuLkRvbUV2ZW50Lm9uKHRoaXMuX2ljb24sIm1vdXNlb3ZlciIsdGhpcy5fYnJpbmdUb0Zyb250LHRoaXMpLm9uKHRoaXMuX2ljb24sIm1vdXNlb3V0Iix0aGlzLl9yZXNldFpJbmRleCx0aGlzKSksdGhpcy5fc2hhZG93fHwodGhpcy5fc2hhZG93PXQuaWNvbi5jcmVhdGVTaGFkb3coKSx0aGlzLl9zaGFkb3cmJihuLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fc2hhZG93LG8pLHM9MT50aGlzLm9wdGlvbnMub3BhY2l0eSkpLHMmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKTt2YXIgYT10aGlzLl9tYXAuX3BhbmVzO2EubWFya2VyUGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pY29uKSx0aGlzLl9zaGFkb3cmJmEuc2hhZG93UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9zaGFkb3cpfSxfcmVtb3ZlSWNvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXM7dGhpcy5vcHRpb25zLnJpc2VPbkhvdmVyJiZuLkRvbUV2ZW50Lm9mZih0aGlzLl9pY29uLCJtb3VzZW92ZXIiLHRoaXMuX2JyaW5nVG9Gcm9udCkub2ZmKHRoaXMuX2ljb24sIm1vdXNlb3V0Iix0aGlzLl9yZXNldFpJbmRleCksdC5tYXJrZXJQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2ljb24pLHRoaXMuX3NoYWRvdyYmdC5zaGFkb3dQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX3NoYWRvdyksdGhpcy5faWNvbj10aGlzLl9zaGFkb3c9bnVsbH0sX3NldFBvczpmdW5jdGlvbih0KXtuLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5faWNvbix0KSx0aGlzLl9zaGFkb3cmJm4uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9zaGFkb3csdCksdGhpcy5fekluZGV4PXQueSt0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0LHRoaXMuX3Jlc2V0WkluZGV4KCl9LF91cGRhdGVaSW5kZXg6ZnVuY3Rpb24odCl7dGhpcy5faWNvbi5zdHlsZS56SW5kZXg9dGhpcy5fekluZGV4K3R9LF9hbmltYXRlWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsdC56b29tLHQuY2VudGVyKTt0aGlzLl9zZXRQb3MoZSl9LF9pbml0SW50ZXJhY3Rpb246ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXt2YXIgdD10aGlzLl9pY29uLGU9WyJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwiY29udGV4dG1lbnUiXTtuLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jbGlja2FibGUiKSxuLkRvbUV2ZW50Lm9uKHQsImNsaWNrIix0aGlzLl9vbk1vdXNlQ2xpY2ssdGhpcyk7Zm9yKHZhciBpPTA7ZS5sZW5ndGg+aTtpKyspbi5Eb21FdmVudC5vbih0LGVbaV0sdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcyk7bi5IYW5kbGVyLk1hcmtlckRyYWcmJih0aGlzLmRyYWdnaW5nPW5ldyBuLkhhbmRsZXIuTWFya2VyRHJhZyh0aGlzKSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZ0aGlzLmRyYWdnaW5nLmVuYWJsZSgpKX19LF9vbk1vdXNlQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpOyh0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSl8fGUpJiZuLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KSxlfHwodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5fZW5hYmxlZHx8IXRoaXMuX21hcC5kcmFnZ2luZ3x8IXRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpKSYmdGhpcy5maXJlKHQudHlwZSx7b3JpZ2luYWxFdmVudDp0fSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXt0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnR9KSwiY29udGV4dG1lbnUiPT09dC50eXBlJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSkmJm4uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksIm1vdXNlZG93biIhPT10LnR5cGUmJm4uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fbWFwJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCl9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7bi5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faWNvbix0aGlzLm9wdGlvbnMub3BhY2l0eSksdGhpcy5fc2hhZG93JiZuLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9zaGFkb3csdGhpcy5vcHRpb25zLm9wYWNpdHkpfSxfYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KX0sX3Jlc2V0WkluZGV4OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KDApfX0pLG4ubWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLk1hcmtlcih0LGUpfSxuLkRpdkljb249bi5JY29uLmV4dGVuZCh7b3B0aW9uczp7aWNvblNpemU6bmV3IG4uUG9pbnQoMTIsMTIpLGNsYXNzTmFtZToibGVhZmxldC1kaXYtaWNvbiJ9LGNyZWF0ZUljb246ZnVuY3Rpb24oKXt2YXIgdD1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGk9dGhpcy5vcHRpb25zO3JldHVybiBpLmh0bWwmJih0LmlubmVySFRNTD1pLmh0bWwpLGkuYmdQb3MmJih0LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0taS5iZ1Bvcy54KyJweCAiKy1pLmJnUG9zLnkrInB4IiksdGhpcy5fc2V0SWNvblN0eWxlcyh0LCJpY29uIiksdH0sY3JlYXRlU2hhZG93OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSksbi5kaXZJY29uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5EaXZJY29uKHQpfSxuLk1hcC5tZXJnZU9wdGlvbnMoe2Nsb3NlUG9wdXBPbkNsaWNrOiEwfSksbi5Qb3B1cD1uLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6bi5NaXhpbi5FdmVudHMsb3B0aW9uczp7bWluV2lkdGg6NTAsbWF4V2lkdGg6MzAwLG1heEhlaWdodDpudWxsLGF1dG9QYW46ITAsY2xvc2VCdXR0b246ITAsb2Zmc2V0Om5ldyBuLlBvaW50KDAsNiksYXV0b1BhblBhZGRpbmc6bmV3IG4uUG9pbnQoNSw1KSxjbGFzc05hbWU6IiIsem9vbUFuaW1hdGlvbjohMH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe24uc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX3NvdXJjZT1lLHRoaXMuX2FuaW1hdGVkPW4uQnJvd3Nlci5hbnkzZCYmdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb259LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcnx8dGhpcy5faW5pdExheW91dCgpLHRoaXMuX3VwZGF0ZUNvbnRlbnQoKTt2YXIgZT10Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbjtlJiZuLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsMCksdC5fcGFuZXMucG9wdXBQYW5lLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vbigidmlld3Jlc2V0Iix0aGlzLl91cGRhdGVQb3NpdGlvbix0aGlzKSx0aGlzLl9hbmltYXRlZCYmdC5vbigiem9vbWFuaW0iLHRoaXMuX3pvb21BbmltYXRpb24sdGhpcyksdC5vcHRpb25zLmNsb3NlUG9wdXBPbkNsaWNrJiZ0Lm9uKCJwcmVjbGljayIsdGhpcy5fY2xvc2UsdGhpcyksdGhpcy5fdXBkYXRlKCksZSYmbi5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDEpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvcGVuT246ZnVuY3Rpb24odCl7cmV0dXJuIHQub3BlblBvcHVwKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuX3BhbmVzLnBvcHVwUGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLG4uVXRpbC5mYWxzZUZuKHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aCksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLl91cGRhdGVQb3NpdGlvbixwcmVjbGljazp0aGlzLl9jbG9zZSx6b29tYW5pbTp0aGlzLl96b29tQW5pbWF0aW9ufSx0aGlzKSx0Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbiYmbi5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDApLHRoaXMuX21hcD1udWxsfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1uLmxhdExuZyh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb250ZW50PXQsdGhpcy5fdXBkYXRlKCksdGhpc30sX2Nsb3NlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwO3QmJih0Ll9wb3B1cD1udWxsLHQucmVtb3ZlTGF5ZXIodGhpcykuZmlyZSgicG9wdXBjbG9zZSIse3BvcHVwOnRoaXN9KSl9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQsZT0ibGVhZmxldC1wb3B1cCIsaT1lKyIgIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKyIgbGVhZmxldC16b29tLSIrKHRoaXMuX2FuaW1hdGVkPyJhbmltYXRlZCI6ImhpZGUiKSxvPXRoaXMuX2NvbnRhaW5lcj1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGkpO3RoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbiYmKHQ9dGhpcy5fY2xvc2VCdXR0b249bi5Eb21VdGlsLmNyZWF0ZSgiYSIsZSsiLWNsb3NlLWJ1dHRvbiIsbyksdC5ocmVmPSIjY2xvc2UiLHQuaW5uZXJIVE1MPSImIzIxNTsiLG4uRG9tRXZlbnQub24odCwiY2xpY2siLHRoaXMuX29uQ2xvc2VCdXR0b25DbGljayx0aGlzKSk7dmFyIHM9dGhpcy5fd3JhcHBlcj1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi1jb250ZW50LXdyYXBwZXIiLG8pO24uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24ocyksdGhpcy5fY29udGVudE5vZGU9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItY29udGVudCIscyksbi5Eb21FdmVudC5vbih0aGlzLl9jb250ZW50Tm9kZSwibW91c2V3aGVlbCIsbi5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLHRoaXMuX3RpcENvbnRhaW5lcj1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi10aXAtY29udGFpbmVyIixvKSx0aGlzLl90aXA9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItdGlwIix0aGlzLl90aXBDb250YWluZXIpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fdXBkYXRlQ29udGVudCgpLHRoaXMuX3VwZGF0ZUxheW91dCgpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksdGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9IiIsdGhpcy5fYWRqdXN0UGFuKCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbnRlbnQpe2lmKCJzdHJpbmciPT10eXBlb2YgdGhpcy5fY29udGVudCl0aGlzLl9jb250ZW50Tm9kZS5pbm5lckhUTUw9dGhpcy5fY29udGVudDtlbHNle2Zvcig7dGhpcy5fY29udGVudE5vZGUuaGFzQ2hpbGROb2RlcygpOyl0aGlzLl9jb250ZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250ZW50Tm9kZS5maXJzdENoaWxkKTt0aGlzLl9jb250ZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KX10aGlzLmZpcmUoImNvbnRlbnR1cGRhdGUiKX19LF91cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250ZW50Tm9kZSxlPXQuc3R5bGU7ZS53aWR0aD0iIixlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGk9dC5vZmZzZXRXaWR0aDtpPU1hdGgubWluKGksdGhpcy5vcHRpb25zLm1heFdpZHRoKSxpPU1hdGgubWF4KGksdGhpcy5vcHRpb25zLm1pbldpZHRoKSxlLndpZHRoPWkrMSsicHgiLGUud2hpdGVTcGFjZT0iIixlLmhlaWdodD0iIjt2YXIgbz10Lm9mZnNldEhlaWdodCxzPXRoaXMub3B0aW9ucy5tYXhIZWlnaHQsYT0ibGVhZmxldC1wb3B1cC1zY3JvbGxlZCI7cyYmbz5zPyhlLmhlaWdodD1zKyJweCIsbi5Eb21VdGlsLmFkZENsYXNzKHQsYSkpOm4uRG9tVXRpbC5yZW1vdmVDbGFzcyh0LGEpLHRoaXMuX2NvbnRhaW5lcldpZHRoPXRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aH0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksZT10aGlzLl9hbmltYXRlZCxpPXRoaXMub3B0aW9ucy5vZmZzZXQ7ZSYmbi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcix0KSx0aGlzLl9jb250YWluZXJCb3R0b209LWkueS0oZT8wOnQueSksdGhpcy5fY29udGFpbmVyTGVmdD0tTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aC8yKStpLngrKGU/MDp0LngpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5fY29udGFpbmVyQm90dG9tKyJweCIsdGhpcy5fY29udGFpbmVyLnN0eWxlLmxlZnQ9dGhpcy5fY29udGFpbmVyTGVmdCsicHgifX0sX3pvb21BbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcik7bi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcixlKX0sX2FkanVzdFBhbjpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5hdXRvUGFuKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0LGk9dGhpcy5fY29udGFpbmVyV2lkdGgsbz1uZXcgbi5Qb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LC1lLXRoaXMuX2NvbnRhaW5lckJvdHRvbSk7dGhpcy5fYW5pbWF0ZWQmJm8uX2FkZChuLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7dmFyIHM9dC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChvKSxhPXRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZyxyPXQuZ2V0U2l6ZSgpLGg9MCxsPTA7MD5zLngmJihoPXMueC1hLngpLHMueCtpPnIueCYmKGg9cy54K2ktci54K2EueCksMD5zLnkmJihsPXMueS1hLnkpLHMueStlPnIueSYmKGw9cy55K2Utci55K2EueSksKGh8fGwpJiZ0LnBhbkJ5KG5ldyBuLlBvaW50KGgsbCkpfX0sX29uQ2xvc2VCdXR0b25DbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZSgpLG4uRG9tRXZlbnQuc3RvcCh0KX19KSxuLnBvcHVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLlBvcHVwKHQsZSl9LG4uTWFya2VyLmluY2x1ZGUoe29wZW5Qb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmdGhpcy5fbWFwJiYodGhpcy5fcG9wdXAuc2V0TGF0TG5nKHRoaXMuX2xhdGxuZyksdGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LGJpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3ZhciBpPW4ucG9pbnQodGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5wb3B1cEFuY2hvcil8fG5ldyBuLlBvaW50KDAsMCk7cmV0dXJuIGk9aS5hZGQobi5Qb3B1cC5wcm90b3R5cGUub3B0aW9ucy5vZmZzZXQpLGUmJmUub2Zmc2V0JiYoaT1pLmFkZChlLm9mZnNldCkpLGU9bi5leHRlbmQoe29mZnNldDppfSxlKSx0aGlzLl9wb3B1cHx8dGhpcy5vbigiY2xpY2siLHRoaXMub3BlblBvcHVwLHRoaXMpLm9uKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vbigibW92ZSIsdGhpcy5fbW92ZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwPW5ldyBuLlBvcHVwKGUsdGhpcykuc2V0Q29udGVudCh0KSx0aGlzfSx1bmJpbmRQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPW51bGwsdGhpcy5vZmYoImNsaWNrIix0aGlzLm9wZW5Qb3B1cCkub2ZmKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCkub2ZmKCJtb3ZlIix0aGlzLl9tb3ZlUG9wdXApKSx0aGlzfSxfbW92ZVBvcHVwOmZ1bmN0aW9uKHQpe3RoaXMuX3BvcHVwLnNldExhdExuZyh0LmxhdGxuZyl9fSksbi5NYXAuaW5jbHVkZSh7b3BlblBvcHVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb3NlUG9wdXAoKSx0aGlzLl9wb3B1cD10LHRoaXMuYWRkTGF5ZXIodCkuZmlyZSgicG9wdXBvcGVuIix7cG9wdXA6dGhpcy5fcG9wdXB9KX0sY2xvc2VQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2Nsb3NlKCksdGhpc319KSxuLkxheWVyR3JvdXA9bi5DbGFzcy5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbGF5ZXJzPXt9O3ZhciBlLGk7aWYodClmb3IoZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyl0aGlzLmFkZExheWVyKHRbZV0pfSxhZGRMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1uLnN0YW1wKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV09dCx0aGlzLl9tYXAmJnRoaXMuX21hcC5hZGRMYXllcih0KSx0aGlzfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1uLnN0YW1wKHQpO3JldHVybiBkZWxldGUgdGhpcy5fbGF5ZXJzW2VdLHRoaXMuX21hcCYmdGhpcy5fbWFwLnJlbW92ZUxheWVyKHQpLHRoaXN9LGNsZWFyTGF5ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaExheWVyKHRoaXMucmVtb3ZlTGF5ZXIsdGhpcyksdGhpc30saW52b2tlOmZ1bmN0aW9uKHQpe3ZhciBlLGksbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Zm9yKGUgaW4gdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVycy5oYXNPd25Qcm9wZXJ0eShlKSYmKGk9dGhpcy5fbGF5ZXJzW2VdLGlbdF0mJmlbdF0uYXBwbHkoaSxuKSk7cmV0dXJuIHRoaXN9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuZWFjaExheWVyKHQuYWRkTGF5ZXIsdCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZWFjaExheWVyKHQucmVtb3ZlTGF5ZXIsdCksdGhpcy5fbWFwPW51bGx9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LGVhY2hMYXllcjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzLmhhc093blByb3BlcnR5KGkpJiZ0LmNhbGwoZSx0aGlzLl9sYXllcnNbaV0pfSxzZXRaSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW52b2tlKCJzZXRaSW5kZXgiLHQpfX0pLG4ubGF5ZXJHcm91cD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4uTGF5ZXJHcm91cCh0KX0sbi5GZWF0dXJlR3JvdXA9bi5MYXllckdyb3VwLmV4dGVuZCh7aW5jbHVkZXM6bi5NaXhpbi5FdmVudHMsc3RhdGljczp7RVZFTlRTOiJjbGljayBkYmxjbGljayBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIGNvbnRleHRtZW51In0sYWRkTGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xheWVyc1tuLnN0YW1wKHQpXT90aGlzOih0Lm9uKG4uRmVhdHVyZUdyb3VwLkVWRU5UUyx0aGlzLl9wcm9wYWdhdGVFdmVudCx0aGlzKSxuLkxheWVyR3JvdXAucHJvdG90eXBlLmFkZExheWVyLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cENvbnRlbnQmJnQuYmluZFBvcHVwJiZ0LmJpbmRQb3B1cCh0aGlzLl9wb3B1cENvbnRlbnQsdGhpcy5fcG9wdXBPcHRpb25zKSx0aGlzLmZpcmUoImxheWVyYWRkIix7bGF5ZXI6dH0pKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQub2ZmKG4uRmVhdHVyZUdyb3VwLkVWRU5UUyx0aGlzLl9wcm9wYWdhdGVFdmVudCx0aGlzKSxuLkxheWVyR3JvdXAucHJvdG90eXBlLnJlbW92ZUxheWVyLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cENvbnRlbnQmJnRoaXMuaW52b2tlKCJ1bmJpbmRQb3B1cCIpLHRoaXMuZmlyZSgibGF5ZXJyZW1vdmUiLHtsYXllcjp0fSl9LGJpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9wb3B1cENvbnRlbnQ9dCx0aGlzLl9wb3B1cE9wdGlvbnM9ZSx0aGlzLmludm9rZSgiYmluZFBvcHVwIix0LGUpfSxzZXRTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZva2UoInNldFN0eWxlIix0KX0sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52b2tlKCJicmluZ1RvRnJvbnQiKX0sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZva2UoImJyaW5nVG9CYWNrIil9LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PW5ldyBuLkxhdExuZ0JvdW5kcztyZXR1cm4gdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24oZSl7dC5leHRlbmQoZSBpbnN0YW5jZW9mIG4uTWFya2VyP2UuZ2V0TGF0TG5nKCk6ZS5nZXRCb3VuZHMoKSl9KSx0fSxfcHJvcGFnYXRlRXZlbnQ6ZnVuY3Rpb24odCl7dC5sYXllcj10LnRhcmdldCx0LnRhcmdldD10aGlzLHRoaXMuZmlyZSh0LnR5cGUsdCl9fSksbi5mZWF0dXJlR3JvdXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuLkZlYXR1cmVHcm91cCh0KX0sbi5QYXRoPW4uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpbbi5NaXhpbi5FdmVudHNdLHN0YXRpY3M6e0NMSVBfUEFERElORzpuLkJyb3dzZXIubW9iaWxlP01hdGgubWF4KDAsTWF0aC5taW4oLjUsKDEyODAvTWF0aC5tYXgodC5pbm5lcldpZHRoLHQuaW5uZXJIZWlnaHQpLTEpLzIpKTouNX0sb3B0aW9uczp7c3Ryb2tlOiEwLGNvbG9yOiIjMDAzM2ZmIixkYXNoQXJyYXk6bnVsbCx3ZWlnaHQ6NSxvcGFjaXR5Oi41LGZpbGw6ITEsZmlsbENvbG9yOm51bGwsZmlsbE9wYWNpdHk6LjIsY2xpY2thYmxlOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe24uc2V0T3B0aW9ucyh0aGlzLHQpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fCh0aGlzLl9pbml0RWxlbWVudHMoKSx0aGlzLl9pbml0RXZlbnRzKCkpLHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl91cGRhdGVQYXRoKCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5maXJlKCJhZGQiKSx0Lm9uKHt2aWV3cmVzZXQ6dGhpcy5wcm9qZWN0TGF0bG5ncyxtb3ZlZW5kOnRoaXMuX3VwZGF0ZVBhdGh9LHRoaXMpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Ll9wYXRoUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuZmlyZSgicmVtb3ZlIiksdGhpcy5fbWFwPW51bGwsbi5Ccm93c2VyLnZtbCYmKHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX3N0cm9rZT1udWxsLHRoaXMuX2ZpbGw9bnVsbCksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLnByb2plY3RMYXRsbmdzLG1vdmVlbmQ6dGhpcy5fdXBkYXRlUGF0aH0sdGhpcyl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7fSxzZXRTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXN9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLnByb2plY3RMYXRsbmdzKCksdGhpcy5fdXBkYXRlUGF0aCgpKSx0aGlzfX0pLG4uTWFwLmluY2x1ZGUoe191cGRhdGVQYXRoVmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1uLlBhdGguQ0xJUF9QQURESU5HLGU9dGhpcy5nZXRTaXplKCksaT1uLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSksbz1pLm11bHRpcGx5QnkoLTEpLl9zdWJ0cmFjdChlLm11bHRpcGx5QnkodCkuX3JvdW5kKCkpLHM9by5hZGQoZS5tdWx0aXBseUJ5KDErMip0KS5fcm91bmQoKSk7dGhpcy5fcGF0aFZpZXdwb3J0PW5ldyBuLkJvdW5kcyhvLHMpfX0pLG4uUGF0aC5TVkdfTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixuLkJyb3dzZXIuc3ZnPSEoIWUuY3JlYXRlRWxlbWVudE5TfHwhZS5jcmVhdGVFbGVtZW50TlMobi5QYXRoLlNWR19OUywic3ZnIikuY3JlYXRlU1ZHUmVjdCksbi5QYXRoPW4uUGF0aC5leHRlbmQoe3N0YXRpY3M6e1NWRzpuLkJyb3dzZXIuc3ZnfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyO3JldHVybiBlJiZ0Lmxhc3RDaGlsZCE9PWUmJnQuYXBwZW5kQ2hpbGQoZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyLGk9dC5maXJzdENoaWxkO3JldHVybiBlJiZpIT09ZSYmdC5pbnNlcnRCZWZvcmUoZSxpKSx0aGlzfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7fSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVFbGVtZW50TlMobi5QYXRoLlNWR19OUyx0KX0sX2luaXRFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuX21hcC5faW5pdFBhdGhSb290KCksdGhpcy5faW5pdFBhdGgoKSx0aGlzLl9pbml0U3R5bGUoKX0sX2luaXRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyPXRoaXMuX2NyZWF0ZUVsZW1lbnQoImciKSx0aGlzLl9wYXRoPXRoaXMuX2NyZWF0ZUVsZW1lbnQoInBhdGgiKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aCl9LF9pbml0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3Ryb2tlJiYodGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsInJvdW5kIiksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lY2FwIiwicm91bmQiKSksdGhpcy5vcHRpb25zLmZpbGwmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsLXJ1bGUiLCJldmVub2RkIiksdGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0cm9rZT8odGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsdGhpcy5vcHRpb25zLmNvbG9yKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW9wYWNpdHkiLHRoaXMub3B0aW9ucy5vcGFjaXR5KSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIix0aGlzLm9wdGlvbnMud2VpZ2h0KSx0aGlzLm9wdGlvbnMuZGFzaEFycmF5P3RoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5Iix0aGlzLm9wdGlvbnMuZGFzaEFycmF5KTp0aGlzLl9wYXRoLnJlbW92ZUF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIpKTp0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwibm9uZSIpLHRoaXMub3B0aW9ucy5maWxsPyh0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsdGhpcy5vcHRpb25zLmZpbGxDb2xvcnx8dGhpcy5vcHRpb25zLmNvbG9yKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgiZmlsbC1vcGFjaXR5Iix0aGlzLm9wdGlvbnMuZmlsbE9wYWNpdHkpKTp0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKX0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFBhdGhTdHJpbmcoKTt0fHwodD0iTTAgMCIpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJkIix0KX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXsobi5Ccm93c2VyLnN2Z3x8IW4uQnJvd3Nlci52bWwpJiZ0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJsZWFmbGV0LWNsaWNrYWJsZSIpLG4uRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO2Zvcih2YXIgdD1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLGU9MDt0Lmxlbmd0aD5lO2UrKyluLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lcix0W2VdLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpfX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXt0aGlzLl9tYXAuZHJhZ2dpbmcmJnRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLl9maXJlTW91c2VFdmVudCh0KX0sX2ZpcmVNb3VzZUV2ZW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKSl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSxvPWUuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoaSkscz1lLmxheWVyUG9pbnRUb0xhdExuZyhvKTt0aGlzLmZpcmUodC50eXBlLHtsYXRsbmc6cyxsYXllclBvaW50Om8sY29udGFpbmVyUG9pbnQ6aSxvcmlnaW5hbEV2ZW50OnR9KSwiY29udGV4dG1lbnUiPT09dC50eXBlJiZuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLCJtb3VzZW1vdmUiIT09dC50eXBlJiZuLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX19fSksbi5NYXAuaW5jbHVkZSh7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3RoaXMuX3BhdGhSb290fHwodGhpcy5fcGF0aFJvb3Q9bi5QYXRoLnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudCgic3ZnIiksdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aFJvb3QpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZuLkJyb3dzZXIuYW55M2Q/KHRoaXMuX3BhdGhSb290LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCIgbGVhZmxldC16b29tLWFuaW1hdGVkIiksdGhpcy5vbih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVBhdGhab29tLHpvb21lbmQ6dGhpcy5fZW5kUGF0aFpvb219KSk6dGhpcy5fcGF0aFJvb3Quc2V0QXR0cmlidXRlKCJjbGFzcyIsIiBsZWFmbGV0LXpvb20taGlkZSIpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVN2Z1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVTdmdWaWV3cG9ydCgpKX0sX2FuaW1hdGVQYXRoWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFpvb21TY2FsZSh0Lnpvb20pLGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQuY2VudGVyKS5fbXVsdGlwbHlCeSgtZSkuX2FkZCh0aGlzLl9wYXRoVmlld3BvcnQubWluKTt0aGlzLl9wYXRoUm9vdC5zdHlsZVtuLkRvbVV0aWwuVFJBTlNGT1JNXT1uLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGkpKyIgc2NhbGUoIitlKyIpICIsdGhpcy5fcGF0aFpvb21pbmc9ITB9LF9lbmRQYXRoWm9vbTpmdW5jdGlvbigpe3RoaXMuX3BhdGhab29taW5nPSExfSxfdXBkYXRlU3ZnVmlld3BvcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF0aFpvb21pbmcpe3RoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCgpO3ZhciB0PXRoaXMuX3BhdGhWaWV3cG9ydCxlPXQubWluLGk9dC5tYXgsbz1pLngtZS54LHM9aS55LWUueSxhPXRoaXMuX3BhdGhSb290LHI9dGhpcy5fcGFuZXMub3ZlcmxheVBhbmU7bi5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5yZW1vdmVDaGlsZChhKSxuLkRvbVV0aWwuc2V0UG9zaXRpb24oYSxlKSxhLnNldEF0dHJpYnV0ZSgid2lkdGgiLG8pLGEuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHMpLGEuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IixbZS54LGUueSxvLHNdLmpvaW4oIiAiKSksbi5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5hcHBlbmRDaGlsZChhKX19fSksbi5QYXRoLmluY2x1ZGUoe2JpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybighdGhpcy5fcG9wdXB8fGUpJiYodGhpcy5fcG9wdXA9bmV3IG4uUG9wdXAoZSx0aGlzKSksdGhpcy5fcG9wdXAuc2V0Q29udGVudCh0KSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWR8fCh0aGlzLm9uKCJjbGljayIsdGhpcy5fb3BlblBvcHVwLHRoaXMpLm9uKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITApLHRoaXN9LHVuYmluZFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9bnVsbCx0aGlzLm9mZigiY2xpY2siLHRoaXMuX29wZW5Qb3B1cCkub2ZmKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCksdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkPSExKSx0aGlzfSxvcGVuUG9wdXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodD10fHx0aGlzLl9sYXRsbmd8fHRoaXMuX2xhdGxuZ3NbTWF0aC5mbG9vcih0aGlzLl9sYXRsbmdzLmxlbmd0aC8yKV0sdGhpcy5fb3BlblBvcHVwKHtsYXRsbmc6dH0pKSx0aGlzfSxjbG9zZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5fY2xvc2UoKSx0aGlzfSxfb3BlblBvcHVwOmZ1bmN0aW9uKHQpe3RoaXMuX3BvcHVwLnNldExhdExuZyh0LmxhdGxuZyksdGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCl9fSksbi5Ccm93c2VyLnZtbD0hbi5Ccm93c2VyLnN2ZyYmZnVuY3Rpb24oKXt0cnl7dmFyIHQ9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LmlubmVySFRNTD0nPHY6c2hhcGUgYWRqPSIxIi8+Jzt2YXIgaT10LmZpcnN0Q2hpbGQ7cmV0dXJuIGkuc3R5bGUuYmVoYXZpb3I9InVybCgjZGVmYXVsdCNWTUwpIixpJiYib2JqZWN0Ij09dHlwZW9mIGkuYWRqfWNhdGNoKG4pe3JldHVybiExfX0oKSxuLlBhdGg9bi5Ccm93c2VyLnN2Z3x8IW4uQnJvd3Nlci52bWw/bi5QYXRoOm4uUGF0aC5leHRlbmQoe3N0YXRpY3M6e1ZNTDohMCxDTElQX1BBRERJTkc6LjAyfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5uYW1lc3BhY2VzLmFkZCgibHZtbCIsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiksZnVuY3Rpb24odCl7cmV0dXJuIGUuY3JlYXRlRWxlbWVudCgiPGx2bWw6Iit0KycgY2xhc3M9Imx2bWwiPicpfX1jYXRjaCh0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuY3JlYXRlRWxlbWVudCgiPCIrdCsnIHhtbG5zPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQuY29tOnZtbCIgY2xhc3M9Imx2bWwiPicpfX19KCksX2luaXRQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyPXRoaXMuX2NyZWF0ZUVsZW1lbnQoInNoYXBlIik7bi5Eb21VdGlsLmFkZENsYXNzKHQsImxlYWZsZXQtdm1sLXNoYXBlIiksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmbi5Eb21VdGlsLmFkZENsYXNzKHQsImxlYWZsZXQtY2xpY2thYmxlIiksdC5jb29yZHNpemU9IjEgMSIsdGhpcy5fcGF0aD10aGlzLl9jcmVhdGVFbGVtZW50KCJwYXRoIiksdC5hcHBlbmRDaGlsZCh0aGlzLl9wYXRoKSx0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHQpfSxfaW5pdFN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3Ryb2tlLGU9dGhpcy5fZmlsbCxpPXRoaXMub3B0aW9ucyxuPXRoaXMuX2NvbnRhaW5lcjtuLnN0cm9rZWQ9aS5zdHJva2Usbi5maWxsZWQ9aS5maWxsLGkuc3Ryb2tlPyh0fHwodD10aGlzLl9zdHJva2U9dGhpcy5fY3JlYXRlRWxlbWVudCgic3Ryb2tlIiksdC5lbmRjYXA9InJvdW5kIixuLmFwcGVuZENoaWxkKHQpKSx0LndlaWdodD1pLndlaWdodCsicHgiLHQuY29sb3I9aS5jb2xvcix0Lm9wYWNpdHk9aS5vcGFjaXR5LHQuZGFzaFN0eWxlPWkuZGFzaEFycmF5P2kuZGFzaEFycmF5IGluc3RhbmNlb2YgQXJyYXk/aS5kYXNoQXJyYXkuam9pbigiICIpOmkuZGFzaEFycmF5LnJlcGxhY2UoLyAqLCAqL2csIiAiKToiIik6dCYmKG4ucmVtb3ZlQ2hpbGQodCksdGhpcy5fc3Ryb2tlPW51bGwpLGkuZmlsbD8oZXx8KGU9dGhpcy5fZmlsbD10aGlzLl9jcmVhdGVFbGVtZW50KCJmaWxsIiksbi5hcHBlbmRDaGlsZChlKSksZS5jb2xvcj1pLmZpbGxDb2xvcnx8aS5jb2xvcixlLm9wYWNpdHk9aS5maWxsT3BhY2l0eSk6ZSYmKG4ucmVtb3ZlQ2hpbGQoZSksdGhpcy5fZmlsbD1udWxsKX0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXIuc3R5bGU7dC5kaXNwbGF5PSJub25lIix0aGlzLl9wYXRoLnY9dGhpcy5nZXRQYXRoU3RyaW5nKCkrIiAiLHQuZGlzcGxheT0iIn19KSxuLk1hcC5pbmNsdWRlKG4uQnJvd3Nlci5zdmd8fCFuLkJyb3dzZXIudm1sP3t9OntfaW5pdFBhdGhSb290OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhSb290KXt2YXIgdD10aGlzLl9wYXRoUm9vdD1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPSJsZWFmbGV0LXZtbC1jb250YWluZXIiLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHQpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCksdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCl9fX0pLG4uQnJvd3Nlci5jYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4hIWUuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dH0oKSxuLlBhdGg9bi5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhbi5Ccm93c2VyLmNhbnZhcz9uLlBhdGg6bi5QYXRoLmV4dGVuZCh7c3RhdGljczp7Q0FOVkFTOiEwLFNWRzohMX0scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCkpLHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiBuLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9tYXAmJih0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoInZpZXdyZXNldCIsdGhpcy5wcm9qZWN0TGF0bG5ncyx0aGlzKS5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGgsdGhpcyksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmdGhpcy5fbWFwLm9mZigiY2xpY2siLHRoaXMuX29uQ2xpY2ssdGhpcyksdGhpcy5fcmVxdWVzdFVwZGF0ZSgpLHRoaXMuX21hcD1udWxsfSxfcmVxdWVzdFVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmIW4uUGF0aC5fdXBkYXRlUmVxdWVzdCYmKG4uUGF0aC5fdXBkYXRlUmVxdWVzdD1uLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9maXJlTWFwTW92ZUVuZCx0aGlzLl9tYXApKX0sX2ZpcmVNYXBNb3ZlRW5kOmZ1bmN0aW9uKCl7bi5QYXRoLl91cGRhdGVSZXF1ZXN0PW51bGwsdGhpcy5maXJlKCJtb3ZlZW5kIil9LF9pbml0RWxlbWVudHM6ZnVuY3Rpb24oKXt0aGlzLl9tYXAuX2luaXRQYXRoUm9vdCgpLHRoaXMuX2N0eD10aGlzLl9tYXAuX2NhbnZhc0N0eH0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3Quc3Ryb2tlJiYodGhpcy5fY3R4LmxpbmVXaWR0aD10LndlaWdodCx0aGlzLl9jdHguc3Ryb2tlU3R5bGU9dC5jb2xvciksdC5maWxsJiYodGhpcy5fY3R4LmZpbGxTdHlsZT10LmZpbGxDb2xvcnx8dC5jb2xvcil9LF9kcmF3UGF0aDpmdW5jdGlvbigpe3ZhciB0LGUsaSxvLHMsYTtmb3IodGhpcy5fY3R4LmJlZ2luUGF0aCgpLHQ9MCxpPXRoaXMuX3BhcnRzLmxlbmd0aDtpPnQ7dCsrKXtmb3IoZT0wLG89dGhpcy5fcGFydHNbdF0ubGVuZ3RoO28+ZTtlKyspcz10aGlzLl9wYXJ0c1t0XVtlXSxhPSgwPT09ZT8ibW92ZSI6ImxpbmUiKSsiVG8iLHRoaXMuX2N0eFthXShzLngscy55KTt0aGlzIGluc3RhbmNlb2Ygbi5Qb2x5Z29uJiZ0aGlzLl9jdHguY2xvc2VQYXRoKCl9fSxfY2hlY2tJZkVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3BhcnRzLmxlbmd0aH0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXtpZighdGhpcy5fY2hlY2tJZkVtcHR5KCkpe3ZhciB0PXRoaXMuX2N0eCxlPXRoaXMub3B0aW9uczt0aGlzLl9kcmF3UGF0aCgpLHQuc2F2ZSgpLHRoaXMuX3VwZGF0ZVN0eWxlKCksZS5maWxsJiYodC5nbG9iYWxBbHBoYT1lLmZpbGxPcGFjaXR5LHQuZmlsbCgpKSxlLnN0cm9rZSYmKHQuZ2xvYmFsQWxwaGE9ZS5vcGFjaXR5LHQuc3Ryb2tlKCkpLHQucmVzdG9yZSgpfX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiZ0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9vbkNsaWNrLHRoaXMpfSxfb25DbGljazpmdW5jdGlvbih0KXt0aGlzLl9jb250YWluc1BvaW50KHQubGF5ZXJQb2ludCkmJnRoaXMuZmlyZSgiY2xpY2siLHtsYXRsbmc6dC5sYXRsbmcsbGF5ZXJQb2ludDp0LmxheWVyUG9pbnQsY29udGFpbmVyUG9pbnQ6dC5jb250YWluZXJQb2ludCxvcmlnaW5hbEV2ZW50OnR9KX19KSxuLk1hcC5pbmNsdWRlKG4uUGF0aC5TVkcmJiF0LkxfUFJFRkVSX0NBTlZBU3x8IW4uQnJvd3Nlci5jYW52YXM/e306e19pbml0UGF0aFJvb3Q6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3BhdGhSb290O2l8fChpPXRoaXMuX3BhdGhSb290PWUuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksaS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHQ9dGhpcy5fY2FudmFzQ3R4PWkuZ2V0Q29udGV4dCgiMmQiKSx0LmxpbmVDYXA9InJvdW5kIix0LmxpbmVKb2luPSJyb3VuZCIsdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQoaSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJih0aGlzLl9wYXRoUm9vdC5jbGFzc05hbWU9ImxlYWZsZXQtem9vbS1hbmltYXRlZCIsdGhpcy5vbigiem9vbWFuaW0iLHRoaXMuX2FuaW1hdGVQYXRoWm9vbSksdGhpcy5vbigiem9vbWVuZCIsdGhpcy5fZW5kUGF0aFpvb20pKSx0aGlzLm9uKCJtb3ZlZW5kIix0aGlzLl91cGRhdGVDYW52YXNWaWV3cG9ydCksdGhpcy5fdXBkYXRlQ2FudmFzVmlld3BvcnQoKSl9LF91cGRhdGVDYW52YXNWaWV3cG9ydDpmdW5jdGlvbigpe2lmKCF0aGlzLl9wYXRoWm9vbWluZyl7dGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCk7dmFyIHQ9dGhpcy5fcGF0aFZpZXdwb3J0LGU9dC5taW4saT10Lm1heC5zdWJ0cmFjdChlKSxvPXRoaXMuX3BhdGhSb290O24uRG9tVXRpbC5zZXRQb3NpdGlvbihvLGUpLG8ud2lkdGg9aS54LG8uaGVpZ2h0PWkueSxvLmdldENvbnRleHQoIjJkIikudHJhbnNsYXRlKC1lLngsLWUueSl9fX0pLG4uTGluZVV0aWw9e3NpbXBsaWZ5OmZ1bmN0aW9uKHQsZSl7aWYoIWV8fCF0Lmxlbmd0aClyZXR1cm4gdC5zbGljZSgpO3ZhciBpPWUqZTtyZXR1cm4gdD10aGlzLl9yZWR1Y2VQb2ludHModCxpKSx0PXRoaXMuX3NpbXBsaWZ5RFAodCxpKX0scG9pbnRUb1NlZ21lbnREaXN0YW5jZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0LGUsaSwhMCkpfSxjbG9zZXN0UG9pbnRPblNlZ21lbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0LGUsaSl9LF9zaW1wbGlmeURQOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGgsbz10eXBlb2YgVWludDhBcnJheSE9aSsiIj9VaW50OEFycmF5OkFycmF5LHM9bmV3IG8obik7c1swXT1zW24tMV09MSx0aGlzLl9zaW1wbGlmeURQU3RlcCh0LHMsZSwwLG4tMSk7dmFyIGEscj1bXTtmb3IoYT0wO24+YTthKyspc1thXSYmci5wdXNoKHRbYV0pO3JldHVybiByfSxfc2ltcGxpZnlEUFN0ZXA6ZnVuY3Rpb24odCxlLGksbixvKXt2YXIgcyxhLHIsaD0wO2ZvcihhPW4rMTtvLTE+PWE7YSsrKXI9dGhpcy5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQodFthXSx0W25dLHRbb10sITApLHI+aCYmKHM9YSxoPXIpO2g+aSYmKGVbc109MSx0aGlzLl9zaW1wbGlmeURQU3RlcCh0LGUsaSxuLHMpLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQsZSxpLHMsbykpfSxfcmVkdWNlUG9pbnRzOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVt0WzBdXSxuPTEsbz0wLHM9dC5sZW5ndGg7cz5uO24rKyl0aGlzLl9zcURpc3QodFtuXSx0W29dKT5lJiYoaS5wdXNoKHRbbl0pLG89bik7cmV0dXJuIHMtMT5vJiZpLnB1c2godFtzLTFdKSxpfSxjbGlwU2VnbWVudDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxzLGEscj1uP3RoaXMuX2xhc3RDb2RlOnRoaXMuX2dldEJpdENvZGUodCxpKSxoPXRoaXMuX2dldEJpdENvZGUoZSxpKTtmb3IodGhpcy5fbGFzdENvZGU9aDs7KXtpZighKHJ8aCkpcmV0dXJuW3QsZV07aWYociZoKXJldHVybiExO289cnx8aCxzPXRoaXMuX2dldEVkZ2VJbnRlcnNlY3Rpb24odCxlLG8saSksYT10aGlzLl9nZXRCaXRDb2RlKHMsaSksbz09PXI/KHQ9cyxyPWEpOihlPXMsaD1hKX19LF9nZXRFZGdlSW50ZXJzZWN0aW9uOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBhPWUueC10Lngscj1lLnktdC55LGg9cy5taW4sbD1zLm1heDtyZXR1cm4gOCZvP25ldyBuLlBvaW50KHQueCthKihsLnktdC55KS9yLGwueSk6NCZvP25ldyBuLlBvaW50KHQueCthKihoLnktdC55KS9yLGgueSk6MiZvP25ldyBuLlBvaW50KGwueCx0LnkrcioobC54LXQueCkvYSk6MSZvP25ldyBuLlBvaW50KGgueCx0LnkrciooaC54LXQueCkvYSk6aX0sX2dldEJpdENvZGU6ZnVuY3Rpb24odCxlKXt2YXIgaT0wO3JldHVybiB0Lng8ZS5taW4ueD9pfD0xOnQueD5lLm1heC54JiYoaXw9MiksdC55PGUubWluLnk/aXw9NDp0Lnk+ZS5tYXgueSYmKGl8PTgpLGl9LF9zcURpc3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngtdC54LG49ZS55LXQueTtyZXR1cm4gaSppK24qbn0sX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50OmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBzLGE9ZS54LHI9ZS55LGg9aS54LWEsbD1pLnktcix1PWgqaCtsKmw7cmV0dXJuIHU+MCYmKHM9KCh0LngtYSkqaCsodC55LXIpKmwpL3Uscz4xPyhhPWkueCxyPWkueSk6cz4wJiYoYSs9aCpzLHIrPWwqcykpLGg9dC54LWEsbD10LnktcixvP2gqaCtsKmw6bmV3IG4uUG9pbnQoYSxyKX19LG4uUG9seWxpbmU9bi5QYXRoLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe24uUGF0aC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSksdGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0KX0sb3B0aW9uczp7c21vb3RoRmFjdG9yOjEsbm9DbGlwOiExfSxwcm9qZWN0TGF0bG5nczpmdW5jdGlvbigpe3RoaXMuX29yaWdpbmFsUG9pbnRzPVtdO2Zvcih2YXIgdD0wLGU9dGhpcy5fbGF0bG5ncy5sZW5ndGg7ZT50O3QrKyl0aGlzLl9vcmlnaW5hbFBvaW50c1t0XT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZ3NbdF0pfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLl9wYXJ0cy5sZW5ndGgsaT0iIjtlPnQ7dCsrKWkrPXRoaXMuX2dldFBhdGhQYXJ0U3RyKHRoaXMuX3BhcnRzW3RdKTtyZXR1cm4gaX0sZ2V0TGF0TG5nczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRsbmdzfSxzZXRMYXRMbmdzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmdzPXRoaXMuX2NvbnZlcnRMYXRMbmdzKHQpLHRoaXMucmVkcmF3KCl9LGFkZExhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5ncy5wdXNoKG4ubGF0TG5nKHQpKSx0aGlzLnJlZHJhdygpfSxzcGxpY2VMYXRMbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9W10uc3BsaWNlLmFwcGx5KHRoaXMuX2xhdGxuZ3MsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fY29udmVydExhdExuZ3ModGhpcy5fbGF0bG5ncyksdGhpcy5yZWRyYXcoKSx0fSxjbG9zZXN0TGF5ZXJQb2ludDpmdW5jdGlvbih0KXtmb3IodmFyIGUsaSxvPTEvMCxzPXRoaXMuX3BhcnRzLGE9bnVsbCxyPTAsaD1zLmxlbmd0aDtoPnI7cisrKWZvcih2YXIgbD1zW3JdLHU9MSxjPWwubGVuZ3RoO2M+dTt1Kyspe2U9bFt1LTFdLGk9bFt1XTsKdmFyIF89bi5MaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQodCxlLGksITApO28+XyYmKG89XyxhPW4uTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKSl9cmV0dXJuIGEmJihhLmRpc3RhbmNlPU1hdGguc3FydChvKSksYX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPW5ldyBuLkxhdExuZ0JvdW5kcyxvPXRoaXMuZ2V0TGF0TG5ncygpO2Zvcih0PTAsZT1vLmxlbmd0aDtlPnQ7dCsrKWkuZXh0ZW5kKG9bdF0pO3JldHVybiBpfSxfY29udmVydExhdExuZ3M6ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IoZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyl7aWYobi5VdGlsLmlzQXJyYXkodFtlXSkmJiJudW1iZXIiIT10eXBlb2YgdFtlXVswXSlyZXR1cm47dFtlXT1uLmxhdExuZyh0W2VdKX1yZXR1cm4gdH0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXtuLlBhdGgucHJvdG90eXBlLl9pbml0RXZlbnRzLmNhbGwodGhpcyl9LF9nZXRQYXRoUGFydFN0cjpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1uLlBhdGguVk1MLG89MCxzPXQubGVuZ3RoLGE9IiI7cz5vO28rKyllPXRbb10saSYmZS5fcm91bmQoKSxhKz0obz8iTCI6Ik0iKStlLngrIiAiK2UueTtyZXR1cm4gYX0sX2NsaXBQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdCxlLG8scz10aGlzLl9vcmlnaW5hbFBvaW50cyxhPXMubGVuZ3RoO2lmKHRoaXMub3B0aW9ucy5ub0NsaXApcmV0dXJuIHRoaXMuX3BhcnRzPVtzXSxpO3RoaXMuX3BhcnRzPVtdO3ZhciByPXRoaXMuX3BhcnRzLGg9dGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsbD1uLkxpbmVVdGlsO2Zvcih0PTAsZT0wO2EtMT50O3QrKylvPWwuY2xpcFNlZ21lbnQoc1t0XSxzW3QrMV0saCx0KSxvJiYocltlXT1yW2VdfHxbXSxyW2VdLnB1c2gob1swXSksKG9bMV0hPT1zW3QrMV18fHQ9PT1hLTIpJiYocltlXS5wdXNoKG9bMV0pLGUrKykpfSxfc2ltcGxpZnlQb2ludHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcGFydHMsZT1uLkxpbmVVdGlsLGk9MCxvPXQubGVuZ3RoO28+aTtpKyspdFtpXT1lLnNpbXBsaWZ5KHRbaV0sdGhpcy5vcHRpb25zLnNtb290aEZhY3Rvcil9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fY2xpcFBvaW50cygpLHRoaXMuX3NpbXBsaWZ5UG9pbnRzKCksbi5QYXRoLnByb3RvdHlwZS5fdXBkYXRlUGF0aC5jYWxsKHRoaXMpKX19KSxuLnBvbHlsaW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLlBvbHlsaW5lKHQsZSl9LG4uUG9seVV0aWw9e30sbi5Qb2x5VXRpbC5jbGlwUG9seWdvbj1mdW5jdGlvbih0LGUpe3ZhciBpLG8scyxhLHIsaCxsLHUsYyxfPVsxLDQsMiw4XSxkPW4uTGluZVV0aWw7Zm9yKG89MCxsPXQubGVuZ3RoO2w+bztvKyspdFtvXS5fY29kZT1kLl9nZXRCaXRDb2RlKHRbb10sZSk7Zm9yKGE9MDs0PmE7YSsrKXtmb3IodT1fW2FdLGk9W10sbz0wLGw9dC5sZW5ndGgscz1sLTE7bD5vO3M9bysrKXI9dFtvXSxoPXRbc10sci5fY29kZSZ1P2guX2NvZGUmdXx8KGM9ZC5fZ2V0RWRnZUludGVyc2VjdGlvbihoLHIsdSxlKSxjLl9jb2RlPWQuX2dldEJpdENvZGUoYyxlKSxpLnB1c2goYykpOihoLl9jb2RlJnUmJihjPWQuX2dldEVkZ2VJbnRlcnNlY3Rpb24oaCxyLHUsZSksYy5fY29kZT1kLl9nZXRCaXRDb2RlKGMsZSksaS5wdXNoKGMpKSxpLnB1c2gocikpO3Q9aX1yZXR1cm4gdH0sbi5Qb2x5Z29uPW4uUG9seWxpbmUuZXh0ZW5kKHtvcHRpb25zOntmaWxsOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7bi5Qb2x5bGluZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxlKSx0JiZuLlV0aWwuaXNBcnJheSh0WzBdKSYmIm51bWJlciIhPXR5cGVvZiB0WzBdWzBdJiYodGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0WzBdKSx0aGlzLl9ob2xlcz10LnNsaWNlKDEpKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXtpZihuLlBvbHlsaW5lLnByb3RvdHlwZS5wcm9qZWN0TGF0bG5ncy5jYWxsKHRoaXMpLHRoaXMuX2hvbGVQb2ludHM9W10sdGhpcy5faG9sZXMpe3ZhciB0LGUsaSxvO2Zvcih0PTAsaT10aGlzLl9ob2xlcy5sZW5ndGg7aT50O3QrKylmb3IodGhpcy5faG9sZVBvaW50c1t0XT1bXSxlPTAsbz10aGlzLl9ob2xlc1t0XS5sZW5ndGg7bz5lO2UrKyl0aGlzLl9ob2xlUG9pbnRzW3RdW2VdPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5faG9sZXNbdF1bZV0pfX0sX2NsaXBQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcmlnaW5hbFBvaW50cyxlPVtdO2lmKHRoaXMuX3BhcnRzPVt0XS5jb25jYXQodGhpcy5faG9sZVBvaW50cyksIXRoaXMub3B0aW9ucy5ub0NsaXApe2Zvcih2YXIgaT0wLG89dGhpcy5fcGFydHMubGVuZ3RoO28+aTtpKyspe3ZhciBzPW4uUG9seVV0aWwuY2xpcFBvbHlnb24odGhpcy5fcGFydHNbaV0sdGhpcy5fbWFwLl9wYXRoVmlld3BvcnQpO3MubGVuZ3RoJiZlLnB1c2gocyl9dGhpcy5fcGFydHM9ZX19LF9nZXRQYXRoUGFydFN0cjpmdW5jdGlvbih0KXt2YXIgZT1uLlBvbHlsaW5lLnByb3RvdHlwZS5fZ2V0UGF0aFBhcnRTdHIuY2FsbCh0aGlzLHQpO3JldHVybiBlKyhuLkJyb3dzZXIuc3ZnPyJ6IjoieCIpfX0pLG4ucG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5Qb2x5Z29uKHQsZSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gbi5GZWF0dXJlR3JvdXAuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fbGF5ZXJzPXt9LHRoaXMuX29wdGlvbnM9ZSx0aGlzLnNldExhdExuZ3ModCl9LHNldExhdExuZ3M6ZnVuY3Rpb24oZSl7dmFyIGk9MCxuPWUubGVuZ3RoO2Zvcih0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXtuPmk/dC5zZXRMYXRMbmdzKGVbaSsrXSk6dGhpcy5yZW1vdmVMYXllcih0KX0sdGhpcyk7bj5pOyl0aGlzLmFkZExheWVyKG5ldyB0KGVbaSsrXSx0aGlzLl9vcHRpb25zKSk7cmV0dXJuIHRoaXN9fSl9bi5NdWx0aVBvbHlsaW5lPXQobi5Qb2x5bGluZSksbi5NdWx0aVBvbHlnb249dChuLlBvbHlnb24pLG4ubXVsdGlQb2x5bGluZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5NdWx0aVBvbHlsaW5lKHQsZSl9LG4ubXVsdGlQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLk11bHRpUG9seWdvbih0LGUpfX0oKSxuLlJlY3RhbmdsZT1uLlBvbHlnb24uZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7bi5Qb2x5Z29uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyx0aGlzLl9ib3VuZHNUb0xhdExuZ3ModCksZSl9LHNldEJvdW5kczpmdW5jdGlvbih0KXt0aGlzLnNldExhdExuZ3ModGhpcy5fYm91bmRzVG9MYXRMbmdzKHQpKX0sX2JvdW5kc1RvTGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdD1uLmxhdExuZ0JvdW5kcyh0KSxbdC5nZXRTb3V0aFdlc3QoKSx0LmdldE5vcnRoV2VzdCgpLHQuZ2V0Tm9ydGhFYXN0KCksdC5nZXRTb3V0aEVhc3QoKV19fSksbi5yZWN0YW5nbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG4uUmVjdGFuZ2xlKHQsZSl9LG4uQ2lyY2xlPW4uUGF0aC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe24uUGF0aC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsaSksdGhpcy5fbGF0bG5nPW4ubGF0TG5nKHQpLHRoaXMuX21SYWRpdXM9ZX0sb3B0aW9uczp7ZmlsbDohMH0sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmc9bi5sYXRMbmcodCksdGhpcy5yZWRyYXcoKX0sc2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tUmFkaXVzPXQsdGhpcy5yZWRyYXcoKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRMbmdSYWRpdXMoKSxlPW5ldyBuLkxhdExuZyh0aGlzLl9sYXRsbmcubGF0LHRoaXMuX2xhdGxuZy5sbmctdCksaT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KGUpO3RoaXMuX3BvaW50PXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKSx0aGlzLl9yYWRpdXM9TWF0aC5tYXgoTWF0aC5yb3VuZCh0aGlzLl9wb2ludC54LWkueCksMSl9LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldExuZ1JhZGl1cygpLGU9MzYwKih0aGlzLl9tUmFkaXVzLzQwMDc1MDE3KSxpPXRoaXMuX2xhdGxuZyxvPW5ldyBuLkxhdExuZyhpLmxhdC1lLGkubG5nLXQpLHM9bmV3IG4uTGF0TG5nKGkubGF0K2UsaS5sbmcrdCk7cmV0dXJuIG5ldyBuLkxhdExuZ0JvdW5kcyhvLHMpfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9pbnQsZT10aGlzLl9yYWRpdXM7cmV0dXJuIHRoaXMuX2NoZWNrSWZFbXB0eSgpPyIiOm4uQnJvd3Nlci5zdmc/Ik0iK3QueCsiLCIrKHQueS1lKSsiQSIrZSsiLCIrZSsiLDAsMSwxLCIrKHQueC0uMSkrIiwiKyh0LnktZSkrIiB6IjoodC5fcm91bmQoKSxlPU1hdGgucm91bmQoZSksIkFMICIrdC54KyIsIit0LnkrIiAiK2UrIiwiK2UrIiAwLCIrMjM1OTI2MDApfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJhZGl1c30sX2dldExhdFJhZGl1czpmdW5jdGlvbigpe3JldHVybiAzNjAqKHRoaXMuX21SYWRpdXMvNDAwNzUwMTcpfSxfZ2V0TG5nUmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldExhdFJhZGl1cygpL01hdGguY29zKG4uTGF0TG5nLkRFR19UT19SQUQqdGhpcy5fbGF0bG5nLmxhdCl9LF9jaGVja0lmRW1wdHk6ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFwKXJldHVybiExO3ZhciB0PXRoaXMuX21hcC5fcGF0aFZpZXdwb3J0LGU9dGhpcy5fcmFkaXVzLGk9dGhpcy5fcG9pbnQ7cmV0dXJuIGkueC1lPnQubWF4Lnh8fGkueS1lPnQubWF4Lnl8fGkueCtlPHQubWluLnh8fGkueStlPHQubWluLnl9fSksbi5jaXJjbGU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgbi5DaXJjbGUodCxlLGkpfSxuLkNpcmNsZU1hcmtlcj1uLkNpcmNsZS5leHRlbmQoe29wdGlvbnM6e3JhZGl1czoxMCx3ZWlnaHQ6Mn0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe24uQ2lyY2xlLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyx0LG51bGwsZSksdGhpcy5fcmFkaXVzPXRoaXMub3B0aW9ucy5yYWRpdXN9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7dGhpcy5fcG9pbnQ9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpfSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXtuLkNpcmNsZS5wcm90b3R5cGUuX3VwZGF0ZVN0eWxlLmNhbGwodGhpcyksdGhpcy5zZXRSYWRpdXModGhpcy5vcHRpb25zLnJhZGl1cyl9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnJhZGl1cz10aGlzLl9yYWRpdXM9dCx0aGlzLnJlZHJhdygpfX0pLG4uY2lyY2xlTWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLkNpcmNsZU1hcmtlcih0LGUpfSxuLlBvbHlsaW5lLmluY2x1ZGUobi5QYXRoLkNBTlZBUz97X2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxvLHMsYSxyLGgsbCx1PXRoaXMub3B0aW9ucy53ZWlnaHQvMjtmb3Iobi5Ccm93c2VyLnRvdWNoJiYodSs9MTApLGk9MCxhPXRoaXMuX3BhcnRzLmxlbmd0aDthPmk7aSsrKWZvcihsPXRoaXMuX3BhcnRzW2ldLG89MCxyPWwubGVuZ3RoLHM9ci0xO3I+bztzPW8rKylpZigoZXx8MCE9PW8pJiYoaD1uLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UodCxsW3NdLGxbb10pLHU+PWgpKXJldHVybiEwO3JldHVybiExfX06e30pLG4uUG9seWdvbi5pbmNsdWRlKG4uUGF0aC5DQU5WQVM/e19jb250YWluc1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlLGksbyxzLGEscixoLGwsdT0hMTtpZihuLlBvbHlsaW5lLnByb3RvdHlwZS5fY29udGFpbnNQb2ludC5jYWxsKHRoaXMsdCwhMCkpcmV0dXJuITA7Zm9yKHM9MCxoPXRoaXMuX3BhcnRzLmxlbmd0aDtoPnM7cysrKWZvcihlPXRoaXMuX3BhcnRzW3NdLGE9MCxsPWUubGVuZ3RoLHI9bC0xO2w+YTtyPWErKylpPWVbYV0sbz1lW3JdLGkueT50LnkhPW8ueT50LnkmJnQueDwoby54LWkueCkqKHQueS1pLnkpLyhvLnktaS55KStpLngmJih1PSF1KTtyZXR1cm4gdX19Ont9KSxuLkNpcmNsZS5pbmNsdWRlKG4uUGF0aC5DQU5WQVM/e19kcmF3UGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BvaW50O3RoaXMuX2N0eC5iZWdpblBhdGgoKSx0aGlzLl9jdHguYXJjKHQueCx0LnksdGhpcy5fcmFkaXVzLDAsMipNYXRoLlBJLCExKX0sX2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnQsaT10aGlzLm9wdGlvbnMuc3Ryb2tlP3RoaXMub3B0aW9ucy53ZWlnaHQvMjowO3JldHVybiB0LmRpc3RhbmNlVG8oZSk8PXRoaXMuX3JhZGl1cytpfX06e30pLG4uR2VvSlNPTj1uLkZlYXR1cmVHcm91cC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtuLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXllcnM9e30sdCYmdGhpcy5hZGREYXRhKHQpfSxhZGREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlLGksbz1uLlV0aWwuaXNBcnJheSh0KT90OnQuZmVhdHVyZXM7aWYobyl7Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspKG9bZV0uZ2VvbWV0cmllc3x8b1tlXS5nZW9tZXRyeXx8b1tlXS5mZWF0dXJlcykmJnRoaXMuYWRkRGF0YShvW2VdKTtyZXR1cm4gdGhpc312YXIgcz10aGlzLm9wdGlvbnM7aWYoIXMuZmlsdGVyfHxzLmZpbHRlcih0KSl7dmFyIGE9bi5HZW9KU09OLmdlb21ldHJ5VG9MYXllcih0LHMucG9pbnRUb0xheWVyKTtyZXR1cm4gYS5mZWF0dXJlPXQsYS5kZWZhdWx0T3B0aW9ucz1hLm9wdGlvbnMsdGhpcy5yZXNldFN0eWxlKGEpLHMub25FYWNoRmVhdHVyZSYmcy5vbkVhY2hGZWF0dXJlKHQsYSksdGhpcy5hZGRMYXllcihhKX19LHJlc2V0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLnN0eWxlO2UmJihuLlV0aWwuZXh0ZW5kKHQub3B0aW9ucyx0LmRlZmF1bHRPcHRpb25zKSx0aGlzLl9zZXRMYXllclN0eWxlKHQsZSkpfSxzZXRTdHlsZTpmdW5jdGlvbih0KXt0aGlzLmVhY2hMYXllcihmdW5jdGlvbihlKXt0aGlzLl9zZXRMYXllclN0eWxlKGUsdCl9LHRoaXMpfSxfc2V0TGF5ZXJTdHlsZTpmdW5jdGlvbih0LGUpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1lKHQuZmVhdHVyZSkpLHQuc2V0U3R5bGUmJnQuc2V0U3R5bGUoZSl9fSksbi5leHRlbmQobi5HZW9KU09OLHtnZW9tZXRyeVRvTGF5ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxvLHMsYSxyLGg9IkZlYXR1cmUiPT09dC50eXBlP3QuZ2VvbWV0cnk6dCxsPWguY29vcmRpbmF0ZXMsdT1bXTtzd2l0Y2goaC50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gaT10aGlzLmNvb3Jkc1RvTGF0TG5nKGwpLGU/ZSh0LGkpOm5ldyBuLk1hcmtlcihpKTtjYXNlIk11bHRpUG9pbnQiOmZvcihzPTAsYT1sLmxlbmd0aDthPnM7cysrKWk9dGhpcy5jb29yZHNUb0xhdExuZyhsW3NdKSxyPWU/ZSh0LGkpOm5ldyBuLk1hcmtlcihpKSx1LnB1c2gocik7cmV0dXJuIG5ldyBuLkZlYXR1cmVHcm91cCh1KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBvPXRoaXMuY29vcmRzVG9MYXRMbmdzKGwpLG5ldyBuLlBvbHlsaW5lKG8pO2Nhc2UiUG9seWdvbiI6cmV0dXJuIG89dGhpcy5jb29yZHNUb0xhdExuZ3MobCwxKSxuZXcgbi5Qb2x5Z29uKG8pO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpyZXR1cm4gbz10aGlzLmNvb3Jkc1RvTGF0TG5ncyhsLDEpLG5ldyBuLk11bHRpUG9seWxpbmUobyk7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiBvPXRoaXMuY29vcmRzVG9MYXRMbmdzKGwsMiksbmV3IG4uTXVsdGlQb2x5Z29uKG8pO2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpmb3Iocz0wLGE9aC5nZW9tZXRyaWVzLmxlbmd0aDthPnM7cysrKXI9dGhpcy5nZW9tZXRyeVRvTGF5ZXIoe2dlb21ldHJ5OmguZ2VvbWV0cmllc1tzXSx0eXBlOiJGZWF0dXJlIixwcm9wZXJ0aWVzOnQucHJvcGVydGllc30sZSksdS5wdXNoKHIpO3JldHVybiBuZXcgbi5GZWF0dXJlR3JvdXAodSk7ZGVmYXVsdDp0aHJvdyBFcnJvcigiSW52YWxpZCBHZW9KU09OIG9iamVjdC4iKX19LGNvb3Jkc1RvTGF0TG5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9cGFyc2VGbG9hdCh0W2U/MDoxXSksbz1wYXJzZUZsb2F0KHRbZT8xOjBdKTtyZXR1cm4gbmV3IG4uTGF0TG5nKGksbyl9LGNvb3Jkc1RvTGF0TG5nczpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxzLGE9W107Zm9yKG89MCxzPXQubGVuZ3RoO3M+bztvKyspbj1lP3RoaXMuY29vcmRzVG9MYXRMbmdzKHRbb10sZS0xLGkpOnRoaXMuY29vcmRzVG9MYXRMbmcodFtvXSxpKSxhLnB1c2gobik7cmV0dXJuIGF9fSksbi5nZW9Kc29uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuLkdlb0pTT04odCxlKX0sbi5Eb21FdmVudD17YWRkTGlzdGVuZXI6ZnVuY3Rpb24odCxlLG8scyl7dmFyIGEscixoLGw9bi5zdGFtcChvKSx1PSJfbGVhZmxldF8iK2UrbDtyZXR1cm4gdFt1XT90aGlzOihhPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoc3x8dCxlfHxuLkRvbUV2ZW50Ll9nZXRFdmVudCgpKX0sbi5Ccm93c2VyLm1zVG91Y2gmJjA9PT1lLmluZGV4T2YoInRvdWNoIik/dGhpcy5hZGRNc1RvdWNoTGlzdGVuZXIodCxlLGEsbCk6KG4uQnJvd3Nlci50b3VjaCYmImRibGNsaWNrIj09PWUmJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXImJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXIodCxhLGwpLCJhZGRFdmVudExpc3RlbmVyImluIHQ/Im1vdXNld2hlZWwiPT09ZT8odC5hZGRFdmVudExpc3RlbmVyKCJET01Nb3VzZVNjcm9sbCIsYSwhMSksdC5hZGRFdmVudExpc3RlbmVyKGUsYSwhMSkpOiJtb3VzZWVudGVyIj09PWV8fCJtb3VzZWxlYXZlIj09PWU/KHI9YSxoPSJtb3VzZWVudGVyIj09PWU/Im1vdXNlb3ZlciI6Im1vdXNlb3V0IixhPWZ1bmN0aW9uKGUpe3JldHVybiBuLkRvbUV2ZW50Ll9jaGVja01vdXNlKHQsZSk/cihlKTppfSx0LmFkZEV2ZW50TGlzdGVuZXIoaCxhLCExKSk6dC5hZGRFdmVudExpc3RlbmVyKGUsYSwhMSk6ImF0dGFjaEV2ZW50ImluIHQmJnQuYXR0YWNoRXZlbnQoIm9uIitlLGEpLHRbdV09YSx0aGlzKSl9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1uLnN0YW1wKGkpLHM9Il9sZWFmbGV0XyIrZStvLGE9dFtzXTtpZihhKXJldHVybiBuLkJyb3dzZXIubXNUb3VjaCYmMD09PWUuaW5kZXhPZigidG91Y2giKT90aGlzLnJlbW92ZU1zVG91Y2hMaXN0ZW5lcih0LGUsbyk6bi5Ccm93c2VyLnRvdWNoJiYiZGJsY2xpY2siPT09ZSYmdGhpcy5yZW1vdmVEb3VibGVUYXBMaXN0ZW5lcj90aGlzLnJlbW92ZURvdWJsZVRhcExpc3RlbmVyKHQsbyk6InJlbW92ZUV2ZW50TGlzdGVuZXIiaW4gdD8ibW91c2V3aGVlbCI9PT1lPyh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixhLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxhLCExKSk6Im1vdXNlZW50ZXIiPT09ZXx8Im1vdXNlbGVhdmUiPT09ZT90LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiPT09ZT8ibW91c2VvdmVyIjoibW91c2VvdXQiLGEsITEpOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpOiJkZXRhY2hFdmVudCJpbiB0JiZ0LmRldGFjaEV2ZW50KCJvbiIrZSxhKSx0W3NdPW51bGwsdGhpc30sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbj90LnN0b3BQcm9wYWdhdGlvbigpOnQuY2FuY2VsQnViYmxlPSEwLHRoaXN9LGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbixpPW4uRHJhZ2dhYmxlLlNUQVJULmxlbmd0aC0xO2k+PTA7aS0tKW4uRG9tRXZlbnQuYWRkTGlzdGVuZXIodCxuLkRyYWdnYWJsZS5TVEFSVFtpXSxlKTtyZXR1cm4gbi5Eb21FdmVudC5hZGRMaXN0ZW5lcih0LCJjbGljayIsZSkuYWRkTGlzdGVuZXIodCwiZGJsY2xpY2siLGUpfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3JldHVybiBuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLnN0b3BQcm9wYWdhdGlvbih0KX0sZ2V0TW91c2VQb3NpdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBvPWUuYm9keSxzPWUuZG9jdW1lbnRFbGVtZW50LGE9dC5wYWdlWD90LnBhZ2VYOnQuY2xpZW50WCtvLnNjcm9sbExlZnQrcy5zY3JvbGxMZWZ0LHI9dC5wYWdlWT90LnBhZ2VZOnQuY2xpZW50WStvLnNjcm9sbFRvcCtzLnNjcm9sbFRvcCxoPW5ldyBuLlBvaW50KGEscik7cmV0dXJuIGk/aC5fc3VidHJhY3Qobi5Eb21VdGlsLmdldFZpZXdwb3J0T2Zmc2V0KGkpKTpofSxnZXRXaGVlbERlbHRhOmZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHQud2hlZWxEZWx0YSYmKGU9dC53aGVlbERlbHRhLzEyMCksdC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlfSxfY2hlY2tNb3VzZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVsYXRlZFRhcmdldDtpZighaSlyZXR1cm4hMDt0cnl7Zm9yKDtpJiZpIT09dDspaT1pLnBhcmVudE5vZGV9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuIGkhPT10fSxfZ2V0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT10LmV2ZW50O2lmKCFlKWZvcih2YXIgaT1hcmd1bWVudHMuY2FsbGVlLmNhbGxlcjtpJiYoZT1pLmFyZ3VtZW50c1swXSwhZXx8dC5FdmVudCE9PWUuY29uc3RydWN0b3IpOylpPWkuY2FsbGVyO3JldHVybiBlfX0sbi5Eb21FdmVudC5vbj1uLkRvbUV2ZW50LmFkZExpc3RlbmVyLG4uRG9tRXZlbnQub2ZmPW4uRG9tRXZlbnQucmVtb3ZlTGlzdGVuZXIsbi5EcmFnZ2FibGU9bi5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm4uTWl4aW4uRXZlbnRzLHN0YXRpY3M6e1NUQVJUOm4uQnJvd3Nlci50b3VjaD9bInRvdWNoc3RhcnQiLCJtb3VzZWRvd24iXTpbIm1vdXNlZG93biJdLEVORDp7bW91c2Vkb3duOiJtb3VzZXVwIix0b3VjaHN0YXJ0OiJ0b3VjaGVuZCIsTVNQb2ludGVyRG93bjoidG91Y2hlbmQifSxNT1ZFOnttb3VzZWRvd246Im1vdXNlbW92ZSIsdG91Y2hzdGFydDoidG91Y2htb3ZlIixNU1BvaW50ZXJEb3duOiJ0b3VjaG1vdmUifSxUQVBfVE9MRVJBTkNFOjE1fSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9lbGVtZW50PXQsdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0PWV8fHQsdGhpcy5fbG9uZ1ByZXNzPWkmJiFuLkJyb3dzZXIubXNUb3VjaH0sZW5hYmxlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VuYWJsZWQpe2Zvcih2YXIgdD1uLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGgtMTt0Pj0wO3QtLSluLkRvbUV2ZW50Lm9uKHRoaXMuX2RyYWdTdGFydFRhcmdldCxuLkRyYWdnYWJsZS5TVEFSVFt0XSx0aGlzLl9vbkRvd24sdGhpcyk7dGhpcy5fZW5hYmxlZD0hMH19LGRpc2FibGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmFibGVkKXtmb3IodmFyIHQ9bi5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7dD49MDt0LS0pbi5Eb21FdmVudC5vZmYodGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LG4uRHJhZ2dhYmxlLlNUQVJUW3RdLHRoaXMuX29uRG93bix0aGlzKTt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21vdmVkPSExfX0sX29uRG93bjpmdW5jdGlvbih0KXtpZighKCFuLkJyb3dzZXIudG91Y2gmJnQuc2hpZnRLZXl8fDEhPT10LndoaWNoJiYxIT09dC5idXR0b24mJiF0LnRvdWNoZXN8fChuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLG4uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpLG4uRHJhZ2dhYmxlLl9kaXNhYmxlZCkpKXtpZih0aGlzLl9zaW11bGF0ZUNsaWNrPSEwLHQudG91Y2hlcyYmdC50b3VjaGVzLmxlbmd0aD4xKXJldHVybiB0aGlzLl9zaW11bGF0ZUNsaWNrPSExLGNsZWFyVGltZW91dCh0aGlzLl9sb25nUHJlc3NUaW1lb3V0KSxpO3ZhciBvPXQudG91Y2hlcyYmMT09PXQudG91Y2hlcy5sZW5ndGg/dC50b3VjaGVzWzBdOnQscz1vLnRhcmdldDtuLkJyb3dzZXIudG91Y2gmJiJhIj09PXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLkRvbVV0aWwuYWRkQ2xhc3MocywibGVhZmxldC1hY3RpdmUiKSx0aGlzLl9tb3ZlZD0hMSx0aGlzLl9tb3Zpbmd8fCh0aGlzLl9zdGFydFBvaW50PW5ldyBuLlBvaW50KG8uY2xpZW50WCxvLmNsaWVudFkpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX25ld1Bvcz1uLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCksdC50b3VjaGVzJiYxPT09dC50b3VjaGVzLmxlbmd0aCYmbi5Ccm93c2VyLnRvdWNoJiZ0aGlzLl9sb25nUHJlc3MmJih0aGlzLl9sb25nUHJlc3NUaW1lb3V0PXNldFRpbWVvdXQobi5iaW5kKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbmV3UG9zJiZ0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcyl8fDA7bi5EcmFnZ2FibGUuVEFQX1RPTEVSQU5DRT50JiYodGhpcy5fc2ltdWxhdGVDbGljaz0hMSx0aGlzLl9vblVwKCksdGhpcy5fc2ltdWxhdGVFdmVudCgiY29udGV4dG1lbnUiLG8pKX0sdGhpcyksMWUzKSksbi5Eb21FdmVudC5vbihlLG4uRHJhZ2dhYmxlLk1PVkVbdC50eXBlXSx0aGlzLl9vbk1vdmUsdGhpcyksbi5Eb21FdmVudC5vbihlLG4uRHJhZ2dhYmxlLkVORFt0LnR5cGVdLHRoaXMuX29uVXAsdGhpcykpfX0sX29uTW92ZTpmdW5jdGlvbih0KXtpZighKHQudG91Y2hlcyYmdC50b3VjaGVzLmxlbmd0aD4xKSl7dmFyIGU9dC50b3VjaGVzJiYxPT09dC50b3VjaGVzLmxlbmd0aD90LnRvdWNoZXNbMF06dCxpPW5ldyBuLlBvaW50KGUuY2xpZW50WCxlLmNsaWVudFkpLG89aS5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTsoby54fHxvLnkpJiYobi5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSx0aGlzLl9tb3ZlZHx8KHRoaXMuZmlyZSgiZHJhZ3N0YXJ0IiksdGhpcy5fbW92ZWQ9ITAsdGhpcy5fc3RhcnRQb3M9bi5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpLnN1YnRyYWN0KG8pLG4uQnJvd3Nlci50b3VjaHx8KG4uRG9tVXRpbC5kaXNhYmxlVGV4dFNlbGVjdGlvbigpLHRoaXMuX3NldE1vdmluZ0N1cnNvcigpKSksdGhpcy5fbmV3UG9zPXRoaXMuX3N0YXJ0UG9zLmFkZChvKSx0aGlzLl9tb3Zpbmc9ITAsbi5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksdGhpcy5fYW5pbVJlcXVlc3Q9bi5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fdXBkYXRlUG9zaXRpb24sdGhpcywhMCx0aGlzLl9kcmFnU3RhcnRUYXJnZXQpKX19LF91cGRhdGVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMuZmlyZSgicHJlZHJhZyIpLG4uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50LHRoaXMuX25ld1BvcyksdGhpcy5maXJlKCJkcmFnIil9LF9vblVwOmZ1bmN0aW9uKHQpe3ZhciBpO2lmKGNsZWFyVGltZW91dCh0aGlzLl9sb25nUHJlc3NUaW1lb3V0KSx0aGlzLl9zaW11bGF0ZUNsaWNrJiZ0LmNoYW5nZWRUb3VjaGVzKXt2YXIgbz10LmNoYW5nZWRUb3VjaGVzWzBdLHM9by50YXJnZXQsYT10aGlzLl9uZXdQb3MmJnRoaXMuX25ld1Bvcy5kaXN0YW5jZVRvKHRoaXMuX3N0YXJ0UG9zKXx8MDsiYSI9PT1zLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbi5Eb21VdGlsLnJlbW92ZUNsYXNzKHMsImxlYWZsZXQtYWN0aXZlIiksbi5EcmFnZ2FibGUuVEFQX1RPTEVSQU5DRT5hJiYoaT1vKX1uLkJyb3dzZXIudG91Y2h8fChuLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpLHRoaXMuX3Jlc3RvcmVDdXJzb3IoKSk7Zm9yKHZhciByIGluIG4uRHJhZ2dhYmxlLk1PVkUpbi5EcmFnZ2FibGUuTU9WRS5oYXNPd25Qcm9wZXJ0eShyKSYmKG4uRG9tRXZlbnQub2ZmKGUsbi5EcmFnZ2FibGUuTU9WRVtyXSx0aGlzLl9vbk1vdmUpLG4uRG9tRXZlbnQub2ZmKGUsbi5EcmFnZ2FibGUuRU5EW3JdLHRoaXMuX29uVXApKTt0aGlzLl9tb3ZlZCYmKG4uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuZmlyZSgiZHJhZ2VuZCIpKSx0aGlzLl9tb3Zpbmc9ITEsaSYmKHRoaXMuX21vdmVkPSExLHRoaXMuX3NpbXVsYXRlRXZlbnQoImNsaWNrIixpKSl9LF9zZXRNb3ZpbmdDdXJzb3I6ZnVuY3Rpb24oKXtuLkRvbVV0aWwuYWRkQ2xhc3MoZS5ib2R5LCJsZWFmbGV0LWRyYWdnaW5nIil9LF9yZXN0b3JlQ3Vyc29yOmZ1bmN0aW9uKCl7bi5Eb21VdGlsLnJlbW92ZUNsYXNzKGUuYm9keSwibGVhZmxldC1kcmFnZ2luZyIpfSxfc2ltdWxhdGVFdmVudDpmdW5jdGlvbihpLG4pe3ZhciBvPWUuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIik7by5pbml0TW91c2VFdmVudChpLCEwLCEwLHQsMSxuLnNjcmVlblgsbi5zY3JlZW5ZLG4uY2xpZW50WCxuLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKSxuLnRhcmdldC5kaXNwYXRjaEV2ZW50KG8pfX0pLG4uSGFuZGxlcj1uLkNsYXNzLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dH0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZHx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5hZGRIb29rcygpKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQmJih0aGlzLl9lbmFibGVkPSExLHRoaXMucmVtb3ZlSG9va3MoKSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9fSksbi5NYXAubWVyZ2VPcHRpb25zKHtkcmFnZ2luZzohMCxpbmVydGlhOiFuLkJyb3dzZXIuYW5kcm9pZDIzLGluZXJ0aWFEZWNlbGVyYXRpb246MzQwMCxpbmVydGlhTWF4U3BlZWQ6MS8wLGluZXJ0aWFUaHJlc2hvbGQ6bi5Ccm93c2VyLnRvdWNoPzMyOjE4LGVhc2VMaW5lYXJpdHk6LjI1LGxvbmdQcmVzczohMCx3b3JsZENvcHlKdW1wOiExfSksbi5NYXAuRHJhZz1uLkhhbmRsZXIuZXh0ZW5kKHthZGRIb29rczpmdW5jdGlvbigpe2lmKCF0aGlzLl9kcmFnZ2FibGUpe3ZhciB0PXRoaXMuX21hcDt0aGlzLl9kcmFnZ2FibGU9bmV3IG4uRHJhZ2dhYmxlKHQuX21hcFBhbmUsdC5fY29udGFpbmVyLHQub3B0aW9ucy5sb25nUHJlc3MpLHRoaXMuX2RyYWdnYWJsZS5vbih7ZHJhZ3N0YXJ0OnRoaXMuX29uRHJhZ1N0YXJ0LGRyYWc6dGhpcy5fb25EcmFnLGRyYWdlbmQ6dGhpcy5fb25EcmFnRW5kfSx0aGlzKSx0Lm9wdGlvbnMud29ybGRDb3B5SnVtcCYmKHRoaXMuX2RyYWdnYWJsZS5vbigicHJlZHJhZyIsdGhpcy5fb25QcmVEcmFnLHRoaXMpLHQub24oInZpZXdyZXNldCIsdGhpcy5fb25WaWV3UmVzZXQsdGhpcykpfXRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0Ll9wYW5BbmltJiZ0Ll9wYW5BbmltLnN0b3AoKSx0LmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoImRyYWdzdGFydCIpLHQub3B0aW9ucy5pbmVydGlhJiYodGhpcy5fcG9zaXRpb25zPVtdLHRoaXMuX3RpbWVzPVtdKX0sX29uRHJhZzpmdW5jdGlvbigpe2lmKHRoaXMuX21hcC5vcHRpb25zLmluZXJ0aWEpe3ZhciB0PXRoaXMuX2xhc3RUaW1lPStuZXcgRGF0ZSxlPXRoaXMuX2xhc3RQb3M9dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7dGhpcy5fcG9zaXRpb25zLnB1c2goZSksdGhpcy5fdGltZXMucHVzaCh0KSx0LXRoaXMuX3RpbWVzWzBdPjIwMCYmKHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpLHRoaXMuX3RpbWVzLnNoaWZ0KCkpfXRoaXMuX21hcC5maXJlKCJtb3ZlIikuZmlyZSgiZHJhZyIpfSxfb25WaWV3UmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQobmV3IG4uTGF0TG5nKDAsMCkpO3RoaXMuX2luaXRpYWxXb3JsZE9mZnNldD1lLnN1YnRyYWN0KHQpLngsdGhpcy5fd29ybGRXaWR0aD10aGlzLl9tYXAucHJvamVjdChuZXcgbi5MYXRMbmcoMCwxODApKS54fSxfb25QcmVEcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd29ybGRXaWR0aCxlPU1hdGgucm91bmQodC8yKSxpPXRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxuPXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsbz0obi1lK2kpJXQrZS1pLHM9KG4rZStpKSV0LWUtaSxhPU1hdGguYWJzKG8raSk8TWF0aC5hYnMocytpKT9vOnM7dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MueD1hfSxfb25EcmFnRW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9dC5vcHRpb25zLGk9K25ldyBEYXRlLXRoaXMuX2xhc3RUaW1lLG89IWUuaW5lcnRpYXx8aT5lLmluZXJ0aWFUaHJlc2hvbGR8fCF0aGlzLl9wb3NpdGlvbnNbMF07aWYobyl0LmZpcmUoIm1vdmVlbmQiKTtlbHNle3ZhciBzPXRoaXMuX2xhc3RQb3Muc3VidHJhY3QodGhpcy5fcG9zaXRpb25zWzBdKSxhPSh0aGlzLl9sYXN0VGltZStpLXRoaXMuX3RpbWVzWzBdKS8xZTMscj1lLmVhc2VMaW5lYXJpdHksaD1zLm11bHRpcGx5Qnkoci9hKSxsPWguZGlzdGFuY2VUbyhuZXcgbi5Qb2ludCgwLDApKSx1PU1hdGgubWluKGUuaW5lcnRpYU1heFNwZWVkLGwpLGM9aC5tdWx0aXBseUJ5KHUvbCksXz11LyhlLmluZXJ0aWFEZWNlbGVyYXRpb24qciksZD1jLm11bHRpcGx5QnkoLV8vMikucm91bmQoKTtuLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpe3QucGFuQnkoZCxfLHIpfSl9dC5maXJlKCJkcmFnZW5kIiksZS5tYXhCb3VuZHMmJm4uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0LCEwLHQuX2NvbnRhaW5lcil9LF9wYW5JbnNpZGVNYXhCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLnBhbkluc2lkZUJvdW5kcyh0aGlzLm9wdGlvbnMubWF4Qm91bmRzKX19KSxuLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsImRyYWdnaW5nIixuLk1hcC5EcmFnKSxuLk1hcC5tZXJnZU9wdGlvbnMoe2RvdWJsZUNsaWNrWm9vbTohMH0pLG4uTWFwLkRvdWJsZUNsaWNrWm9vbT1uLkhhbmRsZXIuZXh0ZW5kKHthZGRIb29rczpmdW5jdGlvbigpe3RoaXMuX21hcC5vbigiZGJsY2xpY2siLHRoaXMuX29uRG91YmxlQ2xpY2spfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX21hcC5vZmYoImRibGNsaWNrIix0aGlzLl9vbkRvdWJsZUNsaWNrKX0sX29uRG91YmxlQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5zZXRWaWV3KHQubGF0bG5nLHRoaXMuX3pvb20rMSl9fSksbi5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJkb3VibGVDbGlja1pvb20iLG4uTWFwLkRvdWJsZUNsaWNrWm9vbSksbi5NYXAubWVyZ2VPcHRpb25zKHtzY3JvbGxXaGVlbFpvb206ITB9KSxuLk1hcC5TY3JvbGxXaGVlbFpvb209bi5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtuLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJtb3VzZXdoZWVsIix0aGlzLl9vbldoZWVsU2Nyb2xsLHRoaXMpLHRoaXMuX2RlbHRhPTB9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7bi5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsIm1vdXNld2hlZWwiLHRoaXMuX29uV2hlZWxTY3JvbGwpfSxfb25XaGVlbFNjcm9sbDpmdW5jdGlvbih0KXt2YXIgZT1uLkRvbUV2ZW50LmdldFdoZWVsRGVsdGEodCk7dGhpcy5fZGVsdGErPWUsdGhpcy5fbGFzdE1vdXNlUG9zPXRoaXMuX21hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSx0aGlzLl9zdGFydFRpbWV8fCh0aGlzLl9zdGFydFRpbWU9K25ldyBEYXRlKTt2YXIgaT1NYXRoLm1heCg0MC0oK25ldyBEYXRlLXRoaXMuX3N0YXJ0VGltZSksMCk7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj1zZXRUaW1lb3V0KG4uYmluZCh0aGlzLl9wZXJmb3JtWm9vbSx0aGlzKSxpKSxuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLG4uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpfSxfcGVyZm9ybVpvb206ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9kZWx0YSxpPXQuZ2V0Wm9vbSgpO2lmKGU9ZT4wP01hdGguY2VpbChlKTpNYXRoLnJvdW5kKGUpLGU9TWF0aC5tYXgoTWF0aC5taW4oZSw0KSwtNCksZT10Ll9saW1pdFpvb20oaStlKS1pLHRoaXMuX2RlbHRhPTAsdGhpcy5fc3RhcnRUaW1lPW51bGwsZSl7dmFyIG49aStlLG89dGhpcy5fZ2V0Q2VudGVyRm9yU2Nyb2xsV2hlZWxab29tKG4pO3Quc2V0VmlldyhvLG4pfX0sX2dldENlbnRlckZvclNjcm9sbFdoZWVsWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT1lLmdldFpvb21TY2FsZSh0KSxuPWUuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSxvPXRoaXMuX2xhc3RNb3VzZVBvcy5fc3VidHJhY3QobikuX211bHRpcGx5QnkoMS0xL2kpLHM9ZS5fZ2V0VG9wTGVmdFBvaW50KCkuX2FkZChuKS5fYWRkKG8pO3JldHVybiBlLnVucHJvamVjdChzKX19KSxuLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInNjcm9sbFdoZWVsWm9vbSIsbi5NYXAuU2Nyb2xsV2hlZWxab29tKSxuLmV4dGVuZChuLkRvbUV2ZW50LHtfdG91Y2hzdGFydDpuLkJyb3dzZXIubXNUb3VjaD8iTVNQb2ludGVyRG93biI6InRvdWNoc3RhcnQiLF90b3VjaGVuZDpuLkJyb3dzZXIubXNUb3VjaD8iTVNQb2ludGVyVXAiOiJ0b3VjaGVuZCIsYWRkRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxpLG8pe2Z1bmN0aW9uIHModCl7dmFyIGU7aWYobi5Ccm93c2VyLm1zVG91Y2g/KHAucHVzaCh0LnBvaW50ZXJJZCksZT1wLmxlbmd0aCk6ZT10LnRvdWNoZXMubGVuZ3RoLCEoZT4xKSl7dmFyIGk9RGF0ZS5ub3coKSxvPWktKHJ8fGkpO2g9dC50b3VjaGVzP3QudG91Y2hlc1swXTp0LGw9bz4wJiZ1Pj1vLHI9aX19ZnVuY3Rpb24gYSh0KXtpZihuLkJyb3dzZXIubXNUb3VjaCl7dmFyIGU9cC5pbmRleE9mKHQucG9pbnRlcklkKTtpZigtMT09PWUpcmV0dXJuO3Auc3BsaWNlKGUsMSl9aWYobCl7aWYobi5Ccm93c2VyLm1zVG91Y2gpe3ZhciBvLHM9e307Zm9yKHZhciBhIGluIGgpbz1oW2FdLHNbYV09ImZ1bmN0aW9uIj09dHlwZW9mIG8/by5iaW5kKGgpOm87aD1zfWgudHlwZT0iZGJsY2xpY2siLGkoaCkscj1udWxsfX12YXIgcixoLGw9ITEsdT0yNTAsYz0iX2xlYWZsZXRfIixfPXRoaXMuX3RvdWNoc3RhcnQsZD10aGlzLl90b3VjaGVuZCxwPVtdO3RbYytfK29dPXMsdFtjK2Qrb109YTt2YXIgbT1uLkJyb3dzZXIubXNUb3VjaD9lLmRvY3VtZW50RWxlbWVudDp0O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoXyxzLCExKSxtLmFkZEV2ZW50TGlzdGVuZXIoZCxhLCExKSxuLkJyb3dzZXIubXNUb3VjaCYmbS5hZGRFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJDYW5jZWwiLGEsITEpLHRoaXN9LHJlbW92ZURvdWJsZVRhcExpc3RlbmVyOmZ1bmN0aW9uKHQsaSl7dmFyIG89Il9sZWFmbGV0XyI7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaHN0YXJ0LHRbbyt0aGlzLl90b3VjaHN0YXJ0K2ldLCExKSwobi5Ccm93c2VyLm1zVG91Y2g/ZS5kb2N1bWVudEVsZW1lbnQ6dCkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaGVuZCx0W28rdGhpcy5fdG91Y2hlbmQraV0sITEpLG4uQnJvd3Nlci5tc1RvdWNoJiZlLmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJDYW5jZWwiLHRbbyt0aGlzLl90b3VjaGVuZCtpXSwhMSksdGhpc319KSxuLmV4dGVuZChuLkRvbUV2ZW50LHtfbXNUb3VjaGVzOltdLF9tc0RvY3VtZW50TGlzdGVuZXI6ITEsYWRkTXNUb3VjaExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpLG4pe3N3aXRjaChlKXtjYXNlInRvdWNoc3RhcnQiOnJldHVybiB0aGlzLmFkZE1zVG91Y2hMaXN0ZW5lclN0YXJ0KHQsZSxpLG4pO2Nhc2UidG91Y2hlbmQiOnJldHVybiB0aGlzLmFkZE1zVG91Y2hMaXN0ZW5lckVuZCh0LGUsaSxuKTtjYXNlInRvdWNobW92ZSI6cmV0dXJuIHRoaXMuYWRkTXNUb3VjaExpc3RlbmVyTW92ZSh0LGUsaSxuKTtkZWZhdWx0OnRocm93IlVua25vd24gdG91Y2ggZXZlbnQgdHlwZSJ9fSxhZGRNc1RvdWNoTGlzdGVuZXJTdGFydDpmdW5jdGlvbih0LGksbixvKXt2YXIgcz0iX2xlYWZsZXRfIixhPXRoaXMuX21zVG91Y2hlcyxyPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0hMSxpPTA7YS5sZW5ndGg+aTtpKyspaWYoYVtpXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ZT0hMDticmVha31lfHxhLnB1c2godCksdC50b3VjaGVzPWEuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxuKHQpfTtpZih0W3MrInRvdWNoc3RhcnQiK29dPXIsdC5hZGRFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJEb3duIixyLCExKSwhdGhpcy5fbXNEb2N1bWVudExpc3RlbmVyKXt2YXIgaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDthLmxlbmd0aD5lO2UrKylpZihhW2VdLnBvaW50ZXJJZD09PXQucG9pbnRlcklkKXthLnNwbGljZShlLDEpO2JyZWFrfX07ZS5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyVXAiLGgsITEpLGUuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlckNhbmNlbCIsaCwhMSksdGhpcy5fbXNEb2N1bWVudExpc3RlbmVyPSEwfXJldHVybiB0aGlzfSxhZGRNc1RvdWNoTGlzdGVuZXJNb3ZlOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIG8odCl7aWYodC5wb2ludGVyVHlwZSE9PXQuTVNQT0lOVEVSX1RZUEVfTU9VU0V8fDAhPT10LmJ1dHRvbnMpe2Zvcih2YXIgZT0wO2EubGVuZ3RoPmU7ZSsrKWlmKGFbZV0ucG9pbnRlcklkPT09dC5wb2ludGVySWQpe2FbZV09dDticmVha310LnRvdWNoZXM9YS5zbGljZSgpLHQuY2hhbmdlZFRvdWNoZXM9W3RdLGkodCl9fXZhciBzPSJfbGVhZmxldF8iLGE9dGhpcy5fbXNUb3VjaGVzO3JldHVybiB0W3MrInRvdWNobW92ZSIrbl09byx0LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlck1vdmUiLG8sITEpLHRoaXN9LGFkZE1zVG91Y2hMaXN0ZW5lckVuZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iX2xlYWZsZXRfIixzPXRoaXMuX21zVG91Y2hlcyxhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO3MubGVuZ3RoPmU7ZSsrKWlmKHNbZV0ucG9pbnRlcklkPT09dC5wb2ludGVySWQpe3Muc3BsaWNlKGUsMSk7YnJlYWt9dC50b3VjaGVzPXMuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxpKHQpfTtyZXR1cm4gdFtvKyJ0b3VjaGVuZCIrbl09YSx0LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlclVwIixhLCExKSx0LmFkZEV2ZW50TGlzdGVuZXIoIk1TUG9pbnRlckNhbmNlbCIsYSwhMSksdGhpc30scmVtb3ZlTXNUb3VjaExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0iX2xlYWZsZXRfIixvPXRbbitlK2ldO3N3aXRjaChlKXtjYXNlInRvdWNoc3RhcnQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyRG93biIsbywhMSk7YnJlYWs7Y2FzZSJ0b3VjaG1vdmUiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiTVNQb2ludGVyTW92ZSIsbywhMSk7YnJlYWs7Y2FzZSJ0b3VjaGVuZCI6dC5yZW1vdmVFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJVcCIsbywhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJNU1BvaW50ZXJDYW5jZWwiLG8sITEpfXJldHVybiB0aGlzfX0pLG4uTWFwLm1lcmdlT3B0aW9ucyh7dG91Y2hab29tOm4uQnJvd3Nlci50b3VjaCYmIW4uQnJvd3Nlci5hbmRyb2lkMjN9KSxuLk1hcC5Ub3VjaFpvb209bi5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtuLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRvdWNoU3RhcnQsdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7bi5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsInRvdWNoc3RhcnQiLHRoaXMuX29uVG91Y2hTdGFydCx0aGlzKX0sX29uVG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmIWkuX2FuaW1hdGluZ1pvb20mJiF0aGlzLl96b29taW5nKXt2YXIgbz1pLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxzPWkubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pLGE9aS5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpO3RoaXMuX3N0YXJ0Q2VudGVyPW8uYWRkKHMpLl9kaXZpZGVCeSgyKSx0aGlzLl9zdGFydERpc3Q9by5kaXN0YW5jZVRvKHMpLHRoaXMuX21vdmVkPSExLHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fY2VudGVyT2Zmc2V0PWEuc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLGkuX3BhbkFuaW0mJmkuX3BhbkFuaW0uc3RvcCgpLG4uRG9tRXZlbnQub24oZSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSx0aGlzKS5vbihlLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCx0aGlzKSxuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfX0sX29uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe2lmKHQudG91Y2hlcyYmMj09PXQudG91Y2hlcy5sZW5ndGgpe3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMF0pLG89ZS5tb3VzZUV2ZW50VG9MYXllclBvaW50KHQudG91Y2hlc1sxXSk7dGhpcy5fc2NhbGU9aS5kaXN0YW5jZVRvKG8pL3RoaXMuX3N0YXJ0RGlzdCx0aGlzLl9kZWx0YT1pLl9hZGQobykuX2RpdmlkZUJ5KDIpLl9zdWJ0cmFjdCh0aGlzLl9zdGFydENlbnRlciksMSE9PXRoaXMuX3NjYWxlJiYodGhpcy5fbW92ZWR8fChuLkRvbVV0aWwuYWRkQ2xhc3MoZS5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0gbGVhZmxldC10b3VjaGluZyIpLGUuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IikuX3ByZXBhcmVUaWxlQmcoKSx0aGlzLl9tb3ZlZD0hMCksbi5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksdGhpcy5fYW5pbVJlcXVlc3Q9bi5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fdXBkYXRlT25Nb3ZlLHRoaXMsITAsdGhpcy5fbWFwLl9jb250YWluZXIpLG4uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCkpfX0sX3VwZGF0ZU9uTW92ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXRoaXMuX2dldFNjYWxlT3JpZ2luKCksaT10LmxheWVyUG9pbnRUb0xhdExuZyhlKTt0LmZpcmUoInpvb21hbmltIix7Y2VudGVyOmksem9vbTp0LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSl9KSx0Ll90aWxlQmcuc3R5bGVbbi5Eb21VdGlsLlRSQU5TRk9STV09bi5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyh0aGlzLl9kZWx0YSkrIiAiK24uRG9tVXRpbC5nZXRTY2FsZVN0cmluZyh0aGlzLl9zY2FsZSx0aGlzLl9zdGFydENlbnRlcil9LF9vblRvdWNoRW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5fbW92ZWQmJnRoaXMuX3pvb21pbmcpe3ZhciB0PXRoaXMuX21hcDt0aGlzLl96b29taW5nPSExLG4uRG9tVXRpbC5yZW1vdmVDbGFzcyh0Ll9tYXBQYW5lLCJsZWFmbGV0LXRvdWNoaW5nIiksbi5Eb21FdmVudC5vZmYoZSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSkub2ZmKGUsInRvdWNoZW5kIix0aGlzLl9vblRvdWNoRW5kKTt2YXIgaT10aGlzLl9nZXRTY2FsZU9yaWdpbigpLG89dC5sYXllclBvaW50VG9MYXRMbmcoaSkscz10LmdldFpvb20oKSxhPXQuZ2V0U2NhbGVab29tKHRoaXMuX3NjYWxlKS1zLHI9YT4wP01hdGguY2VpbChhKTpNYXRoLmZsb29yKGEpLGg9dC5fbGltaXRab29tKHMrcik7dC5maXJlKCJ6b29tYW5pbSIse2NlbnRlcjpvLHpvb206aH0pLHQuX3J1bkFuaW1hdGlvbihvLGgsdC5nZXRab29tU2NhbGUoaCkvdGhpcy5fc2NhbGUsaSwhMCl9fSxfZ2V0U2NhbGVPcmlnaW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jZW50ZXJPZmZzZXQuc3VidHJhY3QodGhpcy5fZGVsdGEpLmRpdmlkZUJ5KHRoaXMuX3NjYWxlKTtyZXR1cm4gdGhpcy5fc3RhcnRDZW50ZXIuYWRkKHQpfX0pLG4uTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwidG91Y2hab29tIixuLk1hcC5Ub3VjaFpvb20pLG4uTWFwLm1lcmdlT3B0aW9ucyh7Ym94Wm9vbTohMH0pLG4uTWFwLkJveFpvb209bi5IYW5kbGVyLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9dC5fY29udGFpbmVyLHRoaXMuX3BhbmU9dC5fcGFuZXMub3ZlcmxheVBhbmV9LGFkZEhvb2tzOmZ1bmN0aW9uKCl7bi5Eb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsIm1vdXNlZG93biIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7bi5Eb21FdmVudC5vZmYodGhpcy5fY29udGFpbmVyLCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duKX0sX29uTW91c2VEb3duOmZ1bmN0aW9uKHQpe3JldHVybiF0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uPyExOihuLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSx0aGlzLl9zdGFydExheWVyUG9pbnQ9dGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCksdGhpcy5fYm94PW4uRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtem9vbS1ib3giLHRoaXMuX3BhbmUpLG4uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9ib3gsdGhpcy5fc3RhcnRMYXllclBvaW50KSx0aGlzLl9jb250YWluZXIuc3R5bGUuY3Vyc29yPSJjcm9zc2hhaXIiLG4uRG9tRXZlbnQub24oZSwibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKS5vbihlLCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXAsdGhpcykucHJldmVudERlZmF1bHQodCksdGhpcy5fbWFwLmZpcmUoImJveHpvb21zdGFydCIpLGkpfSxfb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc3RhcnRMYXllclBvaW50LGk9dGhpcy5fYm94LG89dGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCkscz1vLnN1YnRyYWN0KGUpLGE9bmV3IG4uUG9pbnQoTWF0aC5taW4oby54LGUueCksTWF0aC5taW4oby55LGUueSkpO24uRG9tVXRpbC5zZXRQb3NpdGlvbihpLGEpLGkuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCxNYXRoLmFicyhzLngpLTQpKyJweCIsaS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxNYXRoLmFicyhzLnkpLTQpKyJweCJ9LF9vbk1vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5fcGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9ib3gpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5jdXJzb3I9IiIsbi5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKSxuLkRvbUV2ZW50Lm9mZihlLCJtb3VzZW1vdmUiLHRoaXMuX29uTW91c2VNb3ZlKS5vZmYoZSwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwKTt2YXIgaT10aGlzLl9tYXAsbz1pLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCk7aWYoIXRoaXMuX3N0YXJ0TGF5ZXJQb2ludC5lcXVhbHMobykpe3ZhciBzPW5ldyBuLkxhdExuZ0JvdW5kcyhpLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9zdGFydExheWVyUG9pbnQpLGkubGF5ZXJQb2ludFRvTGF0TG5nKG8pKTtpLmZpdEJvdW5kcyhzKSxpLmZpcmUoImJveHpvb21lbmQiLHtib3hab29tQm91bmRzOnN9KX19fSksbi5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJib3hab29tIixuLk1hcC5Cb3hab29tKSxuLk1hcC5tZXJnZU9wdGlvbnMoe2tleWJvYXJkOiEwLGtleWJvYXJkUGFuT2Zmc2V0OjgwLGtleWJvYXJkWm9vbU9mZnNldDoxfSksbi5NYXAuS2V5Ym9hcmQ9bi5IYW5kbGVyLmV4dGVuZCh7a2V5Q29kZXM6e2xlZnQ6WzM3XSxyaWdodDpbMzldLGRvd246WzQwXSx1cDpbMzhdLHpvb21JbjpbMTg3LDEwNyw2MV0sem9vbU91dDpbMTg5LDEwOSwxNzNdfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX3NldFBhbk9mZnNldCh0Lm9wdGlvbnMua2V5Ym9hcmRQYW5PZmZzZXQpLHRoaXMuX3NldFpvb21PZmZzZXQodC5vcHRpb25zLmtleWJvYXJkWm9vbU9mZnNldCl9LGFkZEhvb2tzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9jb250YWluZXI7LTE9PT10LnRhYkluZGV4JiYodC50YWJJbmRleD0iMCIpLG4uRG9tRXZlbnQub24odCwiZm9jdXMiLHRoaXMuX29uRm9jdXMsdGhpcykub24odCwiYmx1ciIsdGhpcy5fb25CbHVyLHRoaXMpLm9uKHQsIm1vdXNlZG93biIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyksdGhpcy5fbWFwLm9uKCJmb2N1cyIsdGhpcy5fYWRkSG9va3MsdGhpcykub24oImJsdXIiLHRoaXMuX3JlbW92ZUhvb2tzLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUhvb2tzKCk7dmFyIHQ9dGhpcy5fbWFwLl9jb250YWluZXI7bi5Eb21FdmVudC5vZmYodCwiZm9jdXMiLHRoaXMuX29uRm9jdXMsdGhpcykub2ZmKHQsImJsdXIiLHRoaXMuX29uQmx1cix0aGlzKS5vZmYodCwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93bix0aGlzKSx0aGlzLl9tYXAub2ZmKCJmb2N1cyIsdGhpcy5fYWRkSG9va3MsdGhpcykub2ZmKCJibHVyIix0aGlzLl9yZW1vdmVIb29rcyx0aGlzKX0sX29uTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZHx8dGhpcy5fbWFwLl9jb250YWluZXIuZm9jdXMoKX0sX29uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9mb2N1c2VkPSEwLHRoaXMuX21hcC5maXJlKCJmb2N1cyIpfSxfb25CbHVyOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMSx0aGlzLl9tYXAuZmlyZSgiYmx1ciIpfSxfc2V0UGFuT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl9wYW5LZXlzPXt9LG89dGhpcy5rZXlDb2Rlcztmb3IoZT0wLGk9by5sZWZ0Lmxlbmd0aDtpPmU7ZSsrKW5bby5sZWZ0W2VdXT1bLTEqdCwwXTtmb3IoZT0wLGk9by5yaWdodC5sZW5ndGg7aT5lO2UrKyluW28ucmlnaHRbZV1dPVt0LDBdO2ZvcihlPTAsaT1vLmRvd24ubGVuZ3RoO2k+ZTtlKyspbltvLmRvd25bZV1dPVswLHRdO2ZvcihlPTAsaT1vLnVwLmxlbmd0aDtpPmU7ZSsrKW5bby51cFtlXV09WzAsLTEqdF19LF9zZXRab29tT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl96b29tS2V5cz17fSxvPXRoaXMua2V5Q29kZXM7Zm9yKGU9MCxpPW8uem9vbUluLmxlbmd0aDtpPmU7ZSsrKW5bby56b29tSW5bZV1dPXQ7Zm9yKGU9MCxpPW8uem9vbU91dC5sZW5ndGg7aT5lO2UrKyluW28uem9vbU91dFtlXV09LXR9LF9hZGRIb29rczpmdW5jdGlvbigpe24uRG9tRXZlbnQub24oZSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLHRoaXMpfSxfcmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXtuLkRvbUV2ZW50Lm9mZihlLCJrZXlkb3duIix0aGlzLl9vbktleURvd24sdGhpcyl9LF9vbktleURvd246ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXlDb2RlLGk9dGhpcy5fbWFwO2lmKHRoaXMuX3BhbktleXMuaGFzT3duUHJvcGVydHkoZSkpaS5wYW5CeSh0aGlzLl9wYW5LZXlzW2VdKSxpLm9wdGlvbnMubWF4Qm91bmRzJiZpLnBhbkluc2lkZUJvdW5kcyhpLm9wdGlvbnMubWF4Qm91bmRzKTtlbHNle2lmKCF0aGlzLl96b29tS2V5cy5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm47aS5zZXRab29tKGkuZ2V0Wm9vbSgpK3RoaXMuX3pvb21LZXlzW2VdKX1uLkRvbUV2ZW50LnN0b3AodCl9fSksbi5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJrZXlib2FyZCIsbi5NYXAuS2V5Ym9hcmQpLG4uSGFuZGxlci5NYXJrZXJEcmFnPW4uSGFuZGxlci5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFya2VyPXR9LGFkZEhvb2tzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFya2VyLl9pY29uO3RoaXMuX2RyYWdnYWJsZXx8KHRoaXMuX2RyYWdnYWJsZT1uZXcgbi5EcmFnZ2FibGUodCx0KS5vbigiZHJhZ3N0YXJ0Iix0aGlzLl9vbkRyYWdTdGFydCx0aGlzKS5vbigiZHJhZyIsdGhpcy5fb25EcmFnLHRoaXMpLm9uKCJkcmFnZW5kIix0aGlzLl9vbkRyYWdFbmQsdGhpcykpLHRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3RoaXMuX21hcmtlci5jbG9zZVBvcHVwKCkuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiZHJhZ3N0YXJ0Iil9LF9vbkRyYWc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXJrZXIsZT10Ll9zaGFkb3csaT1uLkRvbVV0aWwuZ2V0UG9zaXRpb24odC5faWNvbiksbz10Ll9tYXAubGF5ZXJQb2ludFRvTGF0TG5nKGkpO2UmJm4uRG9tVXRpbC5zZXRQb3NpdGlvbihlLGkpLHQuX2xhdGxuZz1vLHQuZmlyZSgibW92ZSIse2xhdGxuZzpvfSkuZmlyZSgiZHJhZyIpfSxfb25EcmFnRW5kOmZ1bmN0aW9uKCl7dGhpcy5fbWFya2VyLmZpcmUoIm1vdmVlbmQiKS5maXJlKCJkcmFnZW5kIil9fSksbi5IYW5kbGVyLlBvbHlFZGl0PW4uSGFuZGxlci5leHRlbmQoe29wdGlvbnM6e2ljb246bmV3IG4uRGl2SWNvbih7aWNvblNpemU6bmV3IG4uUG9pbnQoOCw4KSxjbGFzc05hbWU6ImxlYWZsZXQtZGl2LWljb24gbGVhZmxldC1lZGl0aW5nLWljb24ifSl9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl9wb2x5PXQsbi5zZXRPcHRpb25zKHRoaXMsZSl9LGFkZEhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fcG9seS5fbWFwJiYodGhpcy5fbWFya2VyR3JvdXB8fHRoaXMuX2luaXRNYXJrZXJzKCksdGhpcy5fcG9seS5fbWFwLmFkZExheWVyKHRoaXMuX21hcmtlckdyb3VwKSl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fcG9seS5fbWFwJiYodGhpcy5fcG9seS5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX21hcmtlckdyb3VwKSxkZWxldGUgdGhpcy5fbWFya2VyR3JvdXAsZGVsZXRlIHRoaXMuX21hcmtlcnMpfSx1cGRhdGVNYXJrZXJzOmZ1bmN0aW9uKCl7dGhpcy5fbWFya2VyR3JvdXAuY2xlYXJMYXllcnMoKSx0aGlzLl9pbml0TWFya2VycygpfSxfaW5pdE1hcmtlcnM6ZnVuY3Rpb24oKXt0aGlzLl9tYXJrZXJHcm91cHx8KHRoaXMuX21hcmtlckdyb3VwPW5ldyBuLkxheWVyR3JvdXApLHRoaXMuX21hcmtlcnM9W107dmFyIHQsZSxpLG8scz10aGlzLl9wb2x5Ll9sYXRsbmdzO2Zvcih0PTAsaT1zLmxlbmd0aDtpPnQ7dCsrKW89dGhpcy5fY3JlYXRlTWFya2VyKHNbdF0sdCksby5vbigiY2xpY2siLHRoaXMuX29uTWFya2VyQ2xpY2ssdGhpcyksdGhpcy5fbWFya2Vycy5wdXNoKG8pO3ZhciBhLHI7Zm9yKHQ9MCxlPWktMTtpPnQ7ZT10KyspKDAhPT10fHxuLlBvbHlnb24mJnRoaXMuX3BvbHkgaW5zdGFuY2VvZiBuLlBvbHlnb24pJiYoYT10aGlzLl9tYXJrZXJzW2VdLHI9dGhpcy5fbWFya2Vyc1t0XSx0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIoYSxyKSx0aGlzLl91cGRhdGVQcmV2TmV4dChhLHIpKX0sX2NyZWF0ZU1hcmtlcjpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBuLk1hcmtlcih0LHtkcmFnZ2FibGU6ITAsaWNvbjp0aGlzLm9wdGlvbnMuaWNvbn0pO3JldHVybiBpLl9vcmlnTGF0TG5nPXQsaS5faW5kZXg9ZSxpLm9uKCJkcmFnIix0aGlzLl9vbk1hcmtlckRyYWcsdGhpcyksaS5vbigiZHJhZ2VuZCIsdGhpcy5fZmlyZUVkaXQsdGhpcyksdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIoaSksaX0sX2ZpcmVFZGl0OmZ1bmN0aW9uKCl7dGhpcy5fcG9seS5maXJlKCJlZGl0Iil9LF9vbk1hcmtlckRyYWc6ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQ7bi5leHRlbmQoZS5fb3JpZ0xhdExuZyxlLl9sYXRsbmcpLGUuX21pZGRsZUxlZnQmJmUuX21pZGRsZUxlZnQuc2V0TGF0TG5nKHRoaXMuX2dldE1pZGRsZUxhdExuZyhlLl9wcmV2LGUpKSxlLl9taWRkbGVSaWdodCYmZS5fbWlkZGxlUmlnaHQuc2V0TGF0TG5nKHRoaXMuX2dldE1pZGRsZUxhdExuZyhlLGUuX25leHQpKSx0aGlzLl9wb2x5LnJlZHJhdygpfSxfb25NYXJrZXJDbGljazpmdW5jdGlvbih0KXtpZighKDM+dGhpcy5fcG9seS5fbGF0bG5ncy5sZW5ndGgpKXt2YXIgZT10LnRhcmdldCxpPWUuX2luZGV4O3RoaXMuX21hcmtlckdyb3VwLnJlbW92ZUxheWVyKGUpLHRoaXMuX21hcmtlcnMuc3BsaWNlKGksMSksdGhpcy5fcG9seS5zcGxpY2VMYXRMbmdzKGksMSksdGhpcy5fdXBkYXRlSW5kZXhlcyhpLC0xKSx0aGlzLl91cGRhdGVQcmV2TmV4dChlLl9wcmV2LGUuX25leHQpLGUuX21pZGRsZUxlZnQmJnRoaXMuX21hcmtlckdyb3VwLnJlbW92ZUxheWVyKGUuX21pZGRsZUxlZnQpLGUuX21pZGRsZVJpZ2h0JiZ0aGlzLl9tYXJrZXJHcm91cC5yZW1vdmVMYXllcihlLl9taWRkbGVSaWdodCksZS5fcHJldiYmZS5fbmV4dD90aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIoZS5fcHJldixlLl9uZXh0KTplLl9wcmV2P2UuX25leHR8fChlLl9wcmV2Ll9taWRkbGVSaWdodD1udWxsKTplLl9uZXh0Ll9taWRkbGVMZWZ0PW51bGwsdGhpcy5fcG9seS5maXJlKCJlZGl0Iil9fSxfdXBkYXRlSW5kZXhlczpmdW5jdGlvbih0LGUpe3RoaXMuX21hcmtlckdyb3VwLmVhY2hMYXllcihmdW5jdGlvbihpKXtpLl9pbmRleD50JiYoaS5faW5kZXgrPWUpfSl9LF9jcmVhdGVNaWRkbGVNYXJrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8scz10aGlzLl9nZXRNaWRkbGVMYXRMbmcodCxlKSxhPXRoaXMuX2NyZWF0ZU1hcmtlcihzKTthLnNldE9wYWNpdHkoLjYpLHQuX21pZGRsZVJpZ2h0PWUuX21pZGRsZUxlZnQ9YSxuPWZ1bmN0aW9uKCl7dmFyIG49ZS5faW5kZXg7YS5faW5kZXg9bixhLm9mZigiY2xpY2siLGkpLm9uKCJjbGljayIsdGhpcy5fb25NYXJrZXJDbGljayx0aGlzKSxzLmxhdD1hLmdldExhdExuZygpLmxhdCxzLmxuZz1hLmdldExhdExuZygpLmxuZyx0aGlzLl9wb2x5LnNwbGljZUxhdExuZ3MobiwwLHMpLHRoaXMuX21hcmtlcnMuc3BsaWNlKG4sMCxhKSxhLnNldE9wYWNpdHkoMSksdGhpcy5fdXBkYXRlSW5kZXhlcyhuLDEpLGUuX2luZGV4KyssdGhpcy5fdXBkYXRlUHJldk5leHQodCxhKSx0aGlzLl91cGRhdGVQcmV2TmV4dChhLGUpfSxvPWZ1bmN0aW9uKCl7YS5vZmYoImRyYWdzdGFydCIsbix0aGlzKSxhLm9mZigiZHJhZ2VuZCIsbyx0aGlzKSx0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIodCxhKSx0aGlzLl9jcmVhdGVNaWRkbGVNYXJrZXIoYSxlKX0saT1mdW5jdGlvbigpe24uY2FsbCh0aGlzKSxvLmNhbGwodGhpcyksdGhpcy5fcG9seS5maXJlKCJlZGl0Iil9LGEub24oImNsaWNrIixpLHRoaXMpLm9uKCJkcmFnc3RhcnQiLG4sdGhpcykub24oImRyYWdlbmQiLG8sdGhpcyksdGhpcy5fbWFya2VyR3JvdXAuYWRkTGF5ZXIoYSl9LF91cGRhdGVQcmV2TmV4dDpmdW5jdGlvbih0LGUpe3QmJih0Ll9uZXh0PWUpLGUmJihlLl9wcmV2PXQpfSxfZ2V0TWlkZGxlTGF0TG5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fcG9seS5fbWFwLG49aS5sYXRMbmdUb0xheWVyUG9pbnQodC5nZXRMYXRMbmcoKSksbz1pLmxhdExuZ1RvTGF5ZXJQb2ludChlLmdldExhdExuZygpKTtyZXR1cm4gaS5sYXllclBvaW50VG9MYXRMbmcobi5fYWRkKG8pLl9kaXZpZGVCeSgyKSl9fSksbi5Qb2x5bGluZS5hZGRJbml0SG9vayhmdW5jdGlvbigpe24uSGFuZGxlci5Qb2x5RWRpdCYmKHRoaXMuZWRpdGluZz1uZXcgbi5IYW5kbGVyLlBvbHlFZGl0KHRoaXMpLHRoaXMub3B0aW9ucy5lZGl0YWJsZSYmdGhpcy5lZGl0aW5nLmVuYWJsZSgpKSx0aGlzLm9uKCJhZGQiLGZ1bmN0aW9uKCl7dGhpcy5lZGl0aW5nJiZ0aGlzLmVkaXRpbmcuZW5hYmxlZCgpJiZ0aGlzLmVkaXRpbmcuYWRkSG9va3MoKX0pLHRoaXMub24oInJlbW92ZSIsZnVuY3Rpb24oKXt0aGlzLmVkaXRpbmcmJnRoaXMuZWRpdGluZy5lbmFibGVkKCkmJnRoaXMuZWRpdGluZy5yZW1vdmVIb29rcygpfSl9KSxuLkNvbnRyb2w9bi5DbGFzcy5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJ0b3ByaWdodCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7bi5zZXRPcHRpb25zKHRoaXMsdCl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbn0sc2V0UG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwO3JldHVybiBlJiZlLnJlbW92ZUNvbnRyb2wodGhpcyksdGhpcy5vcHRpb25zLnBvc2l0aW9uPXQsZSYmZS5hZGRDb250cm9sKHRoaXMpLHRoaXMKfSxhZGRUbzpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dDt2YXIgZT10aGlzLl9jb250YWluZXI9dGhpcy5vbkFkZCh0KSxpPXRoaXMuZ2V0UG9zaXRpb24oKSxvPXQuX2NvbnRyb2xDb3JuZXJzW2ldO3JldHVybiBuLkRvbVV0aWwuYWRkQ2xhc3MoZSwibGVhZmxldC1jb250cm9sIiksLTEhPT1pLmluZGV4T2YoImJvdHRvbSIpP28uaW5zZXJ0QmVmb3JlKGUsby5maXJzdENoaWxkKTpvLmFwcGVuZENoaWxkKGUpLHRoaXN9LHJlbW92ZUZyb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb3NpdGlvbigpLGk9dC5fY29udHJvbENvcm5lcnNbZV07cmV0dXJuIGkucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXA9bnVsbCx0aGlzLm9uUmVtb3ZlJiZ0aGlzLm9uUmVtb3ZlKHQpLHRoaXN9fSksbi5jb250cm9sPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5Db250cm9sKHQpfSxuLk1hcC5pbmNsdWRlKHthZGRDb250cm9sOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZFRvKHRoaXMpLHRoaXN9LHJlbW92ZUNvbnRyb2w6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVtb3ZlRnJvbSh0aGlzKSx0aGlzfSxfaW5pdENvbnRyb2xQb3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQscyl7dmFyIGE9aSt0KyIgIitpK3M7ZVt0K3NdPW4uRG9tVXRpbC5jcmVhdGUoImRpdiIsYSxvKX12YXIgZT10aGlzLl9jb250cm9sQ29ybmVycz17fSxpPSJsZWFmbGV0LSIsbz10aGlzLl9jb250cm9sQ29udGFpbmVyPW4uRG9tVXRpbC5jcmVhdGUoImRpdiIsaSsiY29udHJvbC1jb250YWluZXIiLHRoaXMuX2NvbnRhaW5lcik7dCgidG9wIiwibGVmdCIpLHQoInRvcCIsInJpZ2h0IiksdCgiYm90dG9tIiwibGVmdCIpLHQoImJvdHRvbSIsInJpZ2h0Iil9fSksbi5Db250cm9sLlpvb209bi5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246InRvcGxlZnQifSxvbkFkZDpmdW5jdGlvbih0KXt2YXIgZT0ibGVhZmxldC1jb250cm9sLXpvb20iLGk9ImxlYWZsZXQtYmFyIixvPWkrIi1wYXJ0IixzPW4uRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiICIraSk7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oIisiLCJab29tIGluIixlKyItaW4gIitvKyIgIitvKyItdG9wIixzLHRoaXMuX3pvb21Jbix0aGlzKSx0aGlzLl96b29tT3V0QnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbigiLSIsIlpvb20gb3V0IixlKyItb3V0ICIrbysiICIrbysiLWJvdHRvbSIscyx0aGlzLl96b29tT3V0LHRoaXMpLHQub24oInpvb21lbmQiLHRoaXMuX3VwZGF0ZURpc2FibGVkLHRoaXMpLHN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKCJ6b29tZW5kIix0aGlzLl91cGRhdGVEaXNhYmxlZCx0aGlzKX0sX3pvb21JbjpmdW5jdGlvbih0KXt0aGlzLl9tYXAuem9vbUluKHQuc2hpZnRLZXk/MzoxKX0sX3pvb21PdXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwLnpvb21PdXQodC5zaGlmdEtleT8zOjEpfSxfY3JlYXRlQnV0dG9uOmZ1bmN0aW9uKHQsZSxpLG8scyxhKXt2YXIgcj1uLkRvbVV0aWwuY3JlYXRlKCJhIixpLG8pO3IuaW5uZXJIVE1MPXQsci5ocmVmPSIjIixyLnRpdGxlPWU7dmFyIGg9bi5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247cmV0dXJuIG4uRG9tRXZlbnQub24ociwiY2xpY2siLGgpLm9uKHIsIm1vdXNlZG93biIsaCkub24ociwiZGJsY2xpY2siLGgpLm9uKHIsImNsaWNrIixuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KS5vbihyLCJjbGljayIscyxhKSxyfSxfdXBkYXRlRGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT0ibGVhZmxldC1jb250cm9sLXpvb20tZGlzYWJsZWQiO24uRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tSW5CdXR0b24sZSksbi5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3pvb21PdXRCdXR0b24sZSksdC5fem9vbT09PXQuZ2V0TWluWm9vbSgpJiZuLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbixlKSx0Ll96b29tPT09dC5nZXRNYXhab29tKCkmJm4uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tSW5CdXR0b24sZSl9fSksbi5NYXAubWVyZ2VPcHRpb25zKHt6b29tQ29udHJvbDohMH0pLG4uTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnpvb21Db250cm9sJiYodGhpcy56b29tQ29udHJvbD1uZXcgbi5Db250cm9sLlpvb20sdGhpcy5hZGRDb250cm9sKHRoaXMuem9vbUNvbnRyb2wpKX0pLG4uY29udHJvbC56b29tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5Db250cm9sLlpvb20odCl9LG4uQ29udHJvbC5BdHRyaWJ1dGlvbj1uLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjoiYm90dG9tcmlnaHQiLHByZWZpeDonUG93ZXJlZCBieSA8YSBocmVmPSJodHRwOi8vbGVhZmxldGpzLmNvbSI+TGVhZmxldDwvYT4nfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe24uc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2F0dHJpYnV0aW9ucz17fX0sb25BZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcj1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtYXR0cmlidXRpb24iKSxuLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lciksdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkKS5vZmYoImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlKX0sc2V0UHJlZml4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucHJlZml4PXQsdGhpcy5fdXBkYXRlKCksdGhpc30sYWRkQXR0cmlidXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMuX2F0dHJpYnV0aW9uc1t0XXx8KHRoaXMuX2F0dHJpYnV0aW9uc1t0XT0wKSx0aGlzLl9hdHRyaWJ1dGlvbnNbdF0rKyx0aGlzLl91cGRhdGUoKSx0aGlzKTppfSxyZW1vdmVBdHRyaWJ1dGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5fYXR0cmlidXRpb25zW3RdLS0sdGhpcy5fdXBkYXRlKCksdGhpcyk6aX0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuX2F0dHJpYnV0aW9ucyl0aGlzLl9hdHRyaWJ1dGlvbnMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuX2F0dHJpYnV0aW9uc1tlXSYmdC5wdXNoKGUpO3ZhciBpPVtdO3RoaXMub3B0aW9ucy5wcmVmaXgmJmkucHVzaCh0aGlzLm9wdGlvbnMucHJlZml4KSx0Lmxlbmd0aCYmaS5wdXNoKHQuam9pbigiLCAiKSksdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1pLmpvaW4oIiAmIzgyMTI7ICIpfX0sX29uTGF5ZXJBZGQ6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRBdHRyaWJ1dGlvbih0LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSl9fSksbi5NYXAubWVyZ2VPcHRpb25zKHthdHRyaWJ1dGlvbkNvbnRyb2w6ITB9KSxuLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wmJih0aGlzLmF0dHJpYnV0aW9uQ29udHJvbD0obmV3IG4uQ29udHJvbC5BdHRyaWJ1dGlvbikuYWRkVG8odGhpcykpfSksbi5jb250cm9sLmF0dHJpYnV0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5Db250cm9sLkF0dHJpYnV0aW9uKHQpfSxuLkNvbnRyb2wuU2NhbGU9bi5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbWxlZnQiLG1heFdpZHRoOjEwMCxtZXRyaWM6ITAsaW1wZXJpYWw6ITAsdXBkYXRlV2hlbklkbGU6ITF9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBlPSJsZWFmbGV0LWNvbnRyb2wtc2NhbGUiLGk9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKSxvPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5fYWRkU2NhbGVzKG8sZSxpKSx0Lm9uKG8udXBkYXRlV2hlbklkbGU/Im1vdmVlbmQiOiJtb3ZlIix0aGlzLl91cGRhdGUsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZT8ibW92ZWVuZCI6Im1vdmUiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sX2FkZFNjYWxlczpmdW5jdGlvbih0LGUsaSl7dC5tZXRyaWMmJih0aGlzLl9tU2NhbGU9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpLHQuaW1wZXJpYWwmJih0aGlzLl9pU2NhbGU9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLmdldEJvdW5kcygpLGU9dC5nZXRDZW50ZXIoKS5sYXQsaT02Mzc4MTM3Kk1hdGguUEkqTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCksbj1pKih0LmdldE5vcnRoRWFzdCgpLmxuZy10LmdldFNvdXRoV2VzdCgpLmxuZykvMTgwLG89dGhpcy5fbWFwLmdldFNpemUoKSxzPXRoaXMub3B0aW9ucyxhPTA7by54PjAmJihhPW4qKHMubWF4V2lkdGgvby54KSksdGhpcy5fdXBkYXRlU2NhbGVzKHMsYSl9LF91cGRhdGVTY2FsZXM6ZnVuY3Rpb24odCxlKXt0Lm1ldHJpYyYmZSYmdGhpcy5fdXBkYXRlTWV0cmljKGUpLHQuaW1wZXJpYWwmJmUmJnRoaXMuX3VwZGF0ZUltcGVyaWFsKGUpfSxfdXBkYXRlTWV0cmljOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFJvdW5kTnVtKHQpO3RoaXMuX21TY2FsZS5zdHlsZS53aWR0aD10aGlzLl9nZXRTY2FsZVdpZHRoKGUvdCkrInB4Iix0aGlzLl9tU2NhbGUuaW5uZXJIVE1MPTFlMz5lP2UrIiBtIjplLzFlMysiIGttIn0sX3VwZGF0ZUltcGVyaWFsOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvPTMuMjgwODM5OSp0LHM9dGhpcy5faVNjYWxlO28+NTI4MD8oZT1vLzUyODAsaT10aGlzLl9nZXRSb3VuZE51bShlKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgoaS9lKSsicHgiLHMuaW5uZXJIVE1MPWkrIiBtaSIpOihuPXRoaXMuX2dldFJvdW5kTnVtKG8pLHMuc3R5bGUud2lkdGg9dGhpcy5fZ2V0U2NhbGVXaWR0aChuL28pKyJweCIscy5pbm5lckhUTUw9bisiIGZ0Iil9LF9nZXRTY2FsZVdpZHRoOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5tYXhXaWR0aCp0KS0xMH0sX2dldFJvdW5kTnVtOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucG93KDEwLChNYXRoLmZsb29yKHQpKyIiKS5sZW5ndGgtMSksaT10L2U7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6MSxlKml9fSksbi5jb250cm9sLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbi5Db250cm9sLlNjYWxlKHQpfSxuLkNvbnRyb2wuTGF5ZXJzPW4uQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e2NvbGxhcHNlZDohMCxwb3NpdGlvbjoidG9wcmlnaHQiLGF1dG9aSW5kZXg6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe24uc2V0T3B0aW9ucyh0aGlzLGkpLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXN0WkluZGV4PTAsdGhpcy5faGFuZGxpbmdDbGljaz0hMTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZ0aGlzLl9hZGRMYXllcih0W29dLG8pO2ZvcihvIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShvKSYmdGhpcy5fYWRkTGF5ZXIoZVtvXSxvLCEwKX0sb25BZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2luaXRMYXlvdXQoKSx0aGlzLl91cGRhdGUoKSx0Lm9uKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckNoYW5nZSx0aGlzKS5vbigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcyksdGhpcy5fY29udGFpbmVyfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpLm9mZigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpfSxhZGRCYXNlTGF5ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxhZGRPdmVybGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FkZExheWVyKHQsZSwhMCksdGhpcy5fdXBkYXRlKCksdGhpc30scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9bi5zdGFtcCh0KTtyZXR1cm4gZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl91cGRhdGUoKSx0aGlzfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PSJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzIixlPXRoaXMuX2NvbnRhaW5lcj1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQpO24uQnJvd3Nlci50b3VjaD9uLkRvbUV2ZW50Lm9uKGUsImNsaWNrIixuLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik6KG4uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oZSksbi5Eb21FdmVudC5vbihlLCJtb3VzZXdoZWVsIixuLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikpO3ZhciBpPXRoaXMuX2Zvcm09bi5Eb21VdGlsLmNyZWF0ZSgiZm9ybSIsdCsiLWxpc3QiKTtpZih0aGlzLm9wdGlvbnMuY29sbGFwc2VkKXtuLkRvbUV2ZW50Lm9uKGUsIm1vdXNlb3ZlciIsdGhpcy5fZXhwYW5kLHRoaXMpLm9uKGUsIm1vdXNlb3V0Iix0aGlzLl9jb2xsYXBzZSx0aGlzKTt2YXIgbz10aGlzLl9sYXllcnNMaW5rPW4uRG9tVXRpbC5jcmVhdGUoImEiLHQrIi10b2dnbGUiLGUpO28uaHJlZj0iIyIsby50aXRsZT0iTGF5ZXJzIixuLkJyb3dzZXIudG91Y2g/bi5Eb21FdmVudC5vbihvLCJjbGljayIsbi5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLm9uKG8sImNsaWNrIixuLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KS5vbihvLCJjbGljayIsdGhpcy5fZXhwYW5kLHRoaXMpOm4uRG9tRXZlbnQub24obywiZm9jdXMiLHRoaXMuX2V4cGFuZCx0aGlzKSx0aGlzLl9tYXAub24oIm1vdmVzdGFydCIsdGhpcy5fY29sbGFwc2UsdGhpcyl9ZWxzZSB0aGlzLl9leHBhbmQoKTt0aGlzLl9iYXNlTGF5ZXJzTGlzdD1uLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQrIi1iYXNlIixpKSx0aGlzLl9zZXBhcmF0b3I9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2Iix0KyItc2VwYXJhdG9yIixpKSx0aGlzLl9vdmVybGF5c0xpc3Q9bi5Eb21VdGlsLmNyZWF0ZSgiZGl2Iix0KyItb3ZlcmxheXMiLGkpLGUuYXBwZW5kQ2hpbGQoaSl9LF9hZGRMYXllcjpmdW5jdGlvbih0LGUsaSl7dmFyIG89bi5zdGFtcCh0KTt0aGlzLl9sYXllcnNbb109e2xheWVyOnQsbmFtZTplLG92ZXJsYXk6aX0sdGhpcy5vcHRpb25zLmF1dG9aSW5kZXgmJnQuc2V0WkluZGV4JiYodGhpcy5fbGFzdFpJbmRleCsrLHQuc2V0WkluZGV4KHRoaXMuX2xhc3RaSW5kZXgpKX0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbnRhaW5lcil7dGhpcy5fYmFzZUxheWVyc0xpc3QuaW5uZXJIVE1MPSIiLHRoaXMuX292ZXJsYXlzTGlzdC5pbm5lckhUTUw9IiI7dmFyIHQ9ITEsZT0hMTtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVycy5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIG49dGhpcy5fbGF5ZXJzW2ldO3RoaXMuX2FkZEl0ZW0obiksZT1lfHxuLm92ZXJsYXksdD10fHwhbi5vdmVybGF5fXRoaXMuX3NlcGFyYXRvci5zdHlsZS5kaXNwbGF5PWUmJnQ/IiI6Im5vbmUifX0sX29uTGF5ZXJDaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIGU9bi5zdGFtcCh0LmxheWVyKTt0aGlzLl9sYXllcnNbZV0mJiF0aGlzLl9oYW5kbGluZ0NsaWNrJiZ0aGlzLl91cGRhdGUoKX0sX2NyZWF0ZVJhZGlvRWxlbWVudDpmdW5jdGlvbih0LGkpe3ZhciBuPSc8aW5wdXQgdHlwZT0icmFkaW8iIGNsYXNzPSJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLXNlbGVjdG9yIiBuYW1lPSInK3QrJyInO2kmJihuKz0nIGNoZWNrZWQ9ImNoZWNrZWQiJyksbis9Ii8+Ijt2YXIgbz1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBvLmlubmVySFRNTD1uLG8uZmlyc3RDaGlsZH0sX2FkZEl0ZW06ZnVuY3Rpb24odCl7dmFyIGksbz1lLmNyZWF0ZUVsZW1lbnQoImxhYmVsIikscz10aGlzLl9tYXAuaGFzTGF5ZXIodC5sYXllcik7dC5vdmVybGF5PyhpPWUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpLnR5cGU9ImNoZWNrYm94IixpLmNsYXNzTmFtZT0ibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvciIsaS5kZWZhdWx0Q2hlY2tlZD1zKTppPXRoaXMuX2NyZWF0ZVJhZGlvRWxlbWVudCgibGVhZmxldC1iYXNlLWxheWVycyIscyksaS5sYXllcklkPW4uc3RhbXAodC5sYXllciksbi5Eb21FdmVudC5vbihpLCJjbGljayIsdGhpcy5fb25JbnB1dENsaWNrLHRoaXMpO3ZhciBhPWUuY3JlYXRlRWxlbWVudCgic3BhbiIpO2EuaW5uZXJIVE1MPSIgIit0Lm5hbWUsby5hcHBlbmRDaGlsZChpKSxvLmFwcGVuZENoaWxkKGEpO3ZhciByPXQub3ZlcmxheT90aGlzLl9vdmVybGF5c0xpc3Q6dGhpcy5fYmFzZUxheWVyc0xpc3Q7cmV0dXJuIHIuYXBwZW5kQ2hpbGQobyksb30sX29uSW5wdXRDbGljazpmdW5jdGlvbigpe3ZhciB0LGUsaSxuLG89dGhpcy5fZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKSxzPW8ubGVuZ3RoO2Zvcih0aGlzLl9oYW5kbGluZ0NsaWNrPSEwLHQ9MDtzPnQ7dCsrKWU9b1t0XSxpPXRoaXMuX2xheWVyc1tlLmxheWVySWRdLGUuY2hlY2tlZCYmIXRoaXMuX21hcC5oYXNMYXllcihpLmxheWVyKT8odGhpcy5fbWFwLmFkZExheWVyKGkubGF5ZXIpLGkub3ZlcmxheXx8KG49aS5sYXllcikpOiFlLmNoZWNrZWQmJnRoaXMuX21hcC5oYXNMYXllcihpLmxheWVyKSYmdGhpcy5fbWFwLnJlbW92ZUxheWVyKGkubGF5ZXIpO24mJih0aGlzLl9tYXAuc2V0Wm9vbSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKSx0aGlzLl9tYXAuZmlyZSgiYmFzZWxheWVyY2hhbmdlIix7bGF5ZXI6bn0pKSx0aGlzLl9oYW5kbGluZ0NsaWNrPSExfSxfZXhwYW5kOmZ1bmN0aW9uKCl7bi5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwibGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCIpfSxfY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lPXRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgiIGxlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQiLCIiKX19KSxuLmNvbnRyb2wubGF5ZXJzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG4uQ29udHJvbC5MYXllcnModCxlLGkpfSxuLlBvc0FuaW1hdGlvbj1uLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6bi5NaXhpbi5FdmVudHMscnVuOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLmZpcmUoInN0YXJ0IiksdC5zdHlsZVtuLkRvbVV0aWwuVFJBTlNJVElPTl09ImFsbCAiKyhpfHwuMjUpKyJzIGN1YmljLWJlemllcigwLDAsIisob3x8LjUpKyIsMSkiLG4uRG9tRXZlbnQub24odCxuLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQsdGhpcy5fb25UcmFuc2l0aW9uRW5kLHRoaXMpLG4uRG9tVXRpbC5zZXRQb3NpdGlvbih0LGUpLG4uVXRpbC5mYWxzZUZuKHQub2Zmc2V0V2lkdGgpLHRoaXMuX3N0ZXBUaW1lcj1zZXRJbnRlcnZhbChuLmJpbmQodGhpcy5maXJlLHRoaXMsInN0ZXAiKSw1MCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9pblByb2dyZXNzJiYobi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsLHRoaXMuX2dldFBvcygpKSx0aGlzLl9vblRyYW5zaXRpb25FbmQoKSxuLlV0aWwuZmFsc2VGbih0aGlzLl9lbC5vZmZzZXRXaWR0aCkpfSxfdHJhbnNmb3JtUmU6LygtP1tcZFwuXSspLCAoLT9bXGRcLl0rKVwpLyxfZ2V0UG9zOmZ1bmN0aW9uKCl7dmFyIGUsaSxvLHM9dGhpcy5fZWwsYT10LmdldENvbXB1dGVkU3R5bGUocyk7cmV0dXJuIG4uQnJvd3Nlci5hbnkzZD8obz1hW24uRG9tVXRpbC5UUkFOU0ZPUk1dLm1hdGNoKHRoaXMuX3RyYW5zZm9ybVJlKSxlPXBhcnNlRmxvYXQob1sxXSksaT1wYXJzZUZsb2F0KG9bMl0pKTooZT1wYXJzZUZsb2F0KGEubGVmdCksaT1wYXJzZUZsb2F0KGEudG9wKSksbmV3IG4uUG9pbnQoZSxpLCEwKX0sX29uVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe24uRG9tRXZlbnQub2ZmKHRoaXMuX2VsLG4uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9vblRyYW5zaXRpb25FbmQsdGhpcyksdGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5fZWwuc3R5bGVbbi5Eb21VdGlsLlRSQU5TSVRJT05dPSIiLGNsZWFySW50ZXJ2YWwodGhpcy5fc3RlcFRpbWVyKSx0aGlzLmZpcmUoInN0ZXAiKS5maXJlKCJlbmQiKSl9fSksbi5NYXAuaW5jbHVkZSh7c2V0VmlldzpmdW5jdGlvbih0LGUsaSl7ZT10aGlzLl9saW1pdFpvb20oZSk7dmFyIG49dGhpcy5fem9vbSE9PWU7aWYodGhpcy5fbG9hZGVkJiYhaSYmdGhpcy5fbGF5ZXJzKXt0aGlzLl9wYW5BbmltJiZ0aGlzLl9wYW5BbmltLnN0b3AoKTt2YXIgbz1uP3RoaXMuX3pvb21Ub0lmQ2xvc2UmJnRoaXMuX3pvb21Ub0lmQ2xvc2UodCxlKTp0aGlzLl9wYW5CeUlmQ2xvc2UodCk7aWYobylyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpc31yZXR1cm4gdGhpcy5fcmVzZXRWaWV3KHQsZSksdGhpc30scGFuQnk6ZnVuY3Rpb24odCxlLGkpe2lmKHQ9bi5wb2ludCh0KSwhdC54JiYhdC55KXJldHVybiB0aGlzO3RoaXMuX3BhbkFuaW18fCh0aGlzLl9wYW5BbmltPW5ldyBuLlBvc0FuaW1hdGlvbix0aGlzLl9wYW5BbmltLm9uKHtzdGVwOnRoaXMuX29uUGFuVHJhbnNpdGlvblN0ZXAsZW5kOnRoaXMuX29uUGFuVHJhbnNpdGlvbkVuZH0sdGhpcykpLHRoaXMuZmlyZSgibW92ZXN0YXJ0Iiksbi5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtcGFuLWFuaW0iKTt2YXIgbz1uLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSkuc3VidHJhY3QodCkuX3JvdW5kKCk7cmV0dXJuIHRoaXMuX3BhbkFuaW0ucnVuKHRoaXMuX21hcFBhbmUsbyxlfHwuMjUsaSksdGhpc30sX29uUGFuVHJhbnNpdGlvblN0ZXA6ZnVuY3Rpb24oKXt0aGlzLmZpcmUoIm1vdmUiKX0sX29uUGFuVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe24uRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tYXBQYW5lLCJsZWFmbGV0LXBhbi1hbmltIiksdGhpcy5maXJlKCJtb3ZlZW5kIil9LF9wYW5CeUlmQ2xvc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9mbG9vcigpO3JldHVybiB0aGlzLl9vZmZzZXRJc1dpdGhpblZpZXcoZSk/KHRoaXMucGFuQnkoZSksITApOiExfSxfb2Zmc2V0SXNXaXRoaW5WaWV3OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZXx8MSxuPXRoaXMuZ2V0U2l6ZSgpO3JldHVybiBNYXRoLmFicyh0LngpPD1uLngqaSYmTWF0aC5hYnModC55KTw9bi55Kml9fSksbi5Qb3NBbmltYXRpb249bi5Eb21VdGlsLlRSQU5TSVRJT04/bi5Qb3NBbmltYXRpb246bi5Qb3NBbmltYXRpb24uZXh0ZW5kKHtydW46ZnVuY3Rpb24odCxlLGksbyl7dGhpcy5zdG9wKCksdGhpcy5fZWw9dCx0aGlzLl9pblByb2dyZXNzPSEwLHRoaXMuX2R1cmF0aW9uPWl8fC4yNSx0aGlzLl9lYXNlT3V0UG93ZXI9MS9NYXRoLm1heChvfHwuNSwuMiksdGhpcy5fc3RhcnRQb3M9bi5Eb21VdGlsLmdldFBvc2l0aW9uKHQpLHRoaXMuX29mZnNldD1lLnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9zKSx0aGlzLl9zdGFydFRpbWU9K25ldyBEYXRlLHRoaXMuZmlyZSgic3RhcnQiKSx0aGlzLl9hbmltYXRlKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9pblByb2dyZXNzJiYodGhpcy5fc3RlcCgpLHRoaXMuX2NvbXBsZXRlKCkpfSxfYW5pbWF0ZTpmdW5jdGlvbigpe3RoaXMuX2FuaW1JZD1uLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hbmltYXRlLHRoaXMpLHRoaXMuX3N0ZXAoKX0sX3N0ZXA6ZnVuY3Rpb24oKXt2YXIgdD0rbmV3IERhdGUtdGhpcy5fc3RhcnRUaW1lLGU9MWUzKnRoaXMuX2R1cmF0aW9uO2U+dD90aGlzLl9ydW5GcmFtZSh0aGlzLl9lYXNlT3V0KHQvZSkpOih0aGlzLl9ydW5GcmFtZSgxKSx0aGlzLl9jb21wbGV0ZSgpKX0sX3J1bkZyYW1lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0YXJ0UG9zLmFkZCh0aGlzLl9vZmZzZXQubXVsdGlwbHlCeSh0KSk7bi5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsLGUpLHRoaXMuZmlyZSgic3RlcCIpfSxfY29tcGxldGU6ZnVuY3Rpb24oKXtuLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1JZCksdGhpcy5faW5Qcm9ncmVzcz0hMSx0aGlzLmZpcmUoImVuZCIpfSxfZWFzZU91dDpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLnBvdygxLXQsdGhpcy5fZWFzZU91dFBvd2VyKX19KSxuLk1hcC5tZXJnZU9wdGlvbnMoe3pvb21BbmltYXRpb246bi5Eb21VdGlsLlRSQU5TSVRJT04mJiFuLkJyb3dzZXIuYW5kcm9pZDIzJiYhbi5Ccm93c2VyLm1vYmlsZU9wZXJhfSksbi5Eb21VdGlsLlRSQU5TSVRJT04mJm4uTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCl7bi5Eb21FdmVudC5vbih0aGlzLl9tYXBQYW5lLG4uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9jYXRjaFRyYW5zaXRpb25FbmQsdGhpcyl9KSxuLk1hcC5pbmNsdWRlKG4uRG9tVXRpbC5UUkFOU0lUSU9OP3tfem9vbVRvSWZDbG9zZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2FuaW1hdGluZ1pvb20pcmV0dXJuITA7aWYoIXRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uKXJldHVybiExO3ZhciBpPXRoaXMuZ2V0Wm9vbVNjYWxlKGUpLG89dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9kaXZpZGVCeSgxLTEvaSk7aWYoIXRoaXMuX29mZnNldElzV2l0aGluVmlldyhvLDEpKXJldHVybiExO24uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXBQYW5lLCJsZWFmbGV0LXpvb20tYW5pbSIpLHRoaXMuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5maXJlKCJ6b29tYW5pbSIse2NlbnRlcjp0LHpvb206ZX0pO3ZhciBzPXRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKS5hZGQobyk7cmV0dXJuIHRoaXMuX3ByZXBhcmVUaWxlQmcoKSx0aGlzLl9ydW5BbmltYXRpb24odCxlLGkscyksITB9LF9jYXRjaFRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpbmdab29tJiZ0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCl9LF9ydW5BbmltYXRpb246ZnVuY3Rpb24odCxlLGksbyxzKXt0aGlzLl9hbmltYXRlVG9DZW50ZXI9dCx0aGlzLl9hbmltYXRlVG9ab29tPWUsdGhpcy5fYW5pbWF0aW5nWm9vbT0hMCxuLkRyYWdnYWJsZSYmKG4uRHJhZ2dhYmxlLl9kaXNhYmxlZD0hMCk7dmFyIGE9bi5Eb21VdGlsLlRSQU5TRk9STSxyPXRoaXMuX3RpbGVCZztjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJUaWxlQmdUaW1lciksbi5VdGlsLmZhbHNlRm4oci5vZmZzZXRXaWR0aCk7dmFyIGg9bi5Eb21VdGlsLmdldFNjYWxlU3RyaW5nKGksbyksbD1yLnN0eWxlW2FdO3Iuc3R5bGVbYV09cz9sKyIgIitoOmgrIiAiK2x9LF9wcmVwYXJlVGlsZUJnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZVBhbmUsZT10aGlzLl90aWxlQmc7aWYoZSYmdGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKGUpPi41JiYuNT50aGlzLl9nZXRMb2FkZWRUaWxlc1BlcmNlbnRhZ2UodCkpcmV0dXJuIHQuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0LmVtcHR5PSEwLHRoaXMuX3N0b3BMb2FkaW5nSW1hZ2VzKHQpLGk7ZXx8KGU9dGhpcy5fdGlsZUJnPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtdGlsZS1wYW5lIix0aGlzLl9tYXBQYW5lKSxlLnN0eWxlLnpJbmRleD0xKSxlLnN0eWxlW24uRG9tVXRpbC5UUkFOU0ZPUk1dPSIiLGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixlLmVtcHR5PSEwLHQuZW1wdHk9ITEsdGhpcy5fdGlsZVBhbmU9dGhpcy5fcGFuZXMudGlsZVBhbmU9ZTt2YXIgbz10aGlzLl90aWxlQmc9dDtuLkRvbVV0aWwuYWRkQ2xhc3MobywibGVhZmxldC16b29tLWFuaW1hdGVkIiksdGhpcy5fc3RvcExvYWRpbmdJbWFnZXMobyl9LF9nZXRMb2FkZWRUaWxlc1BlcmNlbnRhZ2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLG89MDtmb3IoZT0wLGk9bi5sZW5ndGg7aT5lO2UrKyluW2VdLmNvbXBsZXRlJiZvKys7cmV0dXJuIG8vaX0sX3N0b3BMb2FkaW5nSW1hZ2VzOmZ1bmN0aW9uKHQpe3ZhciBlLGksbyxzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpKTtmb3IoZT0wLGk9cy5sZW5ndGg7aT5lO2UrKylvPXNbZV0sby5jb21wbGV0ZXx8KG8ub25sb2FkPW4uVXRpbC5mYWxzZUZuLG8ub25lcnJvcj1uLlV0aWwuZmFsc2VGbixvLnNyYz1uLlV0aWwuZW1wdHlJbWFnZVVybCxvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobykpfSxfb25ab29tVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe3RoaXMuX3Jlc3RvcmVUaWxlRnJvbnQoKSxuLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0iKSxuLlV0aWwuZmFsc2VGbih0aGlzLl90aWxlQmcub2Zmc2V0V2lkdGgpLHRoaXMuX2FuaW1hdGluZ1pvb209ITEsdGhpcy5fcmVzZXRWaWV3KHRoaXMuX2FuaW1hdGVUb0NlbnRlcix0aGlzLl9hbmltYXRlVG9ab29tLCEwLCEwKSxuLkRyYWdnYWJsZSYmKG4uRHJhZ2dhYmxlLl9kaXNhYmxlZD0hMSl9LF9yZXN0b3JlVGlsZUZyb250OmZ1bmN0aW9uKCl7dGhpcy5fdGlsZVBhbmUuaW5uZXJIVE1MPSIiLHRoaXMuX3RpbGVQYW5lLnN0eWxlLnZpc2liaWxpdHk9IiIsdGhpcy5fdGlsZVBhbmUuc3R5bGUuekluZGV4PTIsdGhpcy5fdGlsZUJnLnN0eWxlLnpJbmRleD0xfSxfY2xlYXJUaWxlQmc6ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpbmdab29tfHx0aGlzLnRvdWNoWm9vbS5fem9vbWluZ3x8KHRoaXMuX3RpbGVCZy5pbm5lckhUTUw9IiIpfX06e30pLG4uTWFwLmluY2x1ZGUoe19kZWZhdWx0TG9jYXRlT3B0aW9uczp7d2F0Y2g6ITEsc2V0VmlldzohMSxtYXhab29tOjEvMCx0aW1lb3V0OjFlNCxtYXhpbXVtQWdlOjAsZW5hYmxlSGlnaEFjY3VyYWN5OiExfSxsb2NhdGU6ZnVuY3Rpb24odCl7aWYodD10aGlzLl9sb2NhdGlvbk9wdGlvbnM9bi5leHRlbmQodGhpcy5fZGVmYXVsdExvY2F0ZU9wdGlvbnMsdCksIW5hdmlnYXRvci5nZW9sb2NhdGlvbilyZXR1cm4gdGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcih7Y29kZTowLG1lc3NhZ2U6Ikdlb2xvY2F0aW9uIG5vdCBzdXBwb3J0ZWQuIn0pLHRoaXM7dmFyIGU9bi5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uUmVzcG9uc2UsdGhpcyksaT1uLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcix0aGlzKTtyZXR1cm4gdC53YXRjaD90aGlzLl9sb2NhdGlvbldhdGNoSWQ9bmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oZSxpLHQpOm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZSxpLHQpLHRoaXN9LHN0b3BMb2NhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLmdlb2xvY2F0aW9uJiZuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9sb2NhdGlvbldhdGNoSWQpLHRoaXN9LF9oYW5kbGVHZW9sb2NhdGlvbkVycm9yOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29kZSxpPXQubWVzc2FnZXx8KDE9PT1lPyJwZXJtaXNzaW9uIGRlbmllZCI6Mj09PWU/InBvc2l0aW9uIHVuYXZhaWxhYmxlIjoidGltZW91dCIpO3RoaXMuX2xvY2F0aW9uT3B0aW9ucy5zZXRWaWV3JiYhdGhpcy5fbG9hZGVkJiZ0aGlzLmZpdFdvcmxkKCksdGhpcy5maXJlKCJsb2NhdGlvbmVycm9yIix7Y29kZTplLG1lc3NhZ2U6Ikdlb2xvY2F0aW9uIGVycm9yOiAiK2krIi4ifSl9LF9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPTE4MCp0LmNvb3Jkcy5hY2N1cmFjeS80ZTcsaT0yKmUsbz10LmNvb3Jkcy5sYXRpdHVkZSxzPXQuY29vcmRzLmxvbmdpdHVkZSxhPW5ldyBuLkxhdExuZyhvLHMpLHI9bmV3IG4uTGF0TG5nKG8tZSxzLWkpLGg9bmV3IG4uTGF0TG5nKG8rZSxzK2kpLGw9bmV3IG4uTGF0TG5nQm91bmRzKHIsaCksdT10aGlzLl9sb2NhdGlvbk9wdGlvbnM7aWYodS5zZXRWaWV3KXt2YXIgYz1NYXRoLm1pbih0aGlzLmdldEJvdW5kc1pvb20obCksdS5tYXhab29tKTt0aGlzLnNldFZpZXcoYSxjKX10aGlzLmZpcmUoImxvY2F0aW9uZm91bmQiLHtsYXRsbmc6YSxib3VuZHM6bCxhY2N1cmFjeTp0LmNvb3Jkcy5hY2N1cmFjeX0pfX0pfSkodGhpcyxkb2N1bWVudCk7' type='text/javascript'></script>
    <script src='data:application/javascript;base64,KGZ1bmN0aW9uICgpIHsKCUwuVGlsZUxheWVyLlByb3ZpZGVyID0gTC5UaWxlTGF5ZXIuZXh0ZW5kKHsKCQlpbml0aWFsaXplOiBmdW5jdGlvbiAoYXJnLCBvcHRpb25zKSB7CgkJCXZhciBwcm92aWRlcnMgPSBMLlRpbGVMYXllci5Qcm92aWRlci5wcm92aWRlcnM7CgoJCQl2YXIgcGFydHMgPSBhcmcuc3BsaXQoJy4nKTsKCgkJCXZhciBwcm92aWRlck5hbWUgPSBwYXJ0c1swXTsKCQkJdmFyIHZhcmlhbnROYW1lID0gcGFydHNbMV07CgoJCQlpZiAoIXByb3ZpZGVyc1twcm92aWRlck5hbWVdKSB7CgkJCQl0aHJvdyAiTm8gc3VjaCBwcm92aWRlciAoIiArIHByb3ZpZGVyTmFtZSArICIpIjsKCQkJfQoKCQkJdmFyIHByb3ZpZGVyID0gewoJCQkJdXJsOiBwcm92aWRlcnNbcHJvdmlkZXJOYW1lXS51cmwsCgkJCQlvcHRpb25zOiBwcm92aWRlcnNbcHJvdmlkZXJOYW1lXS5vcHRpb25zCgkJCX07CgoJCQkvLyBvdmVyd3JpdGUgdmFsdWVzIGluIHByb3ZpZGVyIGZyb20gdmFyaWFudC4KCQkJaWYgKHZhcmlhbnROYW1lICYmICd2YXJpYW50cycgaW4gcHJvdmlkZXJzW3Byb3ZpZGVyTmFtZV0pIHsKCQkJCWlmICghKHZhcmlhbnROYW1lIGluIHByb3ZpZGVyc1twcm92aWRlck5hbWVdLnZhcmlhbnRzKSkgewoJCQkJCXRocm93ICJObyBzdWNoIG5hbWUgaW4gcHJvdmlkZXIgKCIgKyB2YXJpYW50TmFtZSArICIpIjsKCQkJCX0KCQkJCXZhciB2YXJpYW50ID0gcHJvdmlkZXJzW3Byb3ZpZGVyTmFtZV0udmFyaWFudHNbdmFyaWFudE5hbWVdOwoJCQkJcHJvdmlkZXIgPSB7CgkJCQkJdXJsOiB2YXJpYW50LnVybCB8fCBwcm92aWRlci51cmwsCgkJCQkJb3B0aW9uczogTC5VdGlsLmV4dGVuZCh7fSwgcHJvdmlkZXIub3B0aW9ucywgdmFyaWFudC5vcHRpb25zKQoJCQkJfTsKCQkJfSBlbHNlIGlmICh0eXBlb2YgcHJvdmlkZXIudXJsID09PSAnZnVuY3Rpb24nKSB7CgkJCQlwcm92aWRlci51cmwgPSBwcm92aWRlci51cmwocGFydHMuc3BsaWNlKDEpLmpvaW4oJy4nKSk7CgkJCX0KCgkJCS8vIHJlcGxhY2UgYXR0cmlidXRpb24gcGxhY2Vob2xkZXJzIHdpdGggdGhlaXIgdmFsdWVzIGZyb20gdG9wbGV2ZWwgcHJvdmlkZXIgYXR0cmlidXRpb24uCgkJCXZhciBhdHRyaWJ1dGlvbiA9IHByb3ZpZGVyLm9wdGlvbnMuYXR0cmlidXRpb247CgkJCWlmIChhdHRyaWJ1dGlvbi5pbmRleE9mKCd7YXR0cmlidXRpb24uJykgIT0gLTEpIHsKCQkJCXByb3ZpZGVyLm9wdGlvbnMuYXR0cmlidXRpb24gPSBhdHRyaWJ1dGlvbi5yZXBsYWNlKC9ce2F0dHJpYnV0aW9uLihcdyopXH0vLAoJCQkJCWZ1bmN0aW9uKG1hdGNoLCBhdHRyaWJ1dGlvbk5hbWUpewoJCQkJCQlyZXR1cm4gcHJvdmlkZXJzW2F0dHJpYnV0aW9uTmFtZV0ub3B0aW9ucy5hdHRyaWJ1dGlvbjsKCQkJCQl9KTsKCQkJfQoJCQkvLyBDb21wdXRlIGZpbmFsIG9wdGlvbnMgY29tYmluaW5nIHByb3ZpZGVyIG9wdGlvbnMgd2l0aCBhbnkgdXNlciBvdmVycmlkZXMKCQkJdmFyIGxheWVyX29wdHMgPSBMLlV0aWwuZXh0ZW5kKHt9LCBwcm92aWRlci5vcHRpb25zLCBvcHRpb25zKTsKCQkJTC5UaWxlTGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBwcm92aWRlci51cmwsIGxheWVyX29wdHMpOwoJCX0KCX0pOwoKCS8qKgoJICogRGVmaW5pdGlvbiBvZiBwcm92aWRlcnMuCgkgKiBzZWUgaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjdGlsZWxheWVyIGZvciBvcHRpb25zIGluIHRoZSBvcHRpb25zIG1hcC4KCSAqLwoJTC5UaWxlTGF5ZXIuUHJvdmlkZXIucHJvdmlkZXJzID0gewoJCU9wZW5TdHJlZXRNYXA6IHsKCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCgkJCW9wdGlvbnM6IHsKCQkJCWF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9Imh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZyI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCA8YSBocmVmPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvIj5DQy1CWS1TQTwvYT4nCgkJCX0sCgkJCXZhcmlhbnRzOiB7CgkJCQlNYXBuaWs6IHt9LAoJCQkJQmxhY2tBbmRXaGl0ZTogewoJCQkJCXVybDogJ2h0dHA6Ly97c30ud3d3LnRvb2xzZXJ2ZXIub3JnL3RpbGVzL2J3LW1hcG5pay97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJREU6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5kZS90aWxlcy9vc21kZS97en0ve3h9L3t5fS5wbmcnCgkJCQl9CgkJCX0KCQl9LAoJCU9wZW5DeWNsZU1hcDogewoJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbmN5Y2xlbWFwLm9yZy9jeWNsZS97en0ve3h9L3t5fS5wbmcnLAoJCQlvcHRpb25zOiB7CgkJCQlhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPSJodHRwOi8vd3d3Lm9wZW5jeWNsZW1hcC5vcmciPk9wZW5DeWNsZU1hcDwvYT4sIDxhIGhyZWY9Imh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZyI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCA8YSBocmVmPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjAvIj5DQy1CWS1TQTwvYT4nCgkJCX0KCQl9LAoJCVRodW5kZXJmb3Jlc3Q6IHsKCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLm9wZW5jeWNsZW1hcC5vcmcvY3ljbGUve3p9L3t4fS97eX0ucG5nJywKCQkJb3B0aW9uczogewoJCQkJYXR0cmlidXRpb246ICd7YXR0cmlidXRpb24uT3BlbkN5Y2xlTWFwfScKCQkJfSwKCQkJdmFyaWFudHM6IHsKCQkJCU9wZW5DeWNsZU1hcDoge30sCgkJCQlUcmFuc3BvcnQ6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUyLm9wZW5jeWNsZW1hcC5vcmcvdHJhbnNwb3J0L3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlMYW5kc2NhcGU6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUzLm9wZW5jeWNsZW1hcC5vcmcvbGFuZHNjYXBlL3t6fS97eH0ve3l9LnBuZycKCQkJCX0KCQkJfQoJCX0sCgkJTWFwUXVlc3RPcGVuOiB7CgkJCXVybDogJ2h0dHA6Ly9vdGlsZXtzfS5tcWNkbi5jb20vdGlsZXMvMS4wLjAvbWFwL3t6fS97eH0ve3l9LmpwZWcnLAoJCQlvcHRpb25zOiB7CgkJCQlhdHRyaWJ1dGlvbjogJ1RpbGVzIENvdXJ0ZXN5IG9mIDxhIGhyZWY9Imh0dHA6Ly93d3cubWFwcXVlc3QuY29tLyI+TWFwUXVlc3Q8L2E+ICZtZGFzaDsgTWFwIGRhdGEge2F0dHJpYnV0aW9uLk9wZW5TdHJlZXRNYXB9JywKCQkJCXN1YmRvbWFpbnM6ICcxMjM0JwoJCQl9LAoJCQl2YXJpYW50czogewoJCQkJT1NNOiB7fSwKCQkJCUFlcmlhbDp7CgkJCQkJdXJsOiAnaHR0cDovL29hdGlsZXtzfS5tcWNkbi5jb20vdGlsZXMvMS4wLjAvc2F0L3t6fS97eH0ve3l9LmpwZycsCgkJCQkJb3B0aW9uczogewoJCQkJCQlhdHRyaWJ1dGlvbjoKCQkJCQkJCSdUaWxlcyBDb3VydGVzeSBvZiA8YSBocmVmPSJodHRwOi8vd3d3Lm1hcHF1ZXN0LmNvbS8iPk1hcFF1ZXN0PC9hPiAmbWRhc2g7ICcgKwoJCQkJCQkJJ1BvcnRpb25zIENvdXJ0ZXN5IE5BU0EvSlBMLUNhbHRlY2ggYW5kIFUuUy4gRGVwYXJ0LiBvZiBBZ3JpY3VsdHVyZSwgRmFybSBTZXJ2aWNlIEFnZW5jeScKCQkJCQl9CgkJCQl9CgkJCX0KCQl9LAoJCU1hcEJveDogewoJCQl1cmw6IGZ1bmN0aW9uKGlkKSB7CgkJCQlyZXR1cm4gJ2h0dHA6Ly97c30udGlsZXMubWFwYm94LmNvbS92My8nICsgaWQgKyAnL3t6fS97eH0ve3l9LnBuZyc7CgkJCX0sCgkJCW9wdGlvbnM6IHsKCQkJCWF0dHJpYnV0aW9uOiAnSW1hZ2VyeSBmcm9tIDxhIGhyZWY9Imh0dHA6Ly9tYXBib3guY29tL2Fib3V0L21hcHMvIj5NYXBCb3g8L2E+ICZtZGFzaDsgTWFwIGRhdGEge2F0dHJpYnV0aW9uLk9wZW5TdHJlZXRNYXB9JywKCQkJCXN1YmRvbWFpbnM6ICdhYmNkJwoJCQl9CgkJfSwKCQlTdGFtZW46IHsKCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLnN0YW1lbi5jb20vdG9uZXIve3p9L3t4fS97eX0ucG5nJywKCQkJb3B0aW9uczogewoJCQkJYXR0cmlidXRpb246CgkJCQkJJ01hcCB0aWxlcyBieSA8YSBocmVmPSJodHRwOi8vc3RhbWVuLmNvbSI+U3RhbWVuIERlc2lnbjwvYT4sIDxhIGhyZWY9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMCI+Q0MgQlkgMy4wPC9hPiAmbWRhc2g7ICcgKwoJCQkJCSdNYXAgZGF0YSB7YXR0cmlidXRpb24uT3BlblN0cmVldE1hcH0nLAoJCQkJc3ViZG9tYWluczogJ2FiY2QnLAoJCQkJbWluWm9vbTogMCwKCQkJCW1heFpvb206IDIwCgkJCX0sCgkJCXZhcmlhbnRzOiB7CgkJCQlUb25lcjoge30sCgkJCQlUb25lckJhY2tncm91bmQ6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUuc3RhbWVuLmNvbS90b25lci1iYWNrZ3JvdW5kL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlUb25lckh5YnJpZDogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5zdGFtZW4uY29tL3RvbmVyLWh5YnJpZC97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJVG9uZXJMaW5lczogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5zdGFtZW4uY29tL3RvbmVyLWxpbmVzL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlUb25lckxhYmVsczogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5zdGFtZW4uY29tL3RvbmVyLWxhYmVscy97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJVG9uZXJMaXRlOiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLnN0YW1lbi5jb20vdG9uZXItbGl0ZS97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJVGVycmFpbjogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5zdGFtZW4uY29tL3RlcnJhaW4ve3p9L3t4fS97eX0uanBnJywKCQkJCQlvcHRpb25zOiB7CgkJCQkJCW1pblpvb206IDQsCgkJCQkJCW1heFpvb206IDE4CgkJCQkJfQoJCQkJfSwKCQkJCVdhdGVyY29sb3I6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUuc3RhbWVuLmNvbS93YXRlcmNvbG9yL3t6fS97eH0ve3l9LmpwZycsCgkJCQkJb3B0aW9uczogewoJCQkJCQltaW5ab29tOiAzLAoJCQkJCQltYXhab29tOiAxNgoJCQkJCX0KCQkJCX0KCQkJfQoJCX0sCgkJRXNyaTogewoJCQl1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfU3RyZWV0X01hcC9NYXBTZXJ2ZXIvdGlsZS97en0ve3l9L3t4fScsCgkJCW9wdGlvbnM6IHsKCQkJCWF0dHJpYnV0aW9uOiAnVGlsZXMgJmNvcHk7IEVzcmknCgkJCX0sCgkJCXZhcmlhbnRzOiB7CgkJCQlXb3JsZFN0cmVldE1hcDogewoJCQkJCW9wdGlvbnM6IHsKCQkJCQkJYXR0cmlidXRpb246ICd7YXR0cmlidXRpb24uRXNyaX0gJm1kYXNoOyBTb3VyY2U6IEVzcmksIERlTG9ybWUsIE5BVlRFUSwgVVNHUywgSW50ZXJtYXAsIGlQQywgTlJDQU4sIEVzcmkgSmFwYW4sIE1FVEksIEVzcmkgQ2hpbmEgKEhvbmcgS29uZyksIEVzcmkgKFRoYWlsYW5kKSwgVG9tVG9tLCAyMDEyJwoJCQkJCX0KCQkJCX0sCgkJCQlEZUxvcm1lOiB7CgkJCQkJdXJsOiAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1NwZWNpYWx0eS9EZUxvcm1lX1dvcmxkX0Jhc2VfTWFwL01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JywKCQkJCQlvcHRpb25zOiB7CgkJCQkJCW1pblpvb206IDEsCgkJCQkJCW1heFpvb206IDExLAoJCQkJCQlhdHRyaWJ1dGlvbjogJ3thdHRyaWJ1dGlvbi5Fc3JpfSAmbWRhc2g7IENvcHlyaWdodDogJmNvcHk7MjAxMiBEZUxvcm1lJwoJCQkJCX0KCQkJCX0sCgkJCQlXb3JsZFRvcG9NYXA6IHsKCQkJCQl1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfVG9wb19NYXAvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLAoJCQkJCW9wdGlvbnM6IHsKCQkJCQkJYXR0cmlidXRpb246ICd7YXR0cmlidXRpb24uRXNyaX0gJm1kYXNoOyBFc3JpLCBEZUxvcm1lLCBOQVZURVEsIFRvbVRvbSwgSW50ZXJtYXAsIGlQQywgVVNHUywgRkFPLCBOUFMsIE5SQ0FOLCBHZW9CYXNlLCBLYWRhc3RlciBOTCwgT3JkbmFuY2UgU3VydmV5LCBFc3JpIEphcGFuLCBNRVRJLCBFc3JpIENoaW5hIChIb25nIEtvbmcpLCBhbmQgdGhlIEdJUyBVc2VyIENvbW11bml0eScKCQkJCQl9CgkJCQl9LAoJCQkJV29ybGRJbWFnZXJ5OiB7CgkJCQkJdXJsOiAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLAoJCQkJCW9wdGlvbnM6IHsKCQkJCQkJYXR0cmlidXRpb246ICd7YXR0cmlidXRpb24uRXNyaX0gJm1kYXNoOyBTb3VyY2U6IEVzcmksIGktY3ViZWQsIFVTREEsIFVTR1MsIEFFWCwgR2VvRXllLCBHZXRtYXBwaW5nLCBBZXJvZ3JpZCwgSUdOLCBJR1AsIFVQUi1FR1AsIGFuZCB0aGUgR0lTIFVzZXIgQ29tbXVuaXR5JwoJCQkJCX0KCQkJCX0sCgkJCQlXb3JsZFRlcnJhaW46IHsKCQkJCQl1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfVGVycmFpbl9CYXNlL01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JywKCQkJCQlvcHRpb25zOiB7CgkJCQkJCW1heFpvb206IDEzLAoJCQkJCQlhdHRyaWJ1dGlvbjogJ3thdHRyaWJ1dGlvbi5Fc3JpfSAmbWRhc2g7IFNvdXJjZTogVVNHUywgRXNyaSwgVEFOQSwgRGVMb3JtZSwgYW5kIE5QUycKCQkJCQl9CgkJCQl9LAoJCQkJV29ybGRTaGFkZWRSZWxpZWY6IHsKCQkJCQl1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfU2hhZGVkX1JlbGllZi9NYXBTZXJ2ZXIvdGlsZS97en0ve3l9L3t4fScsCgkJCQkJb3B0aW9uczogewoJCQkJCQltYXhab29tOiAxMywKCQkJCQkJYXR0cmlidXRpb246ICd7YXR0cmlidXRpb24uRXNyaX0gJm1kYXNoOyBTb3VyY2U6IEVzcmknCgkJCQkJfQoJCQkJfSwKCQkJCVdvcmxkUGh5c2ljYWw6IHsKCQkJCQl1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfUGh5c2ljYWxfTWFwL01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JywKCQkJCQlvcHRpb25zOiB7CgkJCQkJCW1heFpvb206IDgsCgkJCQkJCWF0dHJpYnV0aW9uOiAne2F0dHJpYnV0aW9uLkVzcml9ICZtZGFzaDsgU291cmNlOiBVUyBOYXRpb25hbCBQYXJrIFNlcnZpY2UnCgkJCQkJfQoJCQkJfSwKCQkJCU9jZWFuQmFzZW1hcDogewoJCQkJCXVybDogJ2h0dHA6Ly9zZXJ2aWNlcy5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL09jZWFuX0Jhc2VtYXAvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLAoJCQkJCW9wdGlvbnM6IHsKCQkJCQkJbWF4Wm9vbTogMTMsCgkJCQkJCWF0dHJpYnV0aW9uOiAne2F0dHJpYnV0aW9uLkVzcml9ICZtZGFzaDsgU291cmNlczogR0VCQ08sIE5PQUEsIENIUywgT1NVLCBVTkgsIENTVU1CLCBOYXRpb25hbCBHZW9ncmFwaGljLCBEZUxvcm1lLCBOQVZURVEsIGFuZCBFc3JpJwoJCQkJCX0KCQkJCX0sCgkJCQlOYXRHZW9Xb3JsZE1hcDogewoJCQkJCXVybDogJ2h0dHA6Ly9zZXJ2aWNlcy5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL05hdEdlb19Xb3JsZF9NYXAvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLAoJCQkJCW9wdGlvbnM6IHsKCQkJCQkJbWF4Wm9vbTogMTYsCgkJCQkJCWF0dHJpYnV0aW9uOiAne2F0dHJpYnV0aW9uLkVzcml9ICZtZGFzaDsgTmF0aW9uYWwgR2VvZ3JhcGhpYywgRXNyaSwgRGVMb3JtZSwgTkFWVEVRLCBVTkVQLVdDTUMsIFVTR1MsIE5BU0EsIEVTQSwgTUVUSSwgTlJDQU4sIEdFQkNPLCBOT0FBLCBpUEMnCgkJCQkJfQoJCQkJfSwKCQkJCVdvcmxkR3JheUNhbnZhczogewoJCQkJCXVybDogJ2h0dHA6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9DYW52YXMvV29ybGRfTGlnaHRfR3JheV9CYXNlL01hcFNlcnZlci90aWxlL3t6fS97eX0ve3h9JywKCQkJCQlvcHRpb25zOiB7CgkJCQkJCW1heFpvb206IDE2LAoJCQkJCQlhdHRyaWJ1dGlvbjogJ3thdHRyaWJ1dGlvbi5Fc3JpfSAmbWRhc2g7IEVzcmksIERlTG9ybWUsIE5BVlRFUScKCQkJCQl9CgkJCQl9CgkJCX0KCQl9LAoJCU9wZW5XZWF0aGVyTWFwOiB7CgkJCW9wdGlvbnM6IHsKCQkJCWF0dHJpYnV0aW9uOiAnTWFwIGRhdGEgJmNvcHk7IDxhIGhyZWY9Imh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmciPk9wZW5XZWF0aGVyTWFwPC9hPicsCgkJCQlvcGFjaXR5OiAwLjUKCQkJfSwKCQkJdmFyaWFudHM6IHsKCQkJCUNsb3VkczogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5vcGVud2VhdGhlcm1hcC5vcmcvbWFwL2Nsb3Vkcy97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJQ2xvdWRzQ2xhc3NpYzogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5vcGVud2VhdGhlcm1hcC5vcmcvbWFwL2Nsb3Vkc19jbHMve3p9L3t4fS97eX0ucG5nJwoJCQkJfSwKCQkJCVByZWNpcGl0YXRpb246IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbndlYXRoZXJtYXAub3JnL21hcC9wcmVjaXBpdGF0aW9uL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlQcmVjaXBpdGF0aW9uQ2xhc3NpYzogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5vcGVud2VhdGhlcm1hcC5vcmcvbWFwL3ByZWNpcGl0YXRpb25fY2xzL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlSYWluOiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLm9wZW53ZWF0aGVybWFwLm9yZy9tYXAvcmFpbi97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJUmFpbkNsYXNzaWM6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbndlYXRoZXJtYXAub3JnL21hcC9yYWluX2Nscy97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJUHJlc3N1cmU6IHsKCQkJCQl1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbndlYXRoZXJtYXAub3JnL21hcC9wcmVzc3VyZS97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJUHJlc3N1cmVDb250b3VyOiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLm9wZW53ZWF0aGVybWFwLm9yZy9tYXAvcHJlc3N1cmVfY250ci97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJV2luZDogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5vcGVud2VhdGhlcm1hcC5vcmcvbWFwL3dpbmQve3p9L3t4fS97eX0ucG5nJwoJCQkJfSwKCQkJCVRlbXBlcmF0dXJlOiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS50aWxlLm9wZW53ZWF0aGVybWFwLm9yZy9tYXAvdGVtcC97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJU25vdzogewoJCQkJCXVybDogJ2h0dHA6Ly97c30udGlsZS5vcGVud2VhdGhlcm1hcC5vcmcvbWFwL3Nub3cve3p9L3t4fS97eX0ucG5nJwoJCQkJfQoJCQl9CgkJfSwKCQlOb2tpYTogewoJCQlvcHRpb25zOiB7CgkJCQlhdHRyaWJ1dGlvbjoKCQkJCQknTWFwICZjb3B5OyA8YSBocmVmPSJodHRwOi8vZGV2ZWxvcGVyLmhlcmUuY29tIj5Ob2tpYTwvYT4sIERhdGEgJmNvcHk7IE5BVlRFUSAyMDEyJywKCQkJCXN1YmRvbWFpbnM6ICcxMjM0JywKCQkJCWRldklEOiAneHl6JywgLy9UaGVzZSBiYXNlbWFwcyBhcmUgZnJlZSBhbmQgeW91IGNhbiBzaWduIHVwIGhlcmU6ICBodHRwOi8vZGV2ZWxvcGVyLmhlcmUuY29tL3BsYW5zCgkJCQlhcHBJRDogJ2FiYycKCQkJfSwKCQkJdmFyaWFudHM6IHsKCQkJCW5vcm1hbERheTogewoJCQkJCXVybDogJ2h0dHA6Ly97c30ubWFwdGlsZS5sYnMub3ZpLmNvbS9tYXB0aWxlci92Mi9tYXB0aWxlL25ld2VzdC9ub3JtYWwuZGF5L3t6fS97eH0ve3l9LzI1Ni9wbmc4P3Rva2VuPXtkZXZJRH0mYXBwX2lkPXthcHBJRH0nCgkJCQl9LAoJCQkJbm9ybWFsR3JleURheTogewoJCQkJCXVybDogJ2h0dHA6Ly97c30ubWFwdGlsZS5sYnMub3ZpLmNvbS9tYXB0aWxlci92Mi9tYXB0aWxlL25ld2VzdC9ub3JtYWwuZGF5LmdyZXkve3p9L3t4fS97eX0vMjU2L3BuZzg/dG9rZW49e2RldklEfSZhcHBfaWQ9e2FwcElEfScKCQkJCX0sCgkJCQlzYXRlbGxpdGVOb0xhYmVsc0RheTogewoJCQkJCXVybDogJ2h0dHA6Ly97c30ubWFwdGlsZS5sYnMub3ZpLmNvbS9tYXB0aWxlci92Mi9tYXB0aWxlL25ld2VzdC9zYXRlbGxpdGUuZGF5L3t6fS97eH0ve3l9LzI1Ni9wbmc4P3Rva2VuPXtkZXZJRH0mYXBwX2lkPXthcHBJRH0nCgkJCQl9LAoJCQkJc2F0ZWxsaXRlWWVzTGFiZWxzRGF5OiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS5tYXB0aWxlLmxicy5vdmkuY29tL21hcHRpbGVyL3YyL21hcHRpbGUvbmV3ZXN0L2h5YnJpZC5kYXkve3p9L3t4fS97eX0vMjU2L3BuZzg/dG9rZW49e2RldklEfSZhcHBfaWQ9e2FwcElEfScKCQkJCX0sCgkJCQl0ZXJyYWluRGF5OiB7CgkJCQkJdXJsOiAnaHR0cDovL3tzfS5tYXB0aWxlLmxicy5vdmkuY29tL21hcHRpbGVyL3YyL21hcHRpbGUvbmV3ZXN0L3RlcnJhaW4uZGF5L3t6fS97eH0ve3l9LzI1Ni9wbmc4P3Rva2VuPXtkZXZJRH0mYXBwX2lkPXthcHBJRH0nCgkJCQl9CgkJCX0KCQl9LAoJCUFjZXRhdGU6IHsKCQkJdXJsOiAnaHR0cDovL2F7c30uYWNldGF0ZS5nZW9pcS5jb20vdGlsZXMvYWNldGF0ZS1oaWxsc2hhZGluZy97en0ve3h9L3t5fS5wbmcnLAoJCQlvcHRpb25zOiB7CgkJCQlhdHRyaWJ1dGlvbjoKCQkJCQknJmNvcHk7MjAxMiBFc3JpICYgU3RhbWVuLCBEYXRhIGZyb20gT1NNIGFuZCBOYXR1cmFsIEVhcnRoJywKCQkJCXN1YmRvbWFpbnM6ICcwMTIzJywKCQkJCW1pblpvb206IDIsCgkJCQltYXhab29tOiAxOAoJCQl9LAoJCQl2YXJpYW50czogewoJCQkJYWxsOiB7fSwKCQkJCWJhc2VtYXA6IHsKCQkJCQl1cmw6ICdodHRwOi8vYXtzfS5hY2V0YXRlLmdlb2lxLmNvbS90aWxlcy9hY2V0YXRlLXNpbXBsZS97en0ve3h9L3t5fS5wbmcnCgkJCQl9LAoJCQkJdGVycmFpbjogewoJCQkJCXVybDogJ2h0dHA6Ly9he3N9LmFjZXRhdGUuZ2VvaXEuY29tL3RpbGVzL3RlcnJhaW4ve3p9L3t4fS97eX0ucG5nJwoJCQkJfSwKCQkJCWZvcmVncm91bmQ6IHsKCQkJCQl1cmw6ICdodHRwOi8vYXtzfS5hY2V0YXRlLmdlb2lxLmNvbS90aWxlcy9hY2V0YXRlLWZnL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQlyb2FkczogewoJCQkJCXVybDogJ2h0dHA6Ly9he3N9LmFjZXRhdGUuZ2VvaXEuY29tL3RpbGVzL2FjZXRhdGUtcm9hZHMve3p9L3t4fS97eX0ucG5nJwoJCQkJfSwKCQkJCWxhYmVsczogewoJCQkJCXVybDogJ2h0dHA6Ly9he3N9LmFjZXRhdGUuZ2VvaXEuY29tL3RpbGVzL2FjZXRhdGUtbGFiZWxzL3t6fS97eH0ve3l9LnBuZycKCQkJCX0sCgkJCQloaWxsc2hhZGluZzogewoJCQkJCXVybDogJ2h0dHA6Ly9he3N9LmFjZXRhdGUuZ2VvaXEuY29tL3RpbGVzL2hpbGxzaGFkaW5nL3t6fS97eH0ve3l9LnBuZycKCQkJCX0KCQkJfQoJCX0KCX07Cn0oKSk7CgpMLnRpbGVMYXllci5wcm92aWRlciA9IGZ1bmN0aW9uKHByb3ZpZGVyLCBvcHRpb25zKXsKCXJldHVybiBuZXcgTC5UaWxlTGF5ZXIuUHJvdmlkZXIocHJvdmlkZXIsIG9wdGlvbnMpOwp9OwoKTC5Db250cm9sLkxheWVycy5Qcm92aWRlZCA9IEwuQ29udHJvbC5MYXllcnMuZXh0ZW5kKHsKCQlpbml0aWFsaXplOiBmdW5jdGlvbihiYXNlLCBvdmVybGF5LCBvcHRpb25zKXsKCQkJCXZhciBmaXJzdDsKCQkJCWlmKGJhc2UubGVuZ3RoKXsKCQkJCQkJKGZ1bmN0aW9uKCl7CgkJCQkJCQkJdmFyIG91dCA9IHt9LAoJCQkJCQkJCWxlbiA9IGJhc2UubGVuZ3RoLAoJCQkJCQkJCWk9MDsKCQkJCQkJCQl3aGlsZShpPGxlbil7CgkJCQkJCQkJCQlpZiAoaSA9PT0gMCkgewoJCQkJCQkJCQkJCQlmaXJzdCA9IEwudGlsZUxheWVyLnByb3ZpZGVyKGJhc2VbMF0pOwoJCQkJCQkJCQkJCQlvdXRbYmFzZVtpXS5yZXBsYWNlKC9cLi9nLCI6ICIpLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIiQxICQyIildID0gZmlyc3Q7CgkJCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQkJCQlvdXRbYmFzZVtpXS5yZXBsYWNlKC9cLi9nLCI6ICIpLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIiQxICQyIildID0gTC50aWxlTGF5ZXIucHJvdmlkZXIoYmFzZVtpXSk7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlpKys7CgkJCQkJCQkJfQoJCQkJCQkJCWJhc2UgPSBvdXQ7CgkJCQkJCX0oKSk7CgkJCQl0aGlzLl9maXJzdCA9IGZpcnN0OwoJCQkJfQoJCQkJaWYob3ZlcmxheSAmJiBvdmVybGF5Lmxlbmd0aCl7CgkJCQkJCShmdW5jdGlvbigpewoJCQkJCQkJCXZhciBvdXQgPSB7fSwKCQkJCQkJCQlsZW4gPSBvdmVybGF5Lmxlbmd0aCwKCQkJCQkJCQlpPTA7CgkJCQkJCQkJd2hpbGUoaTxsZW4pewoJCQkJCQkJCQkJb3V0W292ZXJsYXlbaV0ucmVwbGFjZSgvXC4vZywiOiAiKS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCIkMSAkMiIpXSA9IEwudGlsZUxheWVyLnByb3ZpZGVyKG92ZXJsYXlbaV0pOwoJCQkJCQkJCQkJaSsrOwoJCQkJCQkJCX0KCQkJCQkJCQlvdmVybGF5ID0gb3V0OwoJCQkJCQl9KCkpOwoJCQkJfQoJCQkJTC5Db250cm9sLkxheWVycy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGJhc2UsIG92ZXJsYXksIG9wdGlvbnMpOwoJCX0sCgkJb25BZGQ6IGZ1bmN0aW9uKG1hcCl7CgkJCQl0aGlzLl9maXJzdC5hZGRUbyhtYXApOwoJCQkJcmV0dXJuIEwuQ29udHJvbC5MYXllcnMucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTsKCQl9Cn0pOwpMLmNvbnRyb2wubGF5ZXJzLnByb3ZpZGVkID0gZnVuY3Rpb24gKGJhc2VMYXllcnMsIG92ZXJsYXlzLCBvcHRpb25zKSB7CgkJcmV0dXJuIG5ldyBMLkNvbnRyb2wuTGF5ZXJzLlByb3ZpZGVkKGJhc2VMYXllcnMsIG92ZXJsYXlzLCBvcHRpb25zKTsKfTsK' type='text/javascript'></script>
    <script src='data:application/javascript;base64,TC5Db250cm9sLkZ1bGxTY3JlZW4gPSBMLkNvbnRyb2wuZXh0ZW5kKHsKCW9wdGlvbnM6IHsKCQlwb3NpdGlvbjogJ3RvcGxlZnQnLAoJCXRpdGxlOiAnRnVsbCBTY3JlZW4nLAoJCWZvcmNlU2VwYXJhdGVCdXR0b246IGZhbHNlCgl9LAoJCglvbkFkZDogZnVuY3Rpb24gKG1hcCkgewoJCS8vIERvIG5vdGhpbmcgaWYgd2UgY2FuJ3QKCQlpZiAoIWZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuKQoJCQlyZXR1cm4gbWFwLnpvb21Db250cm9sLl9jb250YWluZXI7CgkJCgkJdmFyIGNvbnRhaW5lckNsYXNzID0gJ2xlYWZsZXQtY29udHJvbC16b29tJywgY2xhc3NOYW1lLCBjb250YWluZXI7CgkJCgkJaWYobWFwLnpvb21Db250cm9sICYmICF0aGlzLm9wdGlvbnMuZm9yY2VTZXBhcmF0ZUJ1dHRvbikgewoJCQljb250YWluZXIgPSBtYXAuem9vbUNvbnRyb2wuX2NvbnRhaW5lcjsKCQkJY2xhc3NOYW1lID0gJy1mdWxsc2NyZWVuIGxlYWZsZXQtYmFyLXBhcnQgbGVhZmxldC1iYXItcGFydC1ib3R0b20gbGFzdCc7CgkJCS8vIFVwZGF0ZSBjbGFzcyBvZiB0aGUgem9vbSBvdXQgYnV0dG9uIChMZWFmbGV0IHYwLjUpCgkJCWlmIChtYXAuem9vbUNvbnRyb2wuX3pvb21PdXRCdXR0b24pIHsKCQkJCUwuRG9tVXRpbC5yZW1vdmVDbGFzcyhtYXAuem9vbUNvbnRyb2wuX3pvb21PdXRCdXR0b24sICdsZWFmbGV0LWJhci1wYXJ0LWJvdHRvbScpOwoJCQl9CgkJfSBlbHNlIHsKCQkJY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY29udGFpbmVyQ2xhc3MpOwoJCQljbGFzc05hbWUgPSAnLWZ1bGxzY3JlZW4gbGVhZmxldC1iYXIgbGVhZmxldC1iYXItcGFydCBsYXN0JzsKCQl9CgkJCgkJdGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy50aXRsZSwgY29udGFpbmVyQ2xhc3MgKyBjbGFzc05hbWUsIGNvbnRhaW5lciwgdGhpcy50b29nbGVGdWxsU2NyZWVuLCBtYXApOwoKCQlyZXR1cm4gY29udGFpbmVyOwoJfSwKCQoJX2NyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gKHRpdGxlLCBjbGFzc05hbWUsIGNvbnRhaW5lciwgZm4sIGNvbnRleHQpIHsKCQl2YXIgbGluayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7CgkJbGluay5ocmVmID0gJyMnOwoJCWxpbmsudGl0bGUgPSB0aXRsZTsKCgkJTC5Eb21FdmVudAoJCQkuYWRkTGlzdGVuZXIobGluaywgJ2NsaWNrJywgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pCgkJCS5hZGRMaXN0ZW5lcihsaW5rLCAnY2xpY2snLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KQoJCQkuYWRkTGlzdGVuZXIobGluaywgJ2NsaWNrJywgZm4sIGNvbnRleHQpOwoJCQoJCUwuRG9tRXZlbnQKCQkJLmFkZExpc3RlbmVyKGNvbnRhaW5lciwgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikKCQkJLmFkZExpc3RlbmVyKGNvbnRhaW5lciwgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KQoJCQkuYWRkTGlzdGVuZXIoY29udGFpbmVyLCBmdWxsU2NyZWVuQXBpLmZ1bGxTY3JlZW5FdmVudE5hbWUsIHRoaXMuX2hhbmRsZUVzY0tleSwgY29udGV4dCk7CgkJCgkJTC5Eb21FdmVudAoJCQkuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIGZ1bGxTY3JlZW5BcGkuZnVsbFNjcmVlbkV2ZW50TmFtZSwgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pCgkJCS5hZGRMaXN0ZW5lcihkb2N1bWVudCwgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KQoJCQkuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIGZ1bGxTY3JlZW5BcGkuZnVsbFNjcmVlbkV2ZW50TmFtZSwgdGhpcy5faGFuZGxlRXNjS2V5LCBjb250ZXh0KTsKCgkJcmV0dXJuIGxpbms7Cgl9LAoJCgl0b29nbGVGdWxsU2NyZWVuOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fZXhpdEZpcmVkID0gZmFsc2U7CgkJaWYgKGZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuKXsKCQkJdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjsKCQkJaWYoZnVsbFNjcmVlbkFwaS5pc0Z1bGxTY3JlZW4oY29udGFpbmVyKSl7CgkJCQlmdWxsU2NyZWVuQXBpLmNhbmNlbEZ1bGxTY3JlZW4oY29udGFpbmVyKTsKCQkJCXRoaXMuaW52YWxpZGF0ZVNpemUoKTsKCQkJCXRoaXMuZmlyZSgnZXhpdEZ1bGxzY3JlZW4nKTsKCQkJCXRoaXMuX2V4aXRGaXJlZCA9IHRydWU7CgkJCX0KCQkJZWxzZSB7CgkJCQlmdWxsU2NyZWVuQXBpLnJlcXVlc3RGdWxsU2NyZWVuKGNvbnRhaW5lcik7CgkJCQl0aGlzLmludmFsaWRhdGVTaXplKCk7CgkJCQl0aGlzLmZpcmUoJ2VudGVyRnVsbHNjcmVlbicpOwoJCQl9CgkJfQoJfSwKCQoJX2hhbmRsZUVzY0tleTogZnVuY3Rpb24gKCkgewoJCWlmKCFmdWxsU2NyZWVuQXBpLmlzRnVsbFNjcmVlbih0aGlzKSAmJiAhdGhpcy5fZXhpdEZpcmVkKXsKCQkJdGhpcy5maXJlKCdleGl0RnVsbHNjcmVlbicpOwoJCQl0aGlzLl9leGl0RmlyZWQgPSB0cnVlOwoJCX0KCX0KfSk7CgpMLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7CglpZiAodGhpcy5vcHRpb25zLmZ1bGxzY3JlZW5Db250cm9sKSB7CgkJdGhpcy5mdWxsc2NyZWVuQ29udHJvbCA9IEwuY29udHJvbC5mdWxsc2NyZWVuKHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuQ29udHJvbE9wdGlvbnMpOwoJCXRoaXMuYWRkQ29udHJvbCh0aGlzLmZ1bGxzY3JlZW5Db250cm9sKTsKCX0KfSk7CgpMLmNvbnRyb2wuZnVsbHNjcmVlbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7CglyZXR1cm4gbmV3IEwuQ29udHJvbC5GdWxsU2NyZWVuKG9wdGlvbnMpOwp9OwoKLyogCk5hdGl2ZSBGdWxsU2NyZWVuIEphdmFTY3JpcHQgQVBJCi0tLS0tLS0tLS0tLS0KQXNzdW1lcyBNb3ppbGxhIG5hbWluZyBjb252ZW50aW9ucyBpbnN0ZWFkIG9mIFczQyBmb3Igbm93Cgpzb3VyY2UgOiBodHRwOi8vam9obmR5ZXIubmFtZS9uYXRpdmUtZnVsbHNjcmVlbi1qYXZhc2NyaXB0LWFwaS1wbHVzLWpxdWVyeS1wbHVnaW4vCgoqLwoKKGZ1bmN0aW9uKCkgewoJdmFyIAoJCWZ1bGxTY3JlZW5BcGkgPSB7IAoJCQlzdXBwb3J0c0Z1bGxTY3JlZW46IGZhbHNlLAoJCQlpc0Z1bGxTY3JlZW46IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0sIAoJCQlyZXF1ZXN0RnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7fSwgCgkJCWNhbmNlbEZ1bGxTY3JlZW46IGZ1bmN0aW9uKCkge30sCgkJCWZ1bGxTY3JlZW5FdmVudE5hbWU6ICcnLAoJCQlwcmVmaXg6ICcnCgkJfSwKCQlicm93c2VyUHJlZml4ZXMgPSAnd2Via2l0IG1veiBvIG1zIGtodG1sJy5zcGxpdCgnICcpOwoJCgkvLyBjaGVjayBmb3IgbmF0aXZlIHN1cHBvcnQKCWlmICh0eXBlb2YgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4gIT0gJ3VuZGVmaW5lZCcpIHsKCQlmdWxsU2NyZWVuQXBpLnN1cHBvcnRzRnVsbFNjcmVlbiA9IHRydWU7Cgl9IGVsc2UgewkgCgkJLy8gY2hlY2sgZm9yIGZ1bGxzY3JlZW4gc3VwcG9ydCBieSB2ZW5kb3IgcHJlZml4CgkJZm9yICh2YXIgaSA9IDAsIGlsID0gYnJvd3NlclByZWZpeGVzLmxlbmd0aDsgaSA8IGlsOyBpKysgKSB7CgkJCWZ1bGxTY3JlZW5BcGkucHJlZml4ID0gYnJvd3NlclByZWZpeGVzW2ldOwoJCQkKCQkJaWYgKHR5cGVvZiBkb2N1bWVudFtmdWxsU2NyZWVuQXBpLnByZWZpeCArICdDYW5jZWxGdWxsU2NyZWVuJyBdICE9ICd1bmRlZmluZWQnICkgewoJCQkJZnVsbFNjcmVlbkFwaS5zdXBwb3J0c0Z1bGxTY3JlZW4gPSB0cnVlOwoJCQkJCgkJCQlicmVhazsKCQkJfQoJCX0KCX0KCQoJLy8gdXBkYXRlIG1ldGhvZHMgdG8gZG8gc29tZXRoaW5nIHVzZWZ1bAoJaWYgKGZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuKSB7CgkJZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lID0gZnVsbFNjcmVlbkFwaS5wcmVmaXggKyAnZnVsbHNjcmVlbmNoYW5nZSc7CgkJCgkJZnVsbFNjcmVlbkFwaS5pc0Z1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHsKCQkJc3dpdGNoICh0aGlzLnByZWZpeCkgewkKCQkJCWNhc2UgJyc6CgkJCQkJcmV0dXJuIGRvY3VtZW50LmZ1bGxTY3JlZW47CgkJCQljYXNlICd3ZWJraXQnOgoJCQkJCXJldHVybiBkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW47CgkJCQlkZWZhdWx0OgoJCQkJCXJldHVybiBkb2N1bWVudFt0aGlzLnByZWZpeCArICdGdWxsU2NyZWVuJ107CgkJCX0KCQl9CgkJZnVsbFNjcmVlbkFwaS5yZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKGVsKSB7CgkJCXJldHVybiAodGhpcy5wcmVmaXggPT09ICcnKSA/IGVsLnJlcXVlc3RGdWxsc2NyZWVuKCkgOiBlbFt0aGlzLnByZWZpeCArICdSZXF1ZXN0RnVsbFNjcmVlbiddKCk7CgkJfQoJCWZ1bGxTY3JlZW5BcGkuY2FuY2VsRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKGVsKSB7CgkJCXJldHVybiAodGhpcy5wcmVmaXggPT09ICcnKSA/IGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkgOiBkb2N1bWVudFt0aGlzLnByZWZpeCArICdDYW5jZWxGdWxsU2NyZWVuJ10oKTsKCQl9CQkKCX0KCgkvLyBqUXVlcnkgcGx1Z2luCglpZiAodHlwZW9mIGpRdWVyeSAhPSAndW5kZWZpbmVkJykgewoJCWpRdWVyeS5mbi5yZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkgewoJCgkJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgZWwgPSBqUXVlcnkodGhpcyk7CgkJCQlpZiAoZnVsbFNjcmVlbkFwaS5zdXBwb3J0c0Z1bGxTY3JlZW4pIHsKCQkJCQlmdWxsU2NyZWVuQXBpLnJlcXVlc3RGdWxsU2NyZWVuKGVsKTsKCQkJCX0KCQkJfSk7CgkJfTsKCX0KCgkvLyBleHBvcnQgYXBpCgl3aW5kb3cuZnVsbFNjcmVlbkFwaSA9IGZ1bGxTY3JlZW5BcGk7CQp9KSgpOwo=' type='text/javascript'></script>
    
    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 800px;
      height: 400px;
    }  
    </style>
    
  </head>
  <body >
    
    <div id = 'chartc883550d29e' class = 'rChart leaflet'></div>    
    <script>
  var spec = {
 "dom": "chartc883550d29e",
"width":            800,
"height":            400,
"urlTemplate": "http://{s}.tile.osm.org/{z}/{x}/{y}.png",
"layerOpts": {
 "attribution": "Map data<a href=\"http://openstreetmap.org\">OpenStreetMap</a>\n         contributors, Imagery<a href=\"http://mapbox.com\">MapBox</a>" 
},
"center": [       40.73846,      -73.99413 ],
"zoom":             16,
"provider": "Stamen.TonerLite",
"id": "chartc883550d29e" 
}

  var map = L.map(spec.dom, spec.mapOpts)
  
    map.setView(spec.center, spec.zoom);

    if (spec.provider){
      L.tileLayer.provider(spec.provider).addTo(map)    
    } else {
		  L.tileLayer(spec.urlTemplate, spec.layerOpts).addTo(map)
    }
     
    
    
    
    
    
    if (spec.circle2){
      for (var c in spec.circle2){
        var circle = L.circle(c.center, c.radius, c.opts)
         .addTo(map);
      }
    }
    
    
    
    
    
   
   
   
</script>
    
    <script></script>    
  </body>
</html>
